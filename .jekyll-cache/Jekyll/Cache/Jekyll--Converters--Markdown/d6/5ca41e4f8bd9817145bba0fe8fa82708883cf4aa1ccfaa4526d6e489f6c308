I"êT<h1 id="hive"><a href="">hive</a></h1>

<h2 id="í•™ìŠµ">í•™ìŠµ</h2>
<ul>
  <li>MariaDB ì„¤ì¹˜</li>
  <li>hive ì„¤ì¹˜ ë° ì´í•´</li>
</ul>

<h2 id="ì‹¤ìŠµ">ì‹¤ìŠµ</h2>
<ul>
  <li>Mariadb
    <ul>
      <li>ì„¤ì¹˜
        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1) [root@dn01 ~]# yum install mariadb-server mariadb
2) [root@dn01 ~]# cd /tmp
3) [root@dn01 tmp]# systemctl enable mariadb.service
4) [root@dn01 tmp]# systemctl start mariadb.service
5) [root@dn01 tmp]# mysql_secure_installation
6) Enter current password for root (enter for none): enter
7) Set root password? [Y/n] n
8) New password: 1234
9) Re-enter new password: 1234
8) Remove anonymous users? [Y/n] n
9) Disallow root login remotely? [Y/n] n
10) Remove test database and access to it? [Y/n] n
11) Reload privilege tables now? [Y/n]
</code></pre></div>        </div>
      </li>
      <li>ì„¤ì •
        <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1<span class="o">)</span> <span class="o">[</span>root@dn01 tmp]# vi /etc/my.cnf
<span class="c">########## my.cnf ##########</span>
bind-address<span class="o">=</span>192.168.58.102
<span class="c">########## my.cnf ##########</span>
2<span class="o">)</span> <span class="o">[</span>root@dn01 tmp]# systemctl restart mariadb.service
</code></pre></div>        </div>
      </li>
      <li>ì ‘ì†
        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1) [root@dn01 tmp]# mysql -u root -p
2) Enter password: 1234
3) MariaDB [(none)]&gt; show databases;
</code></pre></div>        </div>
      </li>
      <li>ê¶Œí•œ ë¶€ì—¬
        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1) MariaDB [(none)]&gt; grant all privileges on *.* to hive@'%' identified by "hive" with grant option;
2) MariaDB [(none)]&gt; flush privileges;
3) MariaDB [(none)]&gt; grant all privileges on *.* to hive@'dn01' identified by "hive" with grant option;
4) MariaDB [(none)]&gt; flush privileges;
</code></pre></div>        </div>
      </li>
      <li>ê¶Œí•œ ë¶€ì—¬ í™•ì¸
        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1) MariaDB [(none)]&gt; use mysql;
2) MariaDB [mysql]&gt; select user, host from user;
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li>Hive
    <ul>
      <li>ì„¤ì¹˜
        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1) [root@dn01 ~]# cd /tmp
2) [root@dn01 tmp]# wget http://apache.mirror.cdnetworks.com/hive/hive-2.3.5/apache-hive-2.3.5-bin.tar.gz
3) [root@dn01 tmp]# tar xzvf apache-hive-2.3.5-bin.tar.gz
4) [root@dn01 tmp]# mkdir -p /opt/hive/2.3.5
5) [root@dn01 tmp]# mv apache-hive-2.3.5-bin/* /opt/hive/2.3.5/
6) [root@dn01 tmp]# ln -s /opt/hive/2.3.5 /opt/hive/current
</code></pre></div>        </div>
      </li>
      <li>í™˜ê²½ ë³€ìˆ˜ ì¶”ê°€
        <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1<span class="o">)</span> <span class="o">[</span>hadoop@dn01 ~]<span class="nv">$ </span>vi ~/.bash_profile
<span class="c">#### HIVE 2.3.5 #######################</span>
<span class="nb">export </span><span class="nv">HIVE_HOME</span><span class="o">=</span>/opt/hive/current
<span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:<span class="nv">$HIVE_HOME</span>/bin
<span class="nb">export </span><span class="nv">CLASSPATH</span><span class="o">=</span>.:<span class="k">${</span><span class="nv">JAVA_HOME</span><span class="k">}</span>/lib:<span class="k">${</span><span class="nv">JREHOME</span><span class="k">}</span>/lib:/opt/hive/current/lib
<span class="c">#### HIVE 2.3.5 #######################</span>
2<span class="o">)</span> <span class="o">[</span>hadoop@dn01 ~]<span class="nv">$ </span><span class="nb">source</span> .bash_profile
</code></pre></div>        </div>
      </li>
      <li>ì„¤ì • íŒŒì¼ ë³µì‚¬
        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1) [hadoop@dn01 ~]$ cp /opt/hive/current/conf/hive-env.sh.template /opt/hive/current/conf/hive-env.sh
2) [hadoop@dn01 ~]$ cp /opt/hive/current/conf/hive-default.xml.template /opt/hive/current/conf/hive-site.xml
</code></pre></div>        </div>
      </li>
      <li>ì„¤ì • íŒŒì¼ ìˆ˜ì •
        <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1<span class="o">)</span> vi /opt/hive/current/conf/hive-env.sh
<span class="c">######### hive-env.sh ##########</span>
<span class="nv">HADOOP_HOME</span><span class="o">=</span>/opt/hadoop/current
<span class="c">######### hive-env.sh ##########</span>
2<span class="o">)</span> <span class="o">[</span>hadoop@dn01 ~]<span class="nv">$ </span>vi /opt/hive/current/conf/hive-site.xml <span class="o">(</span>valueë§Œ ë°”ê¾¸ê¸°<span class="o">)</span>
<span class="c">########## hive-site.xml ##########</span>
<span class="c"># &lt;property&gt;</span>
<span class="c"># &lt;name&gt;javax.jdo.option.ConnectionURL&lt;/name&gt;</span>
<span class="c"># &lt;value&gt;jdbc:mysql://192.168.56.102:3306/hive?createDatabaseIfNotExist=true&lt;/value&gt;</span>
<span class="c"># &lt;description&gt;JDBC connect string for a JDBC metastore&lt;/description&gt;</span>
<span class="c"># &lt;/property&gt;</span>
<span class="c"># &lt;property&gt;</span>
<span class="c"># &lt;name&gt;javax.jdo.option.ConnectionDriverName&lt;/name&gt;</span>
<span class="c"># &lt;value&gt;com.mysql.jdbc.Driver&lt;/value&gt;</span>
<span class="c"># &lt;description&gt;Driver class name for a JDBC metastore&lt;/description&gt;</span>
<span class="c"># &lt;/property&gt;</span>
<span class="c"># &lt;property&gt;</span>
<span class="c"># &lt;name&gt;javax.jdo.option.ConnectionUserName&lt;/name&gt;</span>
<span class="c"># &lt;value&gt;hive&lt;/value&gt;</span>
<span class="c"># &lt;description&gt;username to use against metastore database&lt;/description&gt;</span>
<span class="c"># &lt;/property&gt;</span>
<span class="c"># &lt;property&gt;</span>
<span class="c"># &lt;name&gt;javax.jdo.option.ConnectionPassword&lt;/name&gt;</span>
<span class="c"># &lt;value&gt;hive&lt;/value&gt;</span>
<span class="c"># &lt;description&gt;password to use against metastore database&lt;/description&gt;</span>
<span class="c"># &lt;/property&gt;</span>
<span class="c"># &lt;property&gt; </span>
<span class="c"># &lt;name&gt;hive.exec.local.scratchdir&lt;/name&gt;</span>
<span class="c"># &lt;value&gt;/home/hadoop/iotmp&lt;/value&gt;</span>
<span class="c"># &lt;description&gt;Local scratch space for Hive jobs&lt;/description&gt;</span>
<span class="c"># &lt;/property&gt;</span>
<span class="c"># &lt;property&gt;</span>
<span class="c"># &lt;name&gt;hive.downloaded.resources.dir&lt;/name&gt;</span>
<span class="c"># &lt;value&gt;/home/hadoop/iotmp&lt;/value&gt;</span>
<span class="c"># &lt;description&gt;Temporary local directory for added resources in the remote file system.&lt;/description&gt;</span>
<span class="c"># &lt;/property&gt;</span>
<span class="c"># &lt;property&gt;</span>
<span class="c"># &lt;name&gt;hive.cli.print.current.db&lt;/name&gt;</span>
<span class="c"># &lt;value&gt;true&lt;/value&gt;</span>
<span class="c"># &lt;description&gt;Whether to include the current database in the Hive prompt.&lt;/description&gt;</span>
<span class="c"># &lt;/property&gt;</span>
<span class="c">########## hive-site.xml ##########</span>
</code></pre></div>        </div>
      </li>
      <li>ê´€ë ¨ ë””ë ‰í† ë¦¬ ìƒì„± ë° ê¶Œí•œ ë³€ê²½
        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1) [hadoop@dn01 ~]$ mkdir -p /home/hadoop/iotmp
2) [hadoop@dn01 ~]$ chmod -R 775 /home/hadoop/iotmp
</code></pre></div>        </div>
      </li>
      <li>MYSQL Connector ë‹¤ìš´ë¡œë“œ ë° hive libë¡œ ë³µì‚¬
        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1) [root@dn01 ~]# cd /tmp
2) [root@dn01 tmp]# wget http://dev.mysql.com/get/Downloads/Connector-J/mysql-connector-java-5.1.38.tar.gz
3) [root@dn01 tmp]# tar xzvf mysql-connector-java-5.1.38.tar.gz
4) [root@dn01 tmp]# cd mysql-connector-java-5.1.38
5) [root@dn01 mysql-connector-java-5.1.38]# mv mysql-connector-java-5.1.38-bin.jar /opt/hive/current/lib/
</code></pre></div>        </div>
      </li>
      <li>ê¸°ë³¸ ë””ë ‰í„°ë¦¬ ìƒì„± ë° ê¶Œí•œ ì¶”ê°€
        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1) [hadoop@dn01 ~]$ hdfs dfs -mkdir /tmp
2) [hadoop@dn01 ~]$ hdfs dfs -mkdir -p /user/hive/warehouse
3) [hadoop@dn01 ~]$ hdfs dfs -chmod -R 777 /tmp
4) [hadoop@dn01 ~]$ hdfs dfs -chmod -R 777 /user/hive/warehouse
</code></pre></div>        </div>
      </li>
      <li>mysql ê¸°ë³¸ ìŠ¤í‚¤ë§ˆ ìƒì„±
        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1) [hadoop@dn01 ~]$ schematool -initSchema -dbType mysql
error) ê¸°ì¡´ì— ê°™ì€ ì´ë¦„ì˜ ë°ì´íƒ€ë² ì´ìŠ¤ê°€ ìˆìœ¼ë‹ˆê¹ show databasesì—ì„œ drop database hive; ì œê±°
</code></pre></div>        </div>
      </li>
      <li>ì ‘ì†
        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1) [hadoop@dn01 ~]$ hive
check) http://192.168.56.101:50070ì—ì„œ ë©”ë‰´&gt;Utitlies&gt;Browser Directory&gt;/user/hive/warehouseì—ì„œ ì•ìœ¼ë¡œ í™•ì¸
</code></pre></div>        </div>
      </li>
      <li>beeline ì ‘ì†í•˜ê¸° ìœ„í•œ ì¶”ê°€ ì‘ì—…
        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1) [hadoop@nn01 ~]$ cd $HADOOP_HOME/etc/hadoop
2) [hadoop@nn01 hadoop]$ vi core-site.xml
3) [hadoop@nn01 hadoop]$ scp core-site.xml hadoop@dn01:/opt/hadoop/current/etc/hadoop
4) [hadoop@nn01 hadoop]$ scp core-site.xml hadoop@dn02:/opt/hadoop/current/etc/hadoop
5) [hadoop@dn01 ~]$ hdfs dfs -chmod -R 777 /tmp
6) [hadoop@dn01 ~]$ hdfs dfs -chmod -R 777 /user/hive/warehouse
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li>Hive ì‹¤í–‰
    <ul>
      <li>ìƒíƒœí™•ì¸
        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1) [hadoop@dn01 ~]$ systemctl status mariadb.service
</code></pre></div>        </div>
      </li>
      <li>ì‹œì‘
        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1) [hadoop@dn01 ~]$ systemctl start mariadb.service
</code></pre></div>        </div>
      </li>
      <li>ë©”íƒ€ìŠ¤í† ì–´ ì‹¤í–‰ ë° í™•ì¸(ë°±ê·¸ë¼ìš´ë“œ ì‹¤í–‰)
        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1) [hadoop@dn01 ~]$ hive --service metastore &amp;
2) [hadoop@dn01 ~]$ ps -ef | grep metastore
</code></pre></div>        </div>
      </li>
      <li>í•˜ì´ë¸Œì„œë²„ êµ¬ë™(ë°±ê·¸ë¼ìš´ë“œ ì‹¤í–‰)
        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1) [hadoop@dn01 ~]$ hive --service hiveserver2 &amp;
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li>CLI : hive
    <ul>
      <li>ì ‘ì† ë° sample ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±
        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1) [hadoop@dn01 ~]$ hive
2) hive (default)&gt; show databases;
3) hive (default)&gt; create database sample1;
4) hive (default)&gt; show databases;
5) hive (default)&gt; use sample1;
6) hive (sample1)&gt; create table employees( name String );
7) hive (sample1)&gt; insert into employees(name) values('KIM');
</code></pre></div>        </div>
      </li>
      <li>í™•ì¸(í…Œì´ë¸”ì€ ë””ë ‰í„°ë¦¬, ê°’ì€ íŒŒì¼ë¡œ ì €ì¥í•´ì¤€ë‹¤.)
        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1) [hadoop@dn02 ~]$ ssh dn01
2) [hadoop@dn01 ~]$ hdfs dfs -ls /user/hive/warehouse
3) [hadoop@dn01 ~]$ hdfs dfs -ls /user/hive/warehouse/sample1.db
4) [hadoop@dn01 ~]$ hdfs dfs -ls /user/hive/warehouse/sample1.db/employees
5) [hadoop@dn01 ~]$ hdfs dfs -cat /user/hive/warehouse/sample1.db/employees/000000_0
6) hive (sample1)&gt; !hdfs dfs -cat /user/hive/warehouse/sample1.db/employees/000000_0;
7) hive (sample1)&gt; !hdfs dfs -ls /user/hive/warehouse/sample1.db/employees;
8) hive (sample1)&gt; exit; (ì¢…ë£Œ)
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li>CLI : beeline
    <ul>
      <li>ì ‘ì†
        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1) [hadoop@dn01 ~]$ beeline
2) beeline&gt; !connect jdbc:hive2://
3) Enter username for jdbc:hive2://: hive
4) Enter password for jdbc:hive2://: hive
</code></pre></div>        </div>
      </li>
      <li>sampleë°ì´í„°ë² ì´ìŠ¤ ì¶”ê°€ ë° í™•ì¸
        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1) 0: jdbc:hive2://&gt; show databases;
2) 0: jdbc:hive2://&gt; use sample1;
3) 0: jdbc:hive2://&gt; show tables;
4) 0: jdbc:hive2://&gt; insert into employees(name) values('PARK');
5) [hadoop@dn01 ~]$ hdfs dfs -cat /user/hive/warehouse/sample1.db/employees/000000_0_copy_1
6) 0: jdbc:hive2://&gt; select * from employees;
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li>ì—°ìŠµ
    <ul>
      <li>kdatademoë°ì´í„°ë² ì´ìŠ¤ ìƒì„±
        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1) 0: jdbc:hive2://&gt; create database kdatademo;
2) 0: jdbc:hive2://&gt; show databases;
3) 0: jdbc:hive2://&gt; use kdatademo;
4) í…Œì´ë¸” ìƒì„±
create table customers(id bigint, name string, address string);
5) 0: jdbc:hive2://&gt; show tables;
6) 0: jdbc:hive2://&gt; desc customers;
7) ì…ë ¥
insert into customers values
(1111, 'kim', 'WA'),
(2222, 'park', 'WA'),
(3333, 'lee', 'WA'),
(4444, 'meng', 'CA'),
(5555, 'bae', 'NJ'),
(6666, 'jeon', 'NY');
</code></pre></div>        </div>
      </li>
      <li>í™•ì¸
        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1) [hadoop@dn01 ~]$ hdfs dfs -ls /user/hive/warehouse/kdatademo.db/customers
2) [hadoop@dn01 ~]$ hdfs dfs -cat /user/hive/warehouse/kdatademo.db/customers/000000_0
</code></pre></div>        </div>
      </li>
      <li>ìƒì„±
        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1) í…Œì´ë¸” ìƒì„±
create table if not exists orders(
id bigint,
product_id string,
customer_id bigint,
quantity int,
amount double);
2) ì…ë ¥
insert into orders values
(111111, "phone", 1111, 3, 1200),
(222222, "camera", 1111, 1, 5200),
(100003, "notebook", 1111, 1, 10),
(100004, "bag", 2222, 1, 4500),
(100005, "t-shirt", 4444, 30, 50);
</code></pre></div>        </div>
      </li>
      <li>ì£¼ì†Œê°€ â€œWAâ€ì¸ ê³ ê° ê²€ìƒ‰
        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1) 0: jdbc:hive2://&gt; select * from customers where address="WA";
</code></pre></div>        </div>
      </li>
      <li>ì£¼ì†Œê°€ â€œWAâ€ì´ë©´ì„œ idê°€ 2222 ë³´ë‹¤ í° ê³ ê° ëª…ë‹¨ ì¶œë ¥
        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1) 0: jdbc:hive2://&gt; select * from customers where address="WA" AND id&gt;2222;
</code></pre></div>        </div>
      </li>
      <li>ì£¼ì†Œë¡œ ì •ë ¬í•˜ì—¬ ê³ ê°ëª…ê³¼ ì£¼ì†Œ ì¶œë ¥
        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1) 0: jdbc:hive2://&gt; select name, address from customers order by address;
</code></pre></div>        </div>
      </li>
      <li>ê³ ê° ëª…ë‹¨ ìˆ˜ ê²€ìƒ‰
        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1) 0: jdbc:hive2://&gt; select count(*) from customers;
</code></pre></div>        </div>
      </li>
      <li>ì²«ë²ˆì§¸ ê³ ê°ëª…ë‹¨ ì¶œë ¥(mysql ëª…ë ¹ì–´ ì´ìš©)
        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1) 0: jdbc:hive2://&gt; select * from customers limit 1;
</code></pre></div>        </div>
      </li>
      <li>ì£¼ì†Œë³„ ì¸ì›ìˆ˜ ê²€ìƒ‰
        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1) 0: jdbc:hive2://&gt; select address, count(*) cnt from customers group by address;
</code></pre></div>        </div>
      </li>
      <li>ê³ ê°ì•„ì´ë””, ê³ ê°ëª…ê³¼ ê³ ê°ì´ ì£¼ë¬¸í•œ ìƒí’ˆëª… ì¶œë ¥
        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1) 0: jdbc:hive2://&gt; select c.id, c.name, o.product_id from customers c left outer join orders o on (c.id=o.customer_id);
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li>mobilephones
    <ul>
      <li>ìƒì„±
        <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1<span class="o">)</span> <span class="o">[</span>hadoop@dn01 ~]<span class="nv">$ </span><span class="nb">mkdir</span> /home/hadoop/hive_data
2<span class="o">)</span> <span class="o">[</span>hadoop@dn01 ~]<span class="nv">$ </span>vi /home/hadoop/hive_data/mobilephones.csv
<span class="c">########## mobilephones.csv ##########</span>
Samsungg7,Samsung G7,250,red#white#blue,5.5,camera:true#dualsim:false
Iphoneplus7,Iphone plus 7,400,gold#white,4.5,autofocus:true
<span class="c">########## mobilephones.csv ##########</span>
3<span class="o">)</span> í…Œì´ë¸” ìƒì„±
create table mobilephones<span class="o">(</span>
<span class="nb">id </span>string,
title string,
cost double,
colors array&lt;string&gt;,
screen_size array&lt;float&gt;,
features map&lt;string, Boolean&gt;<span class="o">)</span>
row format delimited fields terminated by <span class="s1">','</span>
collection items terminated by <span class="s1">'#'</span>
map keys terminated by <span class="s1">':'</span><span class="p">;</span>
</code></pre></div>        </div>
      </li>
      <li>í™•ì¸
        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1) 0: jdbc:hive2://&gt; load data local inpath '/home/hadoop/hive_data/mobilephones.csv' into table mobilephones;
2) 0: jdbc:hive2://&gt; select * from mobilephones;
3) [hadoop@dn01 ~]$ hdfs dfs -cat /user/hive/warehouse/kdatademo.db/mobilephones/mobilephones.csv
</code></pre></div>        </div>
      </li>
      <li>ì œí’ˆì•„ì´ë””ì™€ ì²«ë²ˆì§¸ ìƒ‰ìƒ ì¶œë ¥
        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1) 0: jdbc:hive2://&gt; select id, colors[0] from mobilephones;
</code></pre></div>        </div>
      </li>
      <li>ì œí’ˆëª…ê³¼ ì¹´ë©”ë¼íŠ¹ì„± ì¶œë ¥
        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1) 0: jdbc:hive2://&gt; select id, features['camera'] from mobilephones;
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li>mobilephones2
    <ul>
      <li>ìƒì„±
        <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1<span class="o">)</span> <span class="o">[</span>hadoop@dn01 ~]<span class="nv">$ </span><span class="nb">cp</span> ~/hive_data/mobilephones.csv ~/hive_data/mobilephones2.csv
<span class="c">########### mobilephones2.csv ##########</span>
Samsungg7,Samsung G7,250,red#white#blue,5.5,camera:true#dualsim:false,24 hours#2MP
Iphoneplus7,Iphone plus 7,400,gold#white,4.5,autofocus:true,2 hours#2MP
<span class="c">########### mobilephones2.csv ##########</span>
2<span class="o">)</span> í…Œì´ë¸” ìƒì„±
create table mobilephones2<span class="o">(</span>
<span class="nb">id </span>string,
title string,
cost double,
colors array&lt;string&gt;,
screen_size array&lt;float&gt;,
features map&lt;string, Boolean&gt;,
infomation struct&lt;battery:string,camera:string&gt;<span class="o">)</span>
row format delimited fields terminated by <span class="s1">','</span>
collection items terminated by <span class="s1">'#'</span>
map keys terminated by <span class="s1">':'</span><span class="p">;</span>
</code></pre></div>        </div>
      </li>
      <li>í™•ì¸
        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1) 0: jdbc:hive2://&gt; load data local inpath '/home/hadoop/hive_data/mobilephones2.csv' into table mobilephones2;
2) 0: jdbc:hive2://&gt; select * from mobilephones2;
3) [hadoop@dn01 ~]$ hdfs dfs -cat /user/hive/warehouse/kdatademo.db/mobilephones/mobilephones2.csv
</code></pre></div>        </div>
      </li>
      <li>ì œí’ˆì•„ì´ë””, ì²«ë²ˆì§¸ ìƒ‰ìƒ, ì¹´ë©”ë¼ íŠ¹ì„±, ë°°í„°ë¦¬ ì •ë³´ ì¶œë ¥
        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1) 0: jdbc:hive2://&gt; select id, colors[0], features['camera'], infomation.battery from mobilephones2;
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li>grouplens
    <ul>
      <li>ì„¤ì¹˜
        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1) [root@dn01 ~]$ yum install unzip
2) [hadoop@dn01 ~]$ cd ~/hive_data
3) [hadoop@dn01 hive_data]$ wget http://www.grouplens.org/system/files/ml-100k.zip
4) [hadoop@dn01 hive_data]$ unzip ml-100k.zip
5) [hadoop@dn01 hive_data]$ cd ml-100k
6) [hadoop@dn01 ml-100k]$ hdfs dfs -mkdir /user/hadoop/movies
7) [hadoop@dn01 ml-100k]$ hdfs dfs -mkdir /user/hadoop/userinfo
8) [hadoop@dn01 ml-100k]$ hdfs dfs -put /home/hadoop/hive_data/ml-100k/u.item /user/hadoop/movies
9) [hadoop@dn01 ml-100k]$ hdfs dfs -put /home/hadoop/hive_data/ml-100k/u.user /user/hadoop/userinfo
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
</ul>

<h2 id="ì •ë¦¬">ì •ë¦¬</h2>
<ul>
  <li>Hive
    <ul>
      <li>í•˜ë‘¡ì—ì„œ ë™ì‘í•˜ëŠ” ë°ì´í„° ì›¨ì–´í•˜ìš°ìŠ¤ ì¸í”„ë¼ êµ¬ì¡°ë¡œì„œ ë°ì´í„° ìš”ì•½, ì§ˆì˜ ë° ë¶„ì„ ê¸°ëŠ¥ì„ ì œê³µ</li>
    </ul>
  </li>
</ul>
:ET