I"š¯<h1 id="mvcboard"><a href="">mvcBoard</a></h1>

<h2 id="main">Main</h2>
<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;%@ page </span><span class="na">language=</span><span class="s">"java"</span><span class="na"> contentType=</span><span class="s">"text/html; charset=UTF-8"</span><span class="na">
    pageEncoding=</span><span class="s">"UTF-8"</span><span class="nt">%&gt;</span>
<span class="nt">&lt;%</span> <span class="nc">String</span> <span class="n">projectName</span> <span class="o">=</span> <span class="s">"/Test"</span><span class="o">;</span> <span class="nt">%&gt;</span>    
<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;title&gt;</span>Main<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>

<span class="nt">&lt;body&gt;</span>
	<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"</span><span class="nt">&lt;%=</span> <span class="n">projectName</span> <span class="nt">%&gt;</span><span class="s">/board?cmd=main-page"</span><span class="nt">&gt;</span> ë©”ì¸ <span class="nt">&lt;/a&gt;&lt;br/&gt;&lt;br/&gt;</span>
	<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"</span><span class="nt">&lt;%=</span> <span class="n">projectName</span> <span class="nt">%&gt;</span><span class="s">/board?cmd=list-page"</span><span class="nt">&gt;</span> ê²Œì‹œíŒ <span class="nt">&lt;/a&gt;&lt;br/&gt;&lt;br/&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<h2 id="boardlist">BoardList</h2>
<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;%@ page </span><span class="na">language=</span><span class="s">"java"</span><span class="na"> contentType=</span><span class="s">"text/html; charset=UTF-8"</span><span class="na">
    pageEncoding=</span><span class="s">"UTF-8"</span> <span class="nt">%&gt;</span>
<span class="nt">&lt;%@ page </span><span class="na">import=</span><span class="s">"java.util.List"</span> <span class="nt">%&gt;</span>
<span class="nt">&lt;%@ page </span><span class="na">import=</span><span class="s">"mvc.board.model.*"</span> <span class="nt">%&gt;</span>
<span class="nt">&lt;%</span>
	<span class="kt">int</span> <span class="n">pCount</span> <span class="o">=</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span><span class="n">request</span><span class="o">.</span><span class="na">getAttribute</span><span class="o">(</span><span class="s">"pCount"</span><span class="o">);</span>
	<span class="nc">List</span> <span class="o">&lt;</span><span class="nc">BoardRec</span><span class="err">&gt;</span> <span class="n">mList</span> <span class="o">=</span> <span class="o">(</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">BoardRec</span><span class="err">&gt;</span><span class="o">)</span><span class="n">request</span><span class="o">.</span><span class="na">getAttribute</span><span class="o">(</span><span class="s">"mList"</span><span class="o">);</span>
<span class="nt">%&gt;</span>  
<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;title&gt;</span>BoardList<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>

<span class="nt">&lt;body&gt;</span>
	<span class="nt">&lt;h3&gt;</span> ê²Œì‹œíŒ ëª©ë¡ <span class="nt">&lt;/h3&gt;</span>
	<span class="nt">&lt;table</span> <span class="na">border=</span><span class="s">"1"</span> <span class="na">bordercolor=</span><span class="s">"darkblue"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;tr&gt;</span>
			<span class="nt">&lt;td&gt;</span> ê¸€ë²ˆí˜¸ <span class="nt">&lt;/td&gt;</span>
			<span class="nt">&lt;td&gt;</span> ì œ ëª© <span class="nt">&lt;/td&gt;</span>
			<span class="nt">&lt;td&gt;</span> ì‘ì„±ì <span class="nt">&lt;/td&gt;</span>
			<span class="nt">&lt;td&gt;</span> ì‘ì„±ì¼ <span class="nt">&lt;/td&gt;</span>
			<span class="nt">&lt;td&gt;</span> ì¡°íšŒìˆ˜ <span class="nt">&lt;/td&gt;</span>
		<span class="nt">&lt;/tr&gt;</span>
	<span class="nt">&lt;%</span> <span class="k">if</span><span class="o">(</span><span class="n">mList</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">()){</span> <span class="nt">%&gt;</span>
		<span class="nt">&lt;tr&gt;</span>
			<span class="nt">&lt;td</span> <span class="na">colspan=</span><span class="s">"5"</span><span class="nt">&gt;</span> ë“±ë¡ëœ ê²Œì‹œë¬¼ì´ ì—†ìŠµë‹ˆë‹¤. <span class="nt">&lt;/td&gt;</span>
		<span class="nt">&lt;/tr&gt;</span>
	<span class="nt">&lt;%</span> <span class="o">}</span><span class="k">else</span><span class="o">{</span> <span class="nt">%&gt;</span>
		<span class="nt">&lt;%</span> 
<span class="c1">// 			for(int i = 0; i &lt; mList.size(); i++){</span>
<span class="c1">// 			BoardRec rec = (BoardRec)mList.get(i);</span>
			<span class="c1">// í–¥ìƒëœ forë¬¸ì€ ì½œë ‰ì…˜, ë°ì´í„°ì§‘í•©, ì œë„ˆë¦­ìŠ¤ê°€ ì™„ë²½í• ë•Œ ì“´ë‹¤.</span>
			<span class="k">for</span><span class="o">(</span><span class="nc">BoardRec</span> <span class="n">rec</span> <span class="o">:</span> <span class="n">mList</span><span class="o">){</span>
		<span class="nt">%&gt;</span>
		<span class="nt">&lt;tr&gt;</span>
			<span class="nt">&lt;td&gt;&lt;%=</span> <span class="n">rec</span><span class="o">.</span><span class="na">getArticleId</span><span class="o">()</span> <span class="nt">%&gt;&lt;/td&gt;</span>
			<span class="nt">&lt;td&gt;</span>
			<span class="nt">&lt;%</span> <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">rec</span><span class="o">.</span><span class="na">getLevel</span><span class="o">();</span> <span class="n">i</span><span class="o">++){</span> <span class="nt">%&gt;</span> 
			<span class="ni">&amp;nbsp;</span> 
			<span class="nt">&lt;%</span> <span class="o">}</span> <span class="c1">// for-end</span><span class="nt">%&gt;</span>
			<span class="nt">&lt;%</span> <span class="k">if</span><span class="o">(</span><span class="n">rec</span><span class="o">.</span><span class="na">getLevel</span><span class="o">()</span> <span class="err">&gt;</span> <span class="mi">0</span><span class="o">){</span> <span class="nt">%&gt;</span>
				<span class="nt">&lt;img</span> <span class="na">alt=</span><span class="s">""</span> <span class="na">src=</span><span class="s">"./imgs/board_re.gif"</span><span class="nt">&gt;</span>
			<span class="nt">&lt;%</span> <span class="o">}</span> <span class="c1">// if-end </span><span class="nt">%&gt;</span>
				<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"board?cmd=view-page&amp;article_id=</span><span class="nt">&lt;%=</span> <span class="n">rec</span><span class="o">.</span><span class="na">getArticleId</span><span class="o">()</span> <span class="nt">%&gt;</span><span class="s">"</span><span class="nt">&gt;&lt;%=</span> <span class="n">rec</span><span class="o">.</span><span class="na">getTitle</span><span class="o">()</span> <span class="nt">%&gt;&lt;/a&gt;</span>
			<span class="nt">&lt;/td&gt;</span>
			<span class="nt">&lt;td&gt;&lt;%=</span> <span class="n">rec</span><span class="o">.</span><span class="na">getWriterName</span><span class="o">()</span> <span class="nt">%&gt;&lt;/td&gt;</span>		
			<span class="nt">&lt;td&gt;&lt;%=</span> <span class="n">rec</span><span class="o">.</span><span class="na">getPostingDate</span><span class="o">()</span> <span class="nt">%&gt;&lt;/td&gt;</span>
			<span class="nt">&lt;td&gt;&lt;%=</span> <span class="n">rec</span><span class="o">.</span><span class="na">getReadCount</span><span class="o">()</span> <span class="nt">%&gt;&lt;/td&gt;</span>
		<span class="nt">&lt;/tr&gt;</span>
		<span class="nt">&lt;%</span> <span class="o">}</span> <span class="c1">// for-end </span><span class="nt">%&gt;</span>
	<span class="nt">&lt;%</span> <span class="o">}</span> <span class="c1">// else-end </span><span class="nt">%&gt;</span>
		<span class="nt">&lt;tr&gt;</span>
			<span class="nt">&lt;td</span> <span class="na">colspan=</span><span class="s">"5"</span><span class="nt">&gt;</span>
				<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"board?cmd=input-page"</span><span class="nt">&gt;</span>ê¸€ì“°ê¸°<span class="nt">&lt;/a&gt;&lt;br/&gt;</span>
				<span class="c">&lt;!-- í˜ì´ì§€ ë²ˆí˜¸ ì¶œë ¥ --&gt;</span>
				<span class="nt">&lt;%</span> <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">pCount</span><span class="o">;</span> <span class="n">i</span><span class="o">++){</span> <span class="nt">%&gt;</span>
					<span class="c">&lt;!-- ìˆ«ìì— í˜„ì¬ í˜ì´ì§€ë¡œ ë§í¬ë¥¼ ê±¸ì–´ì„œ page íŒŒë¼ë©”íƒ€ë¡œ ì „ì†¡í•˜ê¸° --&gt;</span>
					<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"board?cmd=list-page&amp;page=</span><span class="nt">&lt;%=</span> <span class="n">i</span> <span class="nt">%&gt;</span><span class="s">"</span><span class="nt">&gt;</span>[<span class="nt">&lt;%=</span> <span class="n">i</span> <span class="nt">%&gt;</span>]<span class="nt">&lt;/a&gt;</span>
				<span class="nt">&lt;%</span> <span class="o">}</span> <span class="c1">// for-end </span><span class="nt">%&gt;</span>	
			<span class="nt">&lt;/td&gt;</span>
		<span class="nt">&lt;/tr&gt;</span>
	<span class="nt">&lt;/table&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<h2 id="boardinputform">BoardInputForm</h2>
<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;%@ page </span><span class="na">language=</span><span class="s">"java"</span><span class="na"> contentType=</span><span class="s">"text/html; charset=UTF-8"</span><span class="na">
    pageEncoding=</span><span class="s">"UTF-8"</span><span class="nt">%&gt;</span>
<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;title&gt;</span>BoardInputForm<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>

<span class="nt">&lt;body&gt;</span>
	<span class="nt">&lt;h4&gt;</span> ê²Œì‹œíŒ ê¸€ ì“°ê¸° <span class="nt">&lt;/h4&gt;&lt;br/&gt;</span>
	ë‚˜ì¤‘ì— ì´ì˜ê²Œ ë§Œë“œì‹œì˜¤ <span class="nt">&lt;br/&gt;&lt;br/&gt;</span>
	<span class="nt">&lt;form</span> <span class="na">name=</span><span class="s">'frm'</span> <span class="na">method=</span><span class="s">'post'</span> <span class="na">action=</span><span class="s">"board?cmd=input-do"</span><span class="nt">&gt;</span>
		ì‘ì„±ì : <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">'text'</span> <span class="na">name=</span><span class="s">'writerName'</span><span class="nt">&gt;&lt;br/&gt;&lt;br/&gt;</span>
		ì œ  ëª© : <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">'text'</span> <span class="na">name=</span><span class="s">'title'</span><span class="nt">&gt;&lt;br/&gt;&lt;br/&gt;</span>
		ë‚´  ìš© : <span class="nt">&lt;textarea</span> <span class="na">rows=</span><span class="s">'10'</span> <span class="na">cols=</span><span class="s">'40'</span> <span class="na">name=</span><span class="s">'content'</span><span class="nt">&gt;&lt;/textarea&gt;&lt;br/&gt;&lt;br/&gt;</span>
		íŒ¨ìŠ¤ì›Œë“œ(ìˆ˜ì •/ì‚­ì œì‹œ í•„ìš”) : <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">'password'</span> <span class="na">name=</span><span class="s">'password'</span><span class="nt">&gt;&lt;br/&gt;&lt;br/&gt;</span>
		<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">'submit'</span> <span class="na">value=</span><span class="s">'ì‘ì„±'</span><span class="nt">&gt;</span>
		<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">'reset'</span> <span class="na">value=</span><span class="s">'ì·¨ì†Œ'</span><span class="nt">&gt;</span>
	<span class="nt">&lt;/form&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<h2 id="boardsave">BoardSave</h2>
<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;%@ page </span><span class="na">language=</span><span class="s">"java"</span><span class="na"> contentType=</span><span class="s">"text/html; charset=UTF-8"</span><span class="na">
    pageEncoding=</span><span class="s">"UTF-8"</span><span class="nt">%&gt;</span>
<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;title&gt;</span>BoardSave<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>

<span class="nt">&lt;body&gt;</span>
	<span class="nt">&lt;font</span> <span class="na">size=</span><span class="s">"3"</span> <span class="na">color=</span><span class="s">"#bb44cc"</span><span class="nt">&gt;</span>
		ê²Œì‹œë¬¼ì„ ë‚¨ê²¼ìŠµë‹ˆë‹¤. 
	<span class="nt">&lt;/font&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;</span>
	<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"board?cmd=list-page"</span><span class="nt">&gt;</span> [ ëª©ë¡ë³´ê¸° ] <span class="nt">&lt;/a&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<h2 id="boardview">BoardView</h2>
<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;%@ page </span><span class="na">language=</span><span class="s">"java"</span><span class="na"> contentType=</span><span class="s">"text/html; charset=UTF-8"</span><span class="na">
    pageEncoding=</span><span class="s">"UTF-8"</span><span class="nt">%&gt;</span>
<span class="nt">&lt;%@ page </span><span class="na">import=</span><span class="s">"mvc.board.model.*"</span> <span class="nt">%&gt;</span>
<span class="nt">&lt;%</span>
	<span class="nc">BoardRec</span> <span class="n">rec</span> <span class="o">=</span> <span class="o">(</span><span class="nc">BoardRec</span><span class="o">)</span><span class="n">request</span><span class="o">.</span><span class="na">getAttribute</span><span class="o">(</span><span class="s">"rec"</span><span class="o">);</span>
<span class="nt">%&gt;</span>   
<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;title&gt;</span>BoardView<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>

<span class="nt">&lt;body&gt;</span>
	<span class="nt">&lt;h4&gt;</span> ê²Œì‹œíŒ ê¸€ ë³´ê¸° <span class="nt">&lt;/h4&gt;&lt;br/&gt;</span>
		<span class="nt">&lt;table</span> <span class="na">border=</span><span class="s">"1"</span> <span class="na">bordercolor=</span><span class="s">"red"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;tr&gt;</span>
		<span class="nt">&lt;td&gt;</span> ì œ  ëª© : <span class="nt">&lt;/td&gt;</span>
		<span class="nt">&lt;td&gt;&lt;%=</span> <span class="n">rec</span><span class="o">.</span><span class="na">getTitle</span><span class="o">()</span> <span class="nt">%&gt;&lt;/a&gt;&lt;/td&gt;</span>
	<span class="nt">&lt;/tr&gt;</span>
	<span class="nt">&lt;tr&gt;</span>
		<span class="nt">&lt;td&gt;</span> ì‘ì„±ì : <span class="nt">&lt;/td&gt;</span>
		<span class="nt">&lt;td&gt;&lt;%=</span> <span class="n">rec</span><span class="o">.</span><span class="na">getWriterName</span><span class="o">()</span> <span class="nt">%&gt;&lt;/td&gt;</span>
	<span class="nt">&lt;/tr&gt;</span>
	<span class="nt">&lt;tr&gt;</span>
		<span class="nt">&lt;td&gt;</span> ì‘ì„±ì¼ì : <span class="nt">&lt;/td&gt;</span>
		<span class="nt">&lt;td&gt;&lt;%=</span> <span class="n">rec</span><span class="o">.</span><span class="na">getPostingDate</span><span class="o">()</span> <span class="nt">%&gt;&lt;/td&gt;</span>
	<span class="nt">&lt;/tr&gt;</span>
	<span class="nt">&lt;tr&gt;</span>
		<span class="nt">&lt;td&gt;</span> ë‚´  ìš© : <span class="nt">&lt;/td&gt;</span>
		<span class="nt">&lt;td&gt;&lt;%=</span> <span class="n">rec</span><span class="o">.</span><span class="na">getContent</span><span class="o">()</span> <span class="nt">%&gt;&lt;/td&gt;</span>
	<span class="nt">&lt;/tr&gt;</span>
	<span class="nt">&lt;tr&gt;</span>
		<span class="nt">&lt;td&gt;</span> ì¡°íšŒìˆ˜ : <span class="nt">&lt;/td&gt;</span>
		<span class="nt">&lt;td&gt;&lt;%=</span> <span class="n">rec</span><span class="o">.</span><span class="na">getReadCount</span><span class="o">()</span> <span class="nt">%&gt;&lt;/td&gt;</span>
	<span class="nt">&lt;/tr&gt;</span>
	<span class="nt">&lt;tr&gt;</span>
		<span class="nt">&lt;td</span> <span class="na">colspan=</span><span class="s">"2"</span><span class="nt">&gt;</span>
			<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"board?cmd=list-page"</span><span class="nt">&gt;</span>ëª©ë¡ë³´ê¸°<span class="nt">&lt;/a&gt;</span>
			<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"board?cmd=reply-page&amp;parent_id=</span><span class="nt">&lt;%=</span> <span class="n">rec</span><span class="o">.</span><span class="na">getArticleId</span><span class="o">()</span> <span class="nt">%&gt;</span><span class="s">"</span><span class="nt">&gt;</span>ë‹µë³€í•˜ê¸°<span class="nt">&lt;/a&gt;</span>
			<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"board?cmd=modify-page&amp;modify_id=</span><span class="nt">&lt;%=</span> <span class="n">rec</span><span class="o">.</span><span class="na">getArticleId</span><span class="o">()</span> <span class="nt">%&gt;</span><span class="s">"</span><span class="nt">&gt;</span>ìˆ˜ì •í•˜ê¸°<span class="nt">&lt;/a&gt;</span>		
			<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"board?cmd=delete-page&amp;article_id=</span><span class="nt">&lt;%=</span> <span class="n">rec</span><span class="o">.</span><span class="na">getArticleId</span><span class="o">()</span> <span class="nt">%&gt;</span><span class="s">"</span><span class="nt">&gt;</span>ì‚­ì œí•˜ê¸°<span class="nt">&lt;/a&gt;</span> 	
		<span class="nt">&lt;/td&gt;</span>
	<span class="nt">&lt;/tr&gt;</span>
	<span class="nt">&lt;/table&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<h2 id="boarddeleteform">BoardDeleteForm</h2>
<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;%@ page </span><span class="na">language=</span><span class="s">"java"</span><span class="na"> contentType=</span><span class="s">"text/html; charset=UTF-8"</span><span class="na">
    pageEncoding=</span><span class="s">"UTF-8"</span><span class="nt">%&gt;</span>
<span class="nt">&lt;%@ page </span><span class="na">import=</span><span class="s">"mvc.board.model.*"</span> <span class="nt">%&gt;</span>
<span class="nt">&lt;%</span>
	<span class="nc">String</span> <span class="n">article_id</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"article_id"</span><span class="o">);</span>
<span class="nt">%&gt;</span>      
<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"Content-Type"</span> <span class="na">content=</span><span class="s">"text/html; charset=UTF-8"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;title&gt;</span>BoardDeleteForm<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>

<span class="nt">&lt;body&gt;</span>
	<span class="nt">&lt;form</span> <span class="na">method=</span><span class="s">"post"</span> <span class="na">action=</span><span class="s">"board?cmd=delete-do"</span><span class="nt">&gt;</span>
		ì‚­ì œí•  ê¸€ì•”í˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš” <span class="nt">&lt;br/&gt;</span>
		<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"password"</span> <span class="na">name=</span><span class="s">"password"</span><span class="nt">&gt;</span>
		
		<span class="c">&lt;!-- ê²Œì‹œê¸€ë²ˆí˜¸ë¥¼ ë‹¤ìŒ í˜ì´ì§€ë¡œ ë„˜ê¸°ê¸° ìœ„í•´ hidden íƒœê·¸ë¡œ ì§€ì • --&gt;</span>
		<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"hidden"</span> <span class="na">name=</span><span class="s">"article_id"</span> <span class="na">value=</span><span class="s">"</span><span class="nt">&lt;%=</span> <span class="n">article_id</span> <span class="nt">%&gt;</span><span class="s">"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"submit"</span> <span class="na">value=</span><span class="s">"ì‚­ì œí•˜ê¸°"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;/form&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<h2 id="boarddelete">BoardDelete</h2>
<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;%@ page </span><span class="na">language=</span><span class="s">"java"</span><span class="na"> contentType=</span><span class="s">"text/html; charset=UTF-8"</span><span class="na">
    pageEncoding=</span><span class="s">"UTF-8"</span><span class="nt">%&gt;</span>
<span class="nt">&lt;%@ page </span><span class="na">import=</span><span class="s">"mvc.board.model.*"</span> <span class="nt">%&gt;</span>
<span class="nt">&lt;%</span>
	<span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span><span class="n">request</span><span class="o">.</span><span class="na">getAttribute</span><span class="o">(</span><span class="s">"result"</span><span class="o">);</span>
<span class="nt">%&gt;</span>
<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"Content-Type"</span> <span class="na">content=</span><span class="s">"text/html; charset=UTF-8"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;title&gt;</span>BoardDelete<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>

<span class="nt">&lt;body&gt;</span>
	<span class="nt">&lt;%</span> <span class="k">if</span><span class="o">(</span><span class="n">result</span> <span class="o">!=</span> <span class="mi">0</span><span class="o">){</span> <span class="nt">%&gt;</span>
			ê¸€ì„ ì‚­ì œí•˜ì˜€ìŠµë‹ˆë‹¤.
	<span class="nt">&lt;%</span> <span class="o">}</span><span class="k">else</span><span class="o">{</span> <span class="nt">%&gt;</span>
			ì‚­ì œê°€ ì‹¤íŒ¨ë˜ì—ˆìŠµë‹ˆë‹¤.
	<span class="nt">&lt;%</span> <span class="o">}</span> <span class="nt">%&gt;</span>
	<span class="nt">&lt;br/&gt;&lt;br/&gt;</span>
	<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"board?cmd=list-page"</span><span class="nt">&gt;</span> ëª©ë¡ë³´ê¸° <span class="nt">&lt;/a&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<h2 id="boardmodifyform">BoardModifyForm</h2>
<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;%@ page </span><span class="na">language=</span><span class="s">"java"</span><span class="na"> contentType=</span><span class="s">"text/html; charset=UTF-8"</span><span class="na">
    pageEncoding=</span><span class="s">"UTF-8"</span><span class="nt">%&gt;</span>
<span class="nt">&lt;%@ page </span><span class="na">import=</span><span class="s">"mvc.board.model.*"</span> <span class="nt">%&gt;</span>
<span class="nt">&lt;%</span>
	<span class="nc">String</span> <span class="n">modify_id</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"modify_id"</span><span class="o">);</span>
<span class="nt">%&gt;</span>      
<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"Content-Type"</span> <span class="na">content=</span><span class="s">"text/html; charset=UTF-8"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;title&gt;</span>BoardModifyForm<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>

<span class="nt">&lt;body&gt;</span>
	<span class="nt">&lt;h4&gt;</span> ê²Œì‹œíŒ ê¸€ ìˆ˜ì •í•˜ê¸° <span class="nt">&lt;/h4&gt;&lt;br/&gt;</span>
	<span class="nt">&lt;form</span> <span class="na">name=</span><span class="s">'frm'</span> <span class="na">method=</span><span class="s">'post'</span> <span class="na">action=</span><span class="s">'board?cmd=modify-do'</span><span class="nt">&gt;</span>
		<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">'hidden'</span> <span class="na">name=</span><span class="s">'articleId'</span> <span class="na">value=</span><span class="s">'</span><span class="nt">&lt;%=</span> <span class="n">modify_id</span> <span class="nt">%&gt;</span><span class="s">'</span><span class="nt">&gt;</span>
		ì œ  ëª© : <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">'text'</span> <span class="na">name=</span><span class="s">'title'</span><span class="nt">&gt;&lt;br/&gt;&lt;br/&gt;</span>
		íŒ¨ìŠ¤ì›Œë“œ(ìˆ˜ì •/ì‚­ì œì‹œ í•„ìš”) : <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">'password'</span> <span class="na">name=</span><span class="s">'password'</span><span class="nt">&gt;&lt;br/&gt;&lt;br/&gt;</span>
		ë‚´  ìš© : <span class="nt">&lt;textarea</span> <span class="na">rows=</span><span class="s">'10'</span> <span class="na">cols=</span><span class="s">'40'</span> <span class="na">name=</span><span class="s">'content'</span><span class="nt">&gt;&lt;/textarea&gt;&lt;br/&gt;&lt;br/&gt;</span>
		<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">'submit'</span> <span class="na">value=</span><span class="s">'ìˆ˜ì •í•˜ê¸°'</span><span class="nt">&gt;</span>
		<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">'button'</span> <span class="na">value=</span><span class="s">'ëª©ë¡ë³´ê¸°'</span> <span class="na">onclick=</span><span class="s">"window.location='board?cmd=list-page'"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;/form&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<h2 id="boardmodify">BoardModify</h2>
<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;%@ page </span><span class="na">language=</span><span class="s">"java"</span><span class="na"> contentType=</span><span class="s">"text/html; charset=UTF-8"</span><span class="na">
    pageEncoding=</span><span class="s">"UTF-8"</span><span class="nt">%&gt;</span>
<span class="nt">&lt;%@ page </span><span class="na">import=</span><span class="s">"mvc.board.model.*"</span> <span class="nt">%&gt;</span>
<span class="nt">&lt;%</span>
	<span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span><span class="n">request</span><span class="o">.</span><span class="na">getAttribute</span><span class="o">(</span><span class="s">"result"</span><span class="o">);</span>
	<span class="nc">BoardRec</span> <span class="n">rec</span> <span class="o">=</span> <span class="o">(</span><span class="nc">BoardRec</span><span class="o">)</span><span class="n">request</span><span class="o">.</span><span class="na">getAttribute</span><span class="o">(</span><span class="s">"rec"</span><span class="o">);</span>
<span class="nt">%&gt;</span>
<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"Content-Type"</span> <span class="na">content=</span><span class="s">"text/html; charset=UTF-8"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;title&gt;</span>BoardModify<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>

<span class="nt">&lt;body&gt;</span>
	<span class="nt">&lt;%</span> <span class="k">if</span><span class="o">(</span><span class="n">result</span> <span class="o">!=</span> <span class="mi">0</span><span class="o">){</span>  <span class="c1">// ê²Œì‹œê¸€ ìˆ˜ì •ì´ ì„±ê³µì ìœ¼ë¡œ ë˜ì—ˆë‹¤ë©´ ê·¸ í•´ë‹¹ ê²Œì‹œê¸€ì„ ë³´ì—¬ì£¼ëŠ” í˜ì´ì§€ë¡œ ì´ë™í•˜ê³  </span>
			<span class="n">response</span><span class="o">.</span><span class="na">sendRedirect</span><span class="o">(</span><span class="s">"board?cmd=view-page&amp;article_id="</span> <span class="o">+</span> <span class="n">rec</span><span class="o">.</span><span class="na">getArticleId</span><span class="o">());</span> 
	 <span class="o">}</span><span class="k">else</span><span class="o">{</span> <span class="c1">// ê·¸ë ‡ì§€ ì•Šë‹¤ë©´, "ì•”í˜¸ê°€ ì˜ëª» ì…ë ¥ë˜ì—ˆìŠµë‹ˆë‹¤"ë¥¼ ì¶œë ¥  </span><span class="nt">%&gt;</span> 
			ì•”í˜¸ê°€ ì˜ëª» ì…ë ¥ë˜ì—ˆìŠµë‹ˆë‹¤.
	 <span class="nt">&lt;%</span> <span class="o">}</span> <span class="nt">%&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<h2 id="boardreplyform">BoardReplyForm</h2>
<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;%@ page </span><span class="na">language=</span><span class="s">"java"</span><span class="na"> contentType=</span><span class="s">"text/html; charset=UTF-8"</span><span class="na">
    pageEncoding=</span><span class="s">"UTF-8"</span><span class="nt">%&gt;</span>
<span class="nt">&lt;%</span>
	<span class="nc">String</span> <span class="n">parent_id</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"parent_id"</span><span class="o">);</span>
<span class="nt">%&gt;</span>
<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"Content-Type"</span> <span class="na">content=</span><span class="s">"text/html; charset=UTF-8"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;title&gt;</span>BoardReplyForm<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
 <span class="nt">&lt;body&gt;</span>
	<span class="nt">&lt;h4&gt;</span> ë‹µë³€ ê¸€ ì“°ê¸° <span class="nt">&lt;/h4&gt;&lt;br/&gt;</span>
	<span class="nt">&lt;form</span> <span class="na">name=</span><span class="s">'frm'</span> <span class="na">method=</span><span class="s">'post'</span> <span class="na">action=</span><span class="s">'board?cmd=reply-do'</span><span class="nt">&gt;</span>
		<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">'hidden'</span> <span class="na">name=</span><span class="s">'parentId'</span> <span class="na">value=</span><span class="s">'</span><span class="nt">&lt;%=</span> <span class="n">parent_id</span> <span class="nt">%&gt;</span><span class="s">'</span><span class="nt">&gt;</span>
		ì‘ì„±ì : <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">'text'</span> <span class="na">name=</span><span class="s">'writerName'</span><span class="nt">&gt;&lt;br/&gt;&lt;br/&gt;</span>
		ì œ  ëª© : <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">'text'</span> <span class="na">name=</span><span class="s">'title'</span><span class="nt">&gt;&lt;br/&gt;&lt;br/&gt;</span>
		ë‚´  ìš© : <span class="nt">&lt;textarea</span> <span class="na">rows=</span><span class="s">'10'</span> <span class="na">cols=</span><span class="s">'40'</span> <span class="na">name=</span><span class="s">'content'</span><span class="nt">&gt;&lt;/textarea&gt;&lt;br/&gt;&lt;br/&gt;</span>
		íŒ¨ìŠ¤ì›Œë“œ(ìˆ˜ì •/ì‚­ì œì‹œ í•„ìš”) : <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">'password'</span> <span class="na">name=</span><span class="s">'password'</span><span class="nt">&gt;&lt;br/&gt;&lt;br/&gt;</span>
		<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">'submit'</span> <span class="na">value=</span><span class="s">'ì‘ì„±'</span><span class="nt">&gt;</span>
		<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">'reset'</span> <span class="na">value=</span><span class="s">'ì·¨ì†Œ'</span><span class="nt">&gt;</span>
	<span class="nt">&lt;/form&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<h2 id="boardreply">BoardReply</h2>
<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;%@ page </span><span class="na">language=</span><span class="s">"java"</span><span class="na"> contentType=</span><span class="s">"text/html; charset=UTF-8"</span><span class="na">
    pageEncoding=</span><span class="s">"UTF-8"</span><span class="nt">%&gt;</span>
<span class="nt">&lt;%@ page </span><span class="na">import=</span><span class="s">"mvc.board.model.*"</span> <span class="nt">%&gt;</span>
<span class="nt">&lt;%</span>
	<span class="nc">BoardRec</span> <span class="n">reRec</span> <span class="o">=</span> <span class="o">(</span><span class="nc">BoardRec</span><span class="o">)</span><span class="n">request</span><span class="o">.</span><span class="na">getAttribute</span><span class="o">(</span><span class="s">"rec"</span><span class="o">);</span>
<span class="nt">%&gt;</span>
<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"Content-Type"</span> <span class="na">content=</span><span class="s">"text/html; charset=UTF-8"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;title&gt;</span>BoardReply<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>

<span class="nt">&lt;body&gt;</span>
	ë‹µë³€ê¸€ì„ ë“±ë¡í•˜ì˜€ìŠµë‹ˆë‹¤. <span class="nt">&lt;br/&gt;&lt;br/&gt;</span>
	<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"board?cmd=list-page"</span><span class="nt">&gt;</span> ëª©ë¡ë³´ê¸° <span class="nt">&lt;/a&gt;</span> <span class="ni">&amp;nbsp;</span>
	<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"board?cmd=view-page&amp;id=</span><span class="nt">&lt;%=</span> <span class="n">reRec</span><span class="o">.</span><span class="na">getArticleId</span><span class="o">()</span> <span class="nt">%&gt;</span><span class="s">"</span><span class="nt">&gt;</span> ê²Œì‹œê¸€ ì½ê¸° <span class="nt">&lt;/a&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<h2 id="boardrec">BoardRec</h2>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">ackage</span> <span class="n">mvc</span><span class="o">.</span><span class="na">board</span><span class="o">.</span><span class="na">model</span><span class="o">;</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">BoardRec</span> <span class="o">{</span>
	<span class="c1">// member field</span>
	<span class="kd">private</span>	<span class="kt">int</span>		<span class="n">articleId</span><span class="o">;</span>		<span class="c1">// ê²Œì‹œê¸€ë²ˆí˜¸</span>
	<span class="kd">private</span>	<span class="kt">int</span>		<span class="n">groupId</span><span class="o">;</span>		<span class="c1">// ê·¸ë£¹ë²ˆí˜¸</span>
	<span class="kd">private</span>	<span class="nc">String</span>	<span class="n">sequenceNo</span><span class="o">;</span>		<span class="c1">// ìˆœì„œë²ˆí˜¸</span>
	<span class="kd">private</span>	<span class="nc">String</span>	<span class="n">postingDate</span><span class="o">;</span>	<span class="c1">// ê²Œì‹œê¸€ë“±ë¡ì¼ì‹œ</span>
	<span class="kd">private</span>	<span class="kt">int</span>		<span class="n">readCount</span><span class="o">;</span>		<span class="c1">// ì¡°íšŒìˆ˜</span>
	<span class="kd">private</span>	<span class="nc">String</span>	<span class="n">writerName</span><span class="o">;</span>		<span class="c1">// ì‚¬ìš©ìì´ë¦„</span>
	<span class="kd">private</span>	<span class="nc">String</span>	<span class="n">password</span><span class="o">;</span>		<span class="c1">// ë¹„ë°€ë²ˆí˜¸</span>
	<span class="kd">private</span>	<span class="nc">String</span>	<span class="n">title</span><span class="o">;</span>			<span class="c1">// ì œëª©</span>
	<span class="kd">private</span>	<span class="nc">String</span>	<span class="n">content</span><span class="o">;</span>		<span class="c1">// ë‚´ìš©</span>
	
	
	<span class="c1">// constructor method </span>
	<span class="kd">public</span> <span class="nf">BoardRec</span><span class="o">()</span> <span class="o">{}</span>
	
	<span class="kd">public</span> <span class="nf">BoardRec</span><span class="o">(</span><span class="kt">int</span> <span class="n">articleId</span><span class="o">,</span>  <span class="kt">int</span> <span class="n">groupId</span><span class="o">,</span> <span class="nc">String</span> <span class="n">sequenceNo</span><span class="o">,</span> <span class="nc">String</span> <span class="n">postingDate</span><span class="o">,</span> <span class="kt">int</span> <span class="n">readCount</span><span class="o">,</span> <span class="nc">String</span> <span class="n">writerName</span><span class="o">,</span> <span class="nc">String</span> <span class="n">password</span><span class="o">,</span> <span class="nc">String</span> <span class="n">title</span><span class="o">,</span>  <span class="nc">String</span> <span class="n">content</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">articleId</span>		<span class="o">=</span> <span class="n">articleId</span><span class="o">;</span>
		<span class="k">this</span><span class="o">.</span><span class="na">groupId</span>		<span class="o">=</span> <span class="n">groupId</span><span class="o">;</span>
		<span class="k">this</span><span class="o">.</span><span class="na">sequenceNo</span>		<span class="o">=</span> <span class="n">sequenceNo</span><span class="o">;</span>
		<span class="k">this</span><span class="o">.</span><span class="na">postingDate</span>	<span class="o">=</span> <span class="n">postingDate</span><span class="o">;</span>
		<span class="k">this</span><span class="o">.</span><span class="na">readCount</span> 		<span class="o">=</span> <span class="n">readCount</span><span class="o">;</span>
		<span class="k">this</span><span class="o">.</span><span class="na">writerName</span>		<span class="o">=</span> <span class="n">writerName</span><span class="o">;</span>
		<span class="k">this</span><span class="o">.</span><span class="na">password</span>		<span class="o">=</span> <span class="n">password</span><span class="o">;</span>
		<span class="k">this</span><span class="o">.</span><span class="na">title</span>			<span class="o">=</span> <span class="n">title</span><span class="o">;</span>
		<span class="k">this</span><span class="o">.</span><span class="na">content</span>		<span class="o">=</span> <span class="n">content</span><span class="o">;</span>
	<span class="o">}</span>
	
	<span class="c1">// setter</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setArticleId</span><span class="o">(</span><span class="kt">int</span> <span class="n">articleId</span><span class="o">)</span> <span class="o">{</span>	
		<span class="k">this</span><span class="o">.</span><span class="na">articleId</span> <span class="o">=</span> <span class="n">articleId</span><span class="o">;</span>		
	<span class="o">}</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setGroupId</span><span class="o">(</span><span class="kt">int</span> <span class="n">groupId</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">groupId</span> <span class="o">=</span> <span class="n">groupId</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setSequenceNo</span><span class="o">(</span><span class="nc">String</span> <span class="n">sequenceNo</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">sequenceNo</span> <span class="o">=</span> <span class="n">sequenceNo</span><span class="o">;</span>
	<span class="o">}</span>	
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setPostingDate</span><span class="o">(</span><span class="nc">String</span> <span class="n">postingDate</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">postingDate</span> <span class="o">=</span> <span class="n">postingDate</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setReadCount</span><span class="o">(</span><span class="kt">int</span> <span class="n">readCount</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">readCount</span> <span class="o">=</span> <span class="n">readCount</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setWriterName</span><span class="o">(</span><span class="nc">String</span> <span class="n">writerName</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">writerName</span> <span class="o">=</span> <span class="n">writerName</span><span class="o">;</span>
	<span class="o">}</span>	
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setPassword</span><span class="o">(</span><span class="nc">String</span> <span class="n">password</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">password</span> <span class="o">=</span> <span class="n">password</span><span class="o">;</span>
	<span class="o">}</span>	
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setTitle</span><span class="o">(</span><span class="nc">String</span> <span class="n">title</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">title</span> <span class="o">=</span> <span class="n">title</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setContent</span><span class="o">(</span><span class="nc">String</span> <span class="n">content</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">content</span> <span class="o">=</span> <span class="n">content</span><span class="o">;</span>
	<span class="o">}</span>	
	
	<span class="c1">// getter</span>
	<span class="kd">public</span> <span class="kt">int</span> <span class="nf">getArticleId</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">articleId</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="kt">int</span> <span class="nf">getGroupId</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">groupId</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">getSequenceNo</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">sequenceNo</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">getPostingDate</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">postingDate</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="kt">int</span> <span class="nf">getReadCount</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">readCount</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">getWriterName</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">writerName</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">getPassword</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">password</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">getTitle</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">title</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">getContent</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">content</span><span class="o">;</span>
	<span class="o">}</span>	

	<span class="kd">public</span> <span class="kt">int</span> <span class="nf">getLevel</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">if</span><span class="o">(</span><span class="n">sequenceNo</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span><span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="o">;}</span>
		<span class="k">if</span><span class="o">(</span><span class="n">sequenceNo</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">!=</span> <span class="mi">16</span><span class="o">)</span> <span class="o">{</span><span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="o">;}</span>
		<span class="k">if</span><span class="o">(</span><span class="n">sequenceNo</span><span class="o">.</span><span class="na">endsWith</span><span class="o">(</span><span class="s">"999999"</span><span class="o">))</span> <span class="o">{</span><span class="k">return</span> <span class="mi">0</span><span class="o">;}</span>
		<span class="k">if</span><span class="o">(</span><span class="n">sequenceNo</span><span class="o">.</span><span class="na">endsWith</span><span class="o">(</span><span class="s">"9999"</span><span class="o">))</span> <span class="o">{</span><span class="k">return</span> <span class="mi">1</span><span class="o">;}</span>
		<span class="k">if</span><span class="o">(</span><span class="n">sequenceNo</span><span class="o">.</span><span class="na">endsWith</span><span class="o">(</span><span class="s">"99"</span><span class="o">))</span> <span class="o">{</span><span class="k">return</span> <span class="mi">2</span><span class="o">;}</span>
		<span class="k">return</span> <span class="mi">3</span><span class="o">;</span>
	<span class="o">}</span>
<span class="o">}</span>
<span class="cm">/*
	[ ì°¸ê³  ]
	@ postingDate ê°€ ì‹¤ì œ DBì—ì„œëŠ” Date í˜•ì´ì§€ë§Œ, ë‚ ì§œ ê°’ì„ ì¶œë ¥ë§Œ í•˜ê¸°ì— 
	 Date í˜•ì´ ì•„ë‹Œ String  í˜•ìœ¼ë¡œ ë°›ì•„ë„ ëœë‹¤.
	 ë‚˜ì¤‘ì— ë‚ ì§œê°’ì„ ì‚¬ìš©í•  ì¼ì´ ìˆìœ¼ë©´ Date í˜•ìœ¼ë¡œ ë³€ê²½ 
 
*/</span>
</code></pre></div></div>

<h2 id="boardexception">BoardException</h2>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">mvc.board.model</span><span class="o">;</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">BoardException</span> <span class="kd">extends</span> <span class="nc">Exception</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="nf">BoardException</span><span class="o">()</span> <span class="o">{</span>
  		<span class="kd">super</span><span class="o">();</span>
  	<span class="o">}</span>
  	
  <span class="kd">public</span> <span class="nf">BoardException</span><span class="o">(</span><span class="nc">String</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
  		<span class="kd">super</span><span class="o">(</span><span class="n">error</span><span class="o">);</span>
  	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="boarddao">BoardDao</h2>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">mvc.board.model</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.sql.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Collections</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">BoardDao</span> <span class="o">{</span>
	<span class="c1">// Single Pattern </span>
	<span class="kd">private</span> <span class="kd">static</span> <span class="nc">BoardDao</span> <span class="n">instance</span><span class="o">;</span>
	
	<span class="c1">// DB ì—°ê²°ì‹œ  ê´€í•œ ë³€ìˆ˜ </span>
	<span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span> 	<span class="n">dbDriver</span>	<span class="o">=</span>	<span class="s">"oracle.jdbc.driver.OracleDriver"</span><span class="o">;</span>
	<span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span>		<span class="n">dbUrl</span>		<span class="o">=</span>	<span class="s">"jdbc:oracle:thin:@192.168.0.117:1521:orcl"</span><span class="o">;</span>
	<span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span>		<span class="n">dbUser</span>		<span class="o">=</span>	<span class="s">"jink"</span><span class="o">;</span>
	<span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span>		<span class="n">dbPass</span>		<span class="o">=</span>	<span class="s">"1234"</span><span class="o">;</span>
	
	<span class="kd">private</span> <span class="nc">Connection</span>	 		<span class="n">con</span><span class="o">;</span>	
	
	<span class="c1">//--------------------------------------------</span>
	<span class="c1">// ##### ê°ì²´ ìƒì„±í•˜ëŠ” ë©”ì†Œë“œ </span>
	<span class="kd">public</span> <span class="kd">static</span> <span class="nc">BoardDao</span> <span class="nf">getInstance</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">BoardException</span> <span class="o">{</span>
		<span class="k">if</span><span class="o">(</span><span class="n">instance</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">instance</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BoardDao</span><span class="o">();</span>
		<span class="o">}</span>
		<span class="k">return</span> <span class="n">instance</span><span class="o">;</span>
	<span class="o">}</span>
	
	<span class="kd">private</span> <span class="nf">BoardDao</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">BoardException</span> <span class="o">{</span>
		<span class="k">try</span> <span class="o">{</span>
			<span class="cm">/********************************************
				1. ì˜¤ë¼í´ ë“œë¼ì´ë²„ë¥¼ ë¡œë”©
					( DBCP ì—°ê²°í•˜ë©´ ì‚­ì œí•  ë¶€ë¶„ )
			*/</span>
			<span class="nc">Class</span><span class="o">.</span><span class="na">forName</span><span class="o">(</span> <span class="n">dbDriver</span> <span class="o">);</span>	
		<span class="o">}</span><span class="k">catch</span><span class="o">(</span><span class="nc">Exception</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
			<span class="k">throw</span> <span class="k">new</span> <span class="nf">BoardException</span><span class="o">(</span><span class="s">"DB ì—°ê²°ì‹œ ì˜¤ë¥˜  : "</span> <span class="o">+</span> <span class="n">ex</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>	
		<span class="o">}</span>
	<span class="o">}</span>
	
	<span class="c1">//--------------------------------------------</span>
	<span class="c1">// ##### ê²Œì‹œê¸€ ì…ë ¥ì „ì— ê·¸ ê¸€ì˜ ê·¸ë£¹ë²ˆí˜¸ë¥¼ ì–»ì–´ì˜¨ë‹¤</span>
	<span class="kd">public</span> <span class="kt">int</span> <span class="nf">getGroupId</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">BoardException</span> <span class="o">{</span>
		<span class="nc">PreparedStatement</span> <span class="n">ps</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
		<span class="nc">ResultSet</span> <span class="n">rs</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
		<span class="kt">int</span> <span class="n">groupId</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
		
		<span class="k">try</span> <span class="o">{</span>
			<span class="c1">// ####[0] ì—°ê²° ê°ì²´ ì–»ì–´ì˜¤ê¸°</span>
			<span class="n">con</span> <span class="o">=</span> <span class="nc">DriverManager</span><span class="o">.</span><span class="na">getConnection</span><span class="o">(</span><span class="n">dbUrl</span><span class="o">,</span> <span class="n">dbUser</span><span class="o">,</span> <span class="n">dbPass</span><span class="o">);</span>
						
			<span class="c1">// ####[1] sql ë¬¸ì¥ ë§Œë“¤ê¸° (insertë¬¸)</span>
			<span class="nc">String</span> <span class="n">sql</span> <span class="o">=</span> <span class="s">"SELECT SEQ_GROUP_ID_ARTICLE.nextval GROUP_ID FROM dual"</span><span class="o">;</span>
						
			<span class="c1">// ####[2] sql ì „ì†¡ ê°ì²´ ë§Œë“¤ê¸°</span>
			<span class="n">ps</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">prepareStatement</span><span class="o">(</span><span class="n">sql</span><span class="o">);</span>
			
			<span class="c1">// ####[3] sql ì „ì†¡</span>
			<span class="n">rs</span> <span class="o">=</span> <span class="n">ps</span><span class="o">.</span><span class="na">executeQuery</span><span class="o">();</span>
			
			<span class="c1">// ####[4] ê²°ê³¼ë°›ê¸°</span>
			<span class="k">if</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">next</span><span class="o">())</span> <span class="o">{</span>
				<span class="n">groupId</span> <span class="o">=</span> <span class="n">rs</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="s">"GROUP_ID"</span><span class="o">);</span>
			<span class="o">}</span>
			
			<span class="k">return</span> <span class="n">groupId</span><span class="o">;</span>
		<span class="o">}</span><span class="k">catch</span><span class="o">(</span><span class="nc">Exception</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
			<span class="k">throw</span> <span class="k">new</span> <span class="nf">BoardException</span><span class="o">(</span><span class="s">"ê²Œì‹œíŒ ) ê²Œì‹œê¸€ ì…ë ¥ ì „ì— ê·¸ë£¹ë²ˆí˜¸ ì–»ì–´ì˜¬ ë•Œ  : "</span> <span class="o">+</span> <span class="n">ex</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>	
		<span class="o">}</span><span class="k">finally</span> <span class="o">{</span>
			<span class="k">if</span><span class="o">(</span><span class="n">ps</span>   <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span><span class="k">try</span> <span class="o">{</span><span class="n">ps</span><span class="o">.</span><span class="na">close</span><span class="o">();}</span><span class="k">catch</span><span class="o">(</span><span class="nc">SQLException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{}}</span>
			<span class="k">if</span><span class="o">(</span><span class="n">con</span>  <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span><span class="k">try</span> <span class="o">{</span><span class="n">con</span><span class="o">.</span><span class="na">close</span><span class="o">();}</span><span class="k">catch</span><span class="o">(</span><span class="nc">SQLException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{}}</span>
		<span class="o">}</span>		
	<span class="o">}</span>

	<span class="c1">//--------------------------------------------</span>
	<span class="c1">// ##### ê²Œì‹œíŒì— ê¸€ì„ ì…ë ¥ì‹œ DBì— ì €ì¥í•˜ëŠ” ë©”ì†Œë“œ </span>
	<span class="kd">public</span> <span class="kt">int</span> <span class="nf">insert</span><span class="o">(</span><span class="nc">BoardRec</span> <span class="n">rec</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">BoardException</span> <span class="o">{</span>
		<span class="nc">ResultSet</span> <span class="n">rs</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
		<span class="nc">Statement</span> <span class="n">stmt</span>	<span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
		<span class="nc">PreparedStatement</span> <span class="n">ps</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
		
		<span class="k">try</span> <span class="o">{</span>
			<span class="c1">// ####[0] ì—°ê²° ê°ì²´ ì–»ì–´ì˜¤ê¸°</span>
			<span class="n">con</span> <span class="o">=</span> <span class="nc">DriverManager</span><span class="o">.</span><span class="na">getConnection</span><span class="o">(</span><span class="n">dbUrl</span><span class="o">,</span> <span class="n">dbUser</span><span class="o">,</span> <span class="n">dbPass</span><span class="o">);</span>
						
			<span class="c1">// ####[1] sql ë¬¸ì¥ ë§Œë“¤ê¸° (insertë¬¸)</span>
			<span class="nc">String</span> <span class="n">sql</span> <span class="o">=</span> <span class="s">"INSERT INTO ARTICLE(ARTICLE_ID, GROUP_ID, SEQUENCE_NO, POSTING_DATE, READ_COUNT, WRITER_NAME, PASSWORD, TITLE, CONTENT) "</span> <span class="o">+</span> 
					<span class="s">" VALUES (SEQ_ARTICLE_ID_ARTICLE.nextval, ?, ?, sysdate, 0, ?, ?, ?, ?)"</span><span class="o">;</span>
						
			<span class="c1">// ####[2] sql ì „ì†¡ ê°ì²´ ë§Œë“¤ê¸°</span>
			<span class="n">ps</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">prepareStatement</span><span class="o">(</span><span class="n">sql</span><span class="o">);</span>
			<span class="n">ps</span><span class="o">.</span><span class="na">setInt</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="n">rec</span><span class="o">.</span><span class="na">getGroupId</span><span class="o">());</span>
			<span class="n">ps</span><span class="o">.</span><span class="na">setString</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="n">rec</span><span class="o">.</span><span class="na">getSequenceNo</span><span class="o">());</span>
			<span class="n">ps</span><span class="o">.</span><span class="na">setString</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="n">rec</span><span class="o">.</span><span class="na">getWriterName</span><span class="o">());</span>
			<span class="n">ps</span><span class="o">.</span><span class="na">setString</span><span class="o">(</span><span class="mi">4</span><span class="o">,</span> <span class="n">rec</span><span class="o">.</span><span class="na">getPassword</span><span class="o">());</span>
			<span class="n">ps</span><span class="o">.</span><span class="na">setString</span><span class="o">(</span><span class="mi">5</span><span class="o">,</span> <span class="n">rec</span><span class="o">.</span><span class="na">getTitle</span><span class="o">());</span>
			<span class="n">ps</span><span class="o">.</span><span class="na">setString</span><span class="o">(</span><span class="mi">6</span><span class="o">,</span> <span class="n">rec</span><span class="o">.</span><span class="na">getContent</span><span class="o">());</span>
			
			<span class="c1">// ####[3] sql ì „ì†¡</span>
			<span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="n">ps</span><span class="o">.</span><span class="na">executeUpdate</span><span class="o">();</span>
			<span class="k">if</span><span class="o">(</span><span class="n">result</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
				<span class="n">stmt</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">createStatement</span><span class="o">();</span>
				<span class="n">rs</span> <span class="o">=</span> <span class="n">stmt</span><span class="o">.</span><span class="na">executeQuery</span><span class="o">(</span><span class="s">"SELECT SEQ_ARTICLE_ID_ARTICLE.currval FROM dual"</span><span class="o">);</span>
				<span class="k">if</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">next</span><span class="o">())</span> <span class="o">{</span>
					<span class="k">return</span> <span class="n">rs</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span> <span class="c1">// ì²«ë²ˆì§¸ ì»¬ëŸ¼</span>
				<span class="o">}</span>
			<span class="o">}</span>
			
			<span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
		<span class="o">}</span><span class="k">catch</span><span class="o">(</span><span class="nc">Exception</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
			<span class="k">throw</span> <span class="k">new</span> <span class="nf">BoardException</span><span class="o">(</span><span class="s">"ê²Œì‹œíŒ ) DBì— ì…ë ¥ì‹œ ì˜¤ë¥˜  : "</span> <span class="o">+</span> <span class="n">ex</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>	
		<span class="o">}</span><span class="k">finally</span> <span class="o">{</span>
			<span class="k">if</span><span class="o">(</span><span class="n">rs</span>   <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span><span class="k">try</span> <span class="o">{</span><span class="n">rs</span><span class="o">.</span><span class="na">close</span><span class="o">();}</span><span class="k">catch</span><span class="o">(</span><span class="nc">SQLException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{}}</span>
			<span class="k">if</span><span class="o">(</span><span class="n">stmt</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span><span class="k">try</span> <span class="o">{</span><span class="n">stmt</span><span class="o">.</span><span class="na">close</span><span class="o">();}</span><span class="k">catch</span><span class="o">(</span><span class="nc">SQLException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{}}</span>
			<span class="k">if</span><span class="o">(</span><span class="n">ps</span>   <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span><span class="k">try</span> <span class="o">{</span><span class="n">ps</span><span class="o">.</span><span class="na">close</span><span class="o">();}</span><span class="k">catch</span><span class="o">(</span><span class="nc">SQLException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{}}</span>
			<span class="k">if</span><span class="o">(</span><span class="n">con</span>  <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span><span class="k">try</span> <span class="o">{</span><span class="n">con</span><span class="o">.</span><span class="na">close</span><span class="o">();}</span><span class="k">catch</span><span class="o">(</span><span class="nc">SQLException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{}}</span>
		<span class="o">}</span>
		
	<span class="o">}</span>

	<span class="c1">//--------------------------------------------</span>
	<span class="c1">// ##### ì „ì²´ ë ˆì½”ë“œë¥¼ ê²€ìƒ‰í•˜ëŠ” í•¨ìˆ˜</span>
	<span class="c1">// ë¦¬ìŠ¤íŠ¸ì— ë³´ì—¬ì¤„ê±°ë‚˜ í•„ìš”í•œ ì»¬ëŸ¼ : ê²Œì‹œê¸€ë²ˆí˜¸, ê·¸ë£¹ë²ˆí˜¸, ìˆœì„œë²ˆí˜¸, ê²Œì‹œê¸€ë“±ë¡ì¼ì‹œ, ì¡°íšŒìˆ˜, ì‘ì„±ìì´ë¦„,  ì œëª©</span>
	<span class="c1">//							( ë‚´ìš©, ë¹„ë°€ë²ˆí˜¸  ì œì™¸ )</span>
	<span class="c1">// ìˆœì„œë²ˆí˜¸(sequence_no)ë¡œ ì—­ìˆœì •ë ¬</span>
	<span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">BoardRec</span><span class="o">&gt;</span> <span class="nf">selectList</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">BoardException</span> <span class="o">{</span>
		<span class="nc">PreparedStatement</span> <span class="n">ps</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
		<span class="nc">ResultSet</span> <span class="n">rs</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
		<span class="nc">List</span><span class="o">&lt;</span><span class="nc">BoardRec</span><span class="o">&gt;</span> <span class="n">mList</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">BoardRec</span><span class="o">&gt;();</span>
		<span class="kt">boolean</span> <span class="n">isEmpty</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
		
		<span class="k">try</span> <span class="o">{</span>
			<span class="c1">// ####[0] ì—°ê²° ê°ì²´ ì–»ì–´ì˜¤ê¸°</span>
			<span class="n">con</span> <span class="o">=</span> <span class="nc">DriverManager</span><span class="o">.</span><span class="na">getConnection</span><span class="o">(</span><span class="n">dbUrl</span><span class="o">,</span> <span class="n">dbUser</span><span class="o">,</span> <span class="n">dbPass</span><span class="o">);</span>
												
			<span class="c1">// ####[1] sql ë¬¸ì¥ ë§Œë“¤ê¸° (insertë¬¸)</span>
			<span class="nc">String</span> <span class="n">sql</span> <span class="o">=</span> <span class="s">"SELECT ARTICLE_ID, GROUP_ID, SEQUENCE_NO, POSTING_DATE, READ_COUNT, WRITER_NAME, TITLE "</span> <span class="o">+</span>
					<span class="s">" FROM ARTICLE ORDER BY SEQUENCE_NO DESC"</span><span class="o">;</span>
												
			<span class="c1">// ####[2] sql ì „ì†¡ ê°ì²´ ë§Œë“¤ê¸°</span>
			<span class="n">ps</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">prepareStatement</span><span class="o">(</span><span class="n">sql</span><span class="o">);</span>
									
			<span class="c1">// ####[3] sql ì „ì†¡</span>
			<span class="n">rs</span> <span class="o">=</span> <span class="n">ps</span><span class="o">.</span><span class="na">executeQuery</span><span class="o">();</span>
			
			<span class="c1">// ####[4] ê²°ê³¼ë³´ê¸°</span>
			<span class="k">while</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">next</span><span class="o">())</span> <span class="o">{</span>
				<span class="nc">BoardRec</span> <span class="n">rec</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BoardRec</span><span class="o">();</span>
				<span class="n">rec</span><span class="o">.</span><span class="na">setArticleId</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="s">"ARTICLE_ID"</span><span class="o">));</span>
				<span class="n">rec</span><span class="o">.</span><span class="na">setGroupId</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="s">"GROUP_ID"</span><span class="o">));</span>
				<span class="n">rec</span><span class="o">.</span><span class="na">setSequenceNo</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">"SEQUENCE_NO"</span><span class="o">));</span>
				<span class="n">rec</span><span class="o">.</span><span class="na">setPostingDate</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">"POSTING_DATE"</span><span class="o">));</span>
				<span class="n">rec</span><span class="o">.</span><span class="na">setReadCount</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="s">"READ_COUNT"</span><span class="o">));</span>
				<span class="n">rec</span><span class="o">.</span><span class="na">setWriterName</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">"WRITER_NAME"</span><span class="o">));</span>
				<span class="n">rec</span><span class="o">.</span><span class="na">setTitle</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">"TITLE"</span><span class="o">));</span>
				
				<span class="n">mList</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">rec</span><span class="o">);</span>
				<span class="n">isEmpty</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
			<span class="o">}</span>
			<span class="k">if</span><span class="o">(</span><span class="n">isEmpty</span><span class="o">)</span> <span class="k">return</span> <span class="nc">Collections</span><span class="o">.</span><span class="na">emptyList</span><span class="o">();</span>
			
			<span class="k">return</span> <span class="n">mList</span><span class="o">;</span>
		<span class="o">}</span><span class="k">catch</span><span class="o">(</span><span class="nc">Exception</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
			<span class="k">throw</span> <span class="k">new</span> <span class="nf">BoardException</span><span class="o">(</span><span class="s">"ê²Œì‹œíŒ ) DBì— ëª©ë¡ ê²€ìƒ‰ì‹œ ì˜¤ë¥˜  : "</span> <span class="o">+</span> <span class="n">ex</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>	
		<span class="o">}</span><span class="k">finally</span> <span class="o">{</span>
			<span class="k">if</span><span class="o">(</span><span class="n">rs</span>   <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span><span class="k">try</span> <span class="o">{</span><span class="n">rs</span><span class="o">.</span><span class="na">close</span><span class="o">();}</span> <span class="k">catch</span><span class="o">(</span><span class="nc">SQLException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{}}</span>
			<span class="k">if</span><span class="o">(</span><span class="n">ps</span>   <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span><span class="k">try</span> <span class="o">{</span><span class="n">ps</span><span class="o">.</span><span class="na">close</span><span class="o">();}</span> <span class="k">catch</span><span class="o">(</span><span class="nc">SQLException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{}}</span>
			<span class="k">if</span><span class="o">(</span><span class="n">con</span>  <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span><span class="k">try</span> <span class="o">{</span><span class="n">con</span><span class="o">.</span><span class="na">close</span><span class="o">();}</span> <span class="k">catch</span><span class="o">(</span><span class="nc">SQLException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{}}</span>
		<span class="o">}</span>		
	<span class="o">}</span>
	
	<span class="c1">//--------------------------------------------</span>
	<span class="c1">// ##### í˜„ì¬ í˜ì´ì§€ì— ë³´ì—¬ìš¸ ê²Œì‹œíŒ ëª©ë¡  ì–»ì–´ì˜¬ ë•Œ </span>
	<span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">BoardRec</span><span class="o">&gt;</span> <span class="nf">selectList</span><span class="o">(</span><span class="kt">int</span> <span class="n">startRow</span><span class="o">,</span> <span class="kt">int</span> <span class="n">endRow</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">BoardException</span> <span class="o">{</span>
		<span class="nc">Connection</span> <span class="n">con</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
		<span class="nc">PreparedStatement</span> <span class="n">ps</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
		<span class="nc">ResultSet</span> <span class="n">rs</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
		<span class="nc">List</span><span class="o">&lt;</span><span class="nc">BoardRec</span><span class="o">&gt;</span> <span class="n">mList</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">BoardRec</span><span class="o">&gt;();</span>
		<span class="kt">boolean</span> <span class="n">isEmpty</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
		
		<span class="k">try</span> <span class="o">{</span>
			<span class="c1">// ####[0] ì—°ê²° ê°ì²´ ì–»ì–´ì˜¤ê¸°</span>
			<span class="n">con</span> <span class="o">=</span> <span class="nc">DriverManager</span><span class="o">.</span><span class="na">getConnection</span><span class="o">(</span><span class="n">dbUrl</span><span class="o">,</span> <span class="n">dbUser</span><span class="o">,</span> <span class="n">dbPass</span><span class="o">);</span>
									
			<span class="c1">// ####[1] sql ë¬¸ì¥ ë§Œë“¤ê¸° (insertë¬¸)</span>
			<span class="nc">String</span> <span class="n">sql</span> <span class="o">=</span> <span class="s">"SELECT A.ARTICLE_ID, A.TITLE, A.WRITER_NAME, A.POSTING_DATE, A.READ_COUNT "</span> <span class="o">+</span> 
					<span class="s">"FROM (SELECT ROW_NUMBER() OVER(ORDER BY ARTICLE_ID DESC) RNUM, ARTICLE_ID, TITLE, WRITER_NAME, POSTING_DATE, READ_COUNT FROM ARTICLE) A "</span> <span class="o">+</span> 
					<span class="s">"WHERE A.RNUM BETWEEN ? AND ?"</span><span class="o">;</span>
						
			<span class="c1">// ####[2] sql ì „ì†¡ ê°ì²´ ë§Œë“¤ê¸°</span>
			<span class="n">ps</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">prepareStatement</span><span class="o">(</span><span class="n">sql</span><span class="o">);</span>
			<span class="n">ps</span><span class="o">.</span><span class="na">setInt</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="n">startRow</span><span class="o">);</span>
			<span class="n">ps</span><span class="o">.</span><span class="na">setInt</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="n">endRow</span><span class="o">);</span>
									
			<span class="c1">// ####[3] sql ì „ì†¡</span>
			<span class="n">rs</span> <span class="o">=</span> <span class="n">ps</span><span class="o">.</span><span class="na">executeQuery</span><span class="o">();</span>
			<span class="k">while</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">next</span><span class="o">())</span> <span class="o">{</span>
				<span class="c1">// ê° ì»¬ëŸ¼ë“¤ì˜ ê°’ì„ ê°€ì ¸ì™€ì„œ Messageì˜ propertyë¡œ ì§€ì •, ê·¸  Message ê°ì²´ë¥¼ ArrayListì— ì¶”ê°€</span>
				<span class="nc">BoardRec</span> <span class="n">rec</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BoardRec</span><span class="o">();</span>
				<span class="n">rec</span><span class="o">.</span><span class="na">setArticleId</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="s">"ARTICLE_ID"</span><span class="o">));</span>
				<span class="n">rec</span><span class="o">.</span><span class="na">setTitle</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">"TITLE"</span><span class="o">));</span>
				<span class="n">rec</span><span class="o">.</span><span class="na">setWriterName</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">"WRITER_NAME"</span><span class="o">));</span>
				<span class="n">rec</span><span class="o">.</span><span class="na">setPostingDate</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">"POSTING_DATE"</span><span class="o">));</span>
				<span class="n">rec</span><span class="o">.</span><span class="na">setReadCount</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="s">"READ_COUNT"</span><span class="o">));</span>
				
				<span class="n">mList</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">rec</span><span class="o">);</span>
				<span class="n">isEmpty</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
			<span class="o">}</span>
			
			<span class="k">if</span><span class="o">(</span><span class="n">isEmpty</span><span class="o">)</span> <span class="k">return</span> <span class="nc">Collections</span><span class="o">.</span><span class="na">emptyList</span><span class="o">();</span>
			
			<span class="k">return</span> <span class="n">mList</span><span class="o">;</span>
		<span class="o">}</span><span class="k">catch</span><span class="o">(</span><span class="nc">Exception</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
			<span class="k">throw</span> <span class="k">new</span> <span class="nf">BoardException</span><span class="o">(</span><span class="s">"ë°©ëª…ë¡ ) DBì— ëª©ë¡ ê²€ìƒ‰ì‹œ ì˜¤ë¥˜  : "</span> <span class="o">+</span> <span class="n">ex</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>	
		<span class="o">}</span><span class="k">finally</span> <span class="o">{</span>
			<span class="k">if</span><span class="o">(</span><span class="n">rs</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span><span class="k">try</span> <span class="o">{</span><span class="n">rs</span><span class="o">.</span><span class="na">close</span><span class="o">();}</span> <span class="k">catch</span><span class="o">(</span><span class="nc">SQLException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{}}</span>
			<span class="k">if</span><span class="o">(</span><span class="n">ps</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span><span class="k">try</span> <span class="o">{</span><span class="n">ps</span><span class="o">.</span><span class="na">close</span><span class="o">();}</span> <span class="k">catch</span><span class="o">(</span><span class="nc">SQLException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{}}</span>
			<span class="k">if</span><span class="o">(</span><span class="n">con</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span><span class="k">try</span> <span class="o">{</span><span class="n">con</span><span class="o">.</span><span class="na">close</span><span class="o">();}</span> <span class="k">catch</span><span class="o">(</span><span class="nc">SQLException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{}}</span>
		<span class="o">}</span>		
	<span class="o">}</span>

	<span class="c1">//--------------------------------------------</span>
	<span class="c1">// ##### ê²Œì‹œë¬¼ ì „ì²´ ë ˆì½”ë“œ ìˆ˜ë¥¼ ê²€ìƒ‰</span>
	<span class="kd">public</span> <span class="kt">int</span> <span class="nf">getTotalCount</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">BoardException</span> <span class="o">{</span>
		<span class="nc">Connection</span> <span class="n">con</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
		<span class="nc">PreparedStatement</span> <span class="n">ps</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
		<span class="nc">ResultSet</span> <span class="n">rs</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
		<span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

		<span class="k">try</span> <span class="o">{</span>
			<span class="c1">// ####[0] ì—°ê²° ê°ì²´ ì–»ì–´ì˜¤ê¸°</span>
			<span class="n">con</span> <span class="o">=</span> <span class="nc">DriverManager</span><span class="o">.</span><span class="na">getConnection</span><span class="o">(</span><span class="n">dbUrl</span><span class="o">,</span> <span class="n">dbUser</span><span class="o">,</span> <span class="n">dbPass</span><span class="o">);</span>
									
			<span class="c1">// ####[1] sql ë¬¸ì¥ ë§Œë“¤ê¸°</span>
			<span class="nc">String</span> <span class="n">sql</span> <span class="o">=</span> <span class="s">"SELECT count(*) cnt FROM ARTICLE"</span><span class="o">;</span>
									
			<span class="c1">// ####[2] sql ì „ì†¡ ê°ì²´ ë§Œë“¤ê¸°</span>
			<span class="n">ps</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">prepareStatement</span><span class="o">(</span><span class="n">sql</span><span class="o">);</span>
									
			<span class="c1">// ####[3] sql ì „ì†¡</span>
			<span class="n">rs</span> <span class="o">=</span> <span class="n">ps</span><span class="o">.</span><span class="na">executeQuery</span><span class="o">();</span>
			
			<span class="c1">// ####[4] ê²°ê³¼ë°›ê¸°</span>
			<span class="k">if</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">next</span><span class="o">())</span> <span class="o">{</span>
				<span class="n">count</span> <span class="o">=</span> <span class="n">rs</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="s">"CNT"</span><span class="o">);</span>
			<span class="o">}</span>
			
			<span class="k">return</span>  <span class="n">count</span><span class="o">;</span>
		<span class="o">}</span><span class="k">catch</span><span class="o">(</span><span class="nc">Exception</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
			<span class="k">throw</span> <span class="k">new</span> <span class="nf">BoardException</span><span class="o">(</span><span class="s">"ë°©ëª…ë¡ ) DBì— ëª©ë¡ ê²€ìƒ‰ì‹œ ì˜¤ë¥˜  : "</span> <span class="o">+</span> <span class="n">ex</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>	
		<span class="o">}</span><span class="k">finally</span> <span class="o">{</span>
			<span class="k">if</span><span class="o">(</span><span class="n">rs</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span><span class="k">try</span> <span class="o">{</span><span class="n">rs</span><span class="o">.</span><span class="na">close</span><span class="o">();}</span> <span class="k">catch</span><span class="o">(</span><span class="nc">SQLException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{}}</span>
			<span class="k">if</span><span class="o">(</span><span class="n">ps</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span><span class="k">try</span> <span class="o">{</span><span class="n">ps</span><span class="o">.</span><span class="na">close</span><span class="o">();}</span> <span class="k">catch</span><span class="o">(</span><span class="nc">SQLException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{}}</span>
			<span class="k">if</span><span class="o">(</span><span class="n">con</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span><span class="k">try</span> <span class="o">{</span><span class="n">con</span><span class="o">.</span><span class="na">close</span><span class="o">();}</span> <span class="k">catch</span><span class="o">(</span><span class="nc">SQLException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{}}</span>
		<span class="o">}</span>			
	<span class="o">}</span>
	
	<span class="c1">//--------------------------------------------</span>
	<span class="c1">// ##### ê²Œì‹œê¸€ë²ˆí˜¸ì— ì˜í•œ ë ˆì½”ë“œ ê²€ìƒ‰í•˜ëŠ” í•¨ìˆ˜</span>
	<span class="kd">public</span> <span class="nc">BoardRec</span> <span class="nf">selectById</span><span class="o">(</span><span class="kt">int</span> <span class="n">id</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">BoardException</span> <span class="o">{</span>
		<span class="nc">PreparedStatement</span> <span class="n">ps</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
		<span class="nc">ResultSet</span> <span class="n">rs</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
		<span class="nc">BoardRec</span> <span class="n">rec</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BoardRec</span><span class="o">();</span>
		
		<span class="k">try</span> <span class="o">{</span>
			<span class="c1">// ####[0] ì—°ê²° ê°ì²´ ì–»ì–´ì˜¤ê¸°</span>
			<span class="n">con</span> <span class="o">=</span> <span class="nc">DriverManager</span><span class="o">.</span><span class="na">getConnection</span><span class="o">(</span><span class="n">dbUrl</span><span class="o">,</span> <span class="n">dbUser</span><span class="o">,</span> <span class="n">dbPass</span><span class="o">);</span>
									
			<span class="c1">// ####[1] sql ë¬¸ì¥ ë§Œë“¤ê¸° (insertë¬¸)</span>
			<span class="nc">String</span> <span class="n">sql</span> <span class="o">=</span> <span class="s">"SELECT * FROM ARTICLE WHERE ARTICLE_ID = ?"</span><span class="o">;</span>
									
			<span class="c1">// ####[2] sql ì „ì†¡ ê°ì²´ ë§Œë“¤ê¸°</span>
			<span class="n">ps</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">prepareStatement</span><span class="o">(</span><span class="n">sql</span><span class="o">);</span>
			<span class="n">ps</span><span class="o">.</span><span class="na">setInt</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="n">id</span><span class="o">);</span>
						
			<span class="c1">// ####[3] sql ì „ì†¡</span>
			<span class="n">rs</span> <span class="o">=</span> <span class="n">ps</span><span class="o">.</span><span class="na">executeQuery</span><span class="o">();</span>
			
			<span class="c1">// ####[4] ê²°ê³¼ë³´ê¸°</span>
			<span class="k">if</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">next</span><span class="o">())</span> <span class="o">{</span>
				<span class="n">rec</span><span class="o">.</span><span class="na">setArticleId</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="s">"ARTICLE_ID"</span><span class="o">));</span>
				<span class="n">rec</span><span class="o">.</span><span class="na">setGroupId</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="s">"GROUP_ID"</span><span class="o">));</span>
				<span class="n">rec</span><span class="o">.</span><span class="na">setSequenceNo</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">"SEQUENCE_NO"</span><span class="o">));</span>
				<span class="n">rec</span><span class="o">.</span><span class="na">setPostingDate</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">"POSTING_DATE"</span><span class="o">));</span>
				<span class="n">rec</span><span class="o">.</span><span class="na">setReadCount</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="s">"READ_COUNT"</span><span class="o">));</span>
				<span class="n">rec</span><span class="o">.</span><span class="na">setWriterName</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">"WRITER_NAME"</span><span class="o">));</span>
				<span class="n">rec</span><span class="o">.</span><span class="na">setTitle</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">"TITLE"</span><span class="o">));</span>
				<span class="n">rec</span><span class="o">.</span><span class="na">setContent</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">"CONTENT"</span><span class="o">));</span>
			<span class="o">}</span>

			<span class="k">return</span> <span class="n">rec</span><span class="o">;</span>
		<span class="o">}</span><span class="k">catch</span><span class="o">(</span><span class="nc">Exception</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
			<span class="k">throw</span> <span class="k">new</span> <span class="nf">BoardException</span><span class="o">(</span><span class="s">"ê²Œì‹œíŒ ) DBì— ê¸€ë²ˆí˜¸ì— ì˜í•œ ë ˆì½”ë“œ ê²€ìƒ‰ì‹œ ì˜¤ë¥˜  : "</span> <span class="o">+</span> <span class="n">ex</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>	
		<span class="o">}</span><span class="k">finally</span> <span class="o">{</span>
			<span class="k">if</span><span class="o">(</span><span class="n">rs</span>   <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span><span class="k">try</span> <span class="o">{</span><span class="n">rs</span><span class="o">.</span><span class="na">close</span><span class="o">();}</span> <span class="k">catch</span><span class="o">(</span><span class="nc">SQLException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{}}</span>
			<span class="k">if</span><span class="o">(</span><span class="n">ps</span>   <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span><span class="k">try</span> <span class="o">{</span><span class="n">ps</span><span class="o">.</span><span class="na">close</span><span class="o">();}</span> <span class="k">catch</span><span class="o">(</span><span class="nc">SQLException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{}}</span>
			<span class="k">if</span><span class="o">(</span><span class="n">con</span>  <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span><span class="k">try</span> <span class="o">{</span><span class="n">con</span><span class="o">.</span><span class="na">close</span><span class="o">();}</span> <span class="k">catch</span><span class="o">(</span><span class="nc">SQLException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{}}</span>
		<span class="o">}</span>		
	<span class="o">}</span>

	<span class="c1">//--------------------------------------------</span>
	<span class="c1">// ##### ê²Œì‹œê¸€ ë³´ì—¬ì¤„ ë•Œ ì¡°íšŒìˆ˜ 1 ì¦ê°€</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">increaseReadCount</span><span class="o">(</span><span class="kt">int</span> <span class="n">article_id</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">BoardException</span> <span class="o">{</span>
		<span class="nc">PreparedStatement</span> <span class="n">ps</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
		
		<span class="k">try</span> <span class="o">{</span>
			<span class="c1">// ####[0] ì—°ê²° ê°ì²´ ì–»ì–´ì˜¤ê¸°</span>
			<span class="n">con</span> <span class="o">=</span> <span class="nc">DriverManager</span><span class="o">.</span><span class="na">getConnection</span><span class="o">(</span><span class="n">dbUrl</span><span class="o">,</span> <span class="n">dbUser</span><span class="o">,</span> <span class="n">dbPass</span><span class="o">);</span>
												
			<span class="c1">// ####[1] sql ë¬¸ì¥ ë§Œë“¤ê¸° (insertë¬¸)</span>
			<span class="nc">String</span> <span class="n">sql</span> <span class="o">=</span> <span class="s">"UPDATE ARTICLE SET READ_COUNT = READ_COUNT + 1 WHERE ARTICLE_ID = ?"</span><span class="o">;</span>
												
			<span class="c1">// ####[2] sql ì „ì†¡ ê°ì²´ ë§Œë“¤ê¸°</span>
			<span class="n">ps</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">prepareStatement</span><span class="o">(</span><span class="n">sql</span><span class="o">);</span>
			<span class="n">ps</span><span class="o">.</span><span class="na">setInt</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="n">article_id</span><span class="o">);</span>
									
			<span class="c1">// ####[3] sql ì „ì†¡</span>
			<span class="n">ps</span><span class="o">.</span><span class="na">executeUpdate</span><span class="o">();</span>

		<span class="o">}</span><span class="k">catch</span><span class="o">(</span><span class="nc">Exception</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
			<span class="k">throw</span> <span class="k">new</span> <span class="nf">BoardException</span><span class="o">(</span><span class="s">"ê²Œì‹œíŒ ) ê²Œì‹œê¸€ ë³¼ ë•Œ ì¡°íšŒìˆ˜ ì¦ê°€ì‹œ ì˜¤ë¥˜  : "</span> <span class="o">+</span> <span class="n">ex</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>	
		<span class="o">}</span><span class="k">finally</span> <span class="o">{</span>
			<span class="k">if</span><span class="o">(</span><span class="n">ps</span>   <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span><span class="k">try</span> <span class="o">{</span><span class="n">ps</span><span class="o">.</span><span class="na">close</span><span class="o">();}</span> <span class="k">catch</span><span class="o">(</span><span class="nc">SQLException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{}}</span>
			<span class="k">if</span><span class="o">(</span><span class="n">con</span>  <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span><span class="k">try</span> <span class="o">{</span><span class="n">con</span><span class="o">.</span><span class="na">close</span><span class="o">();}</span> <span class="k">catch</span><span class="o">(</span><span class="nc">SQLException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{}}</span>
		<span class="o">}</span>	
	<span class="o">}</span>
	
	<span class="c1">//--------------------------------------------</span>
	<span class="c1">// ##### ê²Œì‹œê¸€ ìˆ˜ì •í•  ë•Œ</span>
	<span class="c1">//		 (ê²Œì‹œê¸€ë²ˆí˜¸ì™€ íŒ¨ìŠ¤ì›Œë“œì— ì˜í•´ ìˆ˜ì •)</span>
	<span class="kd">public</span> <span class="kt">int</span> <span class="nf">update</span><span class="o">(</span><span class="nc">BoardRec</span> <span class="n">rec</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">BoardException</span> <span class="o">{</span>
		<span class="nc">PreparedStatement</span> <span class="n">ps</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
		<span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
		
		<span class="k">try</span> <span class="o">{</span>
			<span class="c1">// ####[0] ì—°ê²° ê°ì²´ ì–»ì–´ì˜¤ê¸°</span>
			<span class="n">con</span> <span class="o">=</span> <span class="nc">DriverManager</span><span class="o">.</span><span class="na">getConnection</span><span class="o">(</span><span class="n">dbUrl</span><span class="o">,</span> <span class="n">dbUser</span><span class="o">,</span> <span class="n">dbPass</span><span class="o">);</span>
															
			<span class="c1">// ####[1] sql ë¬¸ì¥ ë§Œë“¤ê¸° (insertë¬¸)</span>
			<span class="nc">String</span> <span class="n">sql</span> <span class="o">=</span> <span class="s">"UPDATE ARTICLE SET TITLE=?, CONTENT=? WHERE ARTICLE_ID = ? AND PASSWORD = ?"</span><span class="o">;</span>
															
			<span class="c1">// ####[2] sql ì „ì†¡ ê°ì²´ ë§Œë“¤ê¸°</span>
			<span class="n">ps</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">prepareStatement</span><span class="o">(</span><span class="n">sql</span><span class="o">);</span>
			<span class="n">ps</span><span class="o">.</span><span class="na">setString</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="n">rec</span><span class="o">.</span><span class="na">getTitle</span><span class="o">());</span>
			<span class="n">ps</span><span class="o">.</span><span class="na">setString</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="n">rec</span><span class="o">.</span><span class="na">getContent</span><span class="o">());</span>
			<span class="n">ps</span><span class="o">.</span><span class="na">setInt</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="n">rec</span><span class="o">.</span><span class="na">getArticleId</span><span class="o">());</span>
			<span class="n">ps</span><span class="o">.</span><span class="na">setString</span><span class="o">(</span><span class="mi">4</span><span class="o">,</span> <span class="n">rec</span><span class="o">.</span><span class="na">getPassword</span><span class="o">());</span>
												
			<span class="c1">// ####[3] sql ì „ì†¡</span>
			<span class="n">result</span> <span class="o">=</span> <span class="n">ps</span><span class="o">.</span><span class="na">executeUpdate</span><span class="o">();</span>

			<span class="k">return</span> <span class="n">result</span><span class="o">;</span>
		<span class="o">}</span><span class="k">catch</span><span class="o">(</span><span class="nc">Exception</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
			<span class="k">throw</span> <span class="k">new</span> <span class="nf">BoardException</span><span class="o">(</span><span class="s">"ê²Œì‹œíŒ ) ê²Œì‹œê¸€ ìˆ˜ì •ì‹œ ì˜¤ë¥˜  : "</span> <span class="o">+</span> <span class="n">ex</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>	
		<span class="o">}</span><span class="k">finally</span> <span class="o">{</span>
			<span class="k">if</span><span class="o">(</span><span class="n">ps</span>   <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span><span class="k">try</span> <span class="o">{</span><span class="n">ps</span><span class="o">.</span><span class="na">close</span><span class="o">();}</span> <span class="k">catch</span><span class="o">(</span><span class="nc">SQLException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{}}</span>
			<span class="k">if</span><span class="o">(</span><span class="n">con</span>  <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span><span class="k">try</span> <span class="o">{</span><span class="n">con</span><span class="o">.</span><span class="na">close</span><span class="o">();}</span> <span class="k">catch</span><span class="o">(</span><span class="nc">SQLException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{}}</span>
		<span class="o">}</span>
	<span class="o">}</span>
	
	<span class="c1">//--------------------------------------------</span>
	<span class="c1">// ##### ê²Œì‹œê¸€ ì‚­ì œí•  ë•Œ</span>
	<span class="c1">//		 (ê²Œì‹œê¸€ë²ˆí˜¸ì™€ íŒ¨ìŠ¤ì›Œë“œì— ì˜í•´ ì‚­ì œ)</span>
	<span class="kd">public</span> <span class="kt">int</span> <span class="nf">delete</span><span class="o">(</span><span class="kt">int</span> <span class="n">article_id</span><span class="o">,</span> <span class="nc">String</span> <span class="n">password</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">BoardException</span> <span class="o">{</span>
		<span class="nc">PreparedStatement</span> <span class="n">ps</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
		<span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
		
		<span class="k">try</span> <span class="o">{</span>
			<span class="c1">// ####[0] ì—°ê²° ê°ì²´ ì–»ì–´ì˜¤ê¸°</span>
			<span class="n">con</span> <span class="o">=</span> <span class="nc">DriverManager</span><span class="o">.</span><span class="na">getConnection</span><span class="o">(</span><span class="n">dbUrl</span><span class="o">,</span> <span class="n">dbUser</span><span class="o">,</span> <span class="n">dbPass</span><span class="o">);</span>
												
			<span class="c1">// ####[1] sql ë¬¸ì¥ ë§Œë“¤ê¸° (insertë¬¸)</span>
			<span class="nc">String</span> <span class="n">sql</span> <span class="o">=</span> <span class="s">"DELETE FROM ARTICLE WHERE ARTICLE_ID = ? AND PASSWORD = ?"</span><span class="o">;</span>
												
			<span class="c1">// ####[2] sql ì „ì†¡ ê°ì²´ ë§Œë“¤ê¸°</span>
			<span class="n">ps</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">prepareStatement</span><span class="o">(</span><span class="n">sql</span><span class="o">);</span>
			<span class="n">ps</span><span class="o">.</span><span class="na">setInt</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="n">article_id</span><span class="o">);</span>
			<span class="n">ps</span><span class="o">.</span><span class="na">setString</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="n">password</span><span class="o">);</span>
												
			<span class="c1">// ####[3] sql ì „ì†¡</span>
			<span class="n">result</span> <span class="o">=</span> <span class="n">ps</span><span class="o">.</span><span class="na">executeUpdate</span><span class="o">();</span>

			<span class="k">return</span> <span class="n">result</span><span class="o">;</span>	
		<span class="o">}</span><span class="k">catch</span><span class="o">(</span><span class="nc">Exception</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
			<span class="k">throw</span> <span class="k">new</span> <span class="nf">BoardException</span><span class="o">(</span><span class="s">"ê²Œì‹œíŒ ) ê²Œì‹œê¸€ ìˆ˜ì •ì‹œ ì˜¤ë¥˜  : "</span> <span class="o">+</span> <span class="n">ex</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>	
		<span class="o">}</span><span class="k">finally</span> <span class="o">{</span>
			<span class="k">if</span><span class="o">(</span><span class="n">ps</span>   <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span><span class="k">try</span> <span class="o">{</span><span class="n">ps</span><span class="o">.</span><span class="na">close</span><span class="o">();}</span> <span class="k">catch</span><span class="o">(</span><span class="nc">SQLException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{}}</span>
			<span class="k">if</span><span class="o">(</span><span class="n">con</span>  <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span><span class="k">try</span> <span class="o">{</span><span class="n">con</span><span class="o">.</span><span class="na">close</span><span class="o">();}</span> <span class="k">catch</span><span class="o">(</span><span class="nc">SQLException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{}}</span>
		<span class="o">}</span>
		
	<span class="o">}</span>
	
	<span class="c1">//----------------------------------------------------</span>
	<span class="c1">// ##### ë¶€ëª¨ë ˆì½”ë“œì˜ ìì‹ë ˆì½”ë“œ ì¤‘ ë§ˆì§€ë§‰ ë ˆì½”ë“œì˜ ìˆœì„œë²ˆí˜¸ë¥¼ ê²€ìƒ‰</span>
	<span class="c1">//       (ì œì¼ ì‘ì€ ë²ˆí˜¸ê°’ì´ ë§ˆì§€ë§‰ê°’ì„)</span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">selectLastSequenceNumber</span><span class="o">(</span><span class="nc">String</span> <span class="n">maxSeqNum</span><span class="o">,</span> <span class="nc">String</span> <span class="n">minSeqNum</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">BoardException</span> <span class="o">{</span>
		<span class="nc">PreparedStatement</span> <span class="n">ps</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
		<span class="nc">ResultSet</span> <span class="n">rs</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>

		<span class="k">try</span> <span class="o">{</span>
			<span class="n">con</span>	<span class="o">=</span> <span class="nc">DriverManager</span><span class="o">.</span><span class="na">getConnection</span><span class="o">(</span> <span class="n">dbUrl</span><span class="o">,</span> <span class="n">dbUser</span><span class="o">,</span> <span class="n">dbPass</span> <span class="o">);</span>
			<span class="nc">String</span> <span class="n">sql</span> <span class="o">=</span> <span class="s">"SELECT min(SEQUENCE_NO) as minseq FROM ARTICLE WHERE SEQUENCE_NO &lt; ? AND SEQUENCE_NO &gt;= ?"</span><span class="o">;</span>  
			<span class="n">ps</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">prepareStatement</span><span class="o">(</span><span class="n">sql</span><span class="o">);</span>
			<span class="n">ps</span><span class="o">.</span><span class="na">setString</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="n">maxSeqNum</span><span class="o">);</span>
			<span class="n">ps</span><span class="o">.</span><span class="na">setString</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="n">minSeqNum</span><span class="o">);</span>
			<span class="n">rs</span> <span class="o">=</span> <span class="n">ps</span><span class="o">.</span><span class="na">executeQuery</span><span class="o">();</span>
			<span class="k">if</span><span class="o">(!</span><span class="n">rs</span><span class="o">.</span><span class="na">next</span><span class="o">())</span> <span class="o">{</span>				
				<span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
			<span class="o">}</span>
			
			<span class="k">return</span> <span class="n">rs</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">"minseq"</span><span class="o">);</span>
		<span class="o">}</span><span class="k">catch</span><span class="o">(</span><span class="nc">Exception</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
			<span class="k">throw</span> <span class="k">new</span> <span class="nf">BoardException</span><span class="o">(</span><span class="s">"ê²Œì‹œíŒ ) ë¶€ëª¨ì™€ ì—°ê´€ëœ ìì‹ ë ˆì½”ë“œ ì¤‘ ë§ˆì§€ë§‰ ìˆœì„œë²ˆí˜¸ ì–»ì–´ì˜¤ê¸°  : "</span> <span class="o">+</span> <span class="n">ex</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>	
		<span class="o">}</span> <span class="k">finally</span><span class="o">{</span>
			<span class="k">if</span><span class="o">(</span><span class="n">rs</span>   <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span><span class="k">try</span> <span class="o">{</span><span class="n">rs</span><span class="o">.</span><span class="na">close</span><span class="o">();}</span> <span class="k">catch</span><span class="o">(</span><span class="nc">SQLException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{}}</span>
			<span class="k">if</span><span class="o">(</span><span class="n">ps</span>   <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span><span class="k">try</span> <span class="o">{</span><span class="n">ps</span><span class="o">.</span><span class="na">close</span><span class="o">();}</span> <span class="k">catch</span><span class="o">(</span><span class="nc">SQLException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{}}</span>
			<span class="k">if</span><span class="o">(</span><span class="n">con</span>  <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span><span class="k">try</span> <span class="o">{</span><span class="n">con</span><span class="o">.</span><span class="na">close</span><span class="o">();}</span> <span class="k">catch</span><span class="o">(</span><span class="nc">SQLException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{}}</span>
		<span class="o">}</span>			
	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="boardcontrol">BoardControl</h2>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">mvc.board.control</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.HashMap</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">mvc.board.command.*</span><span class="o">;</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">BoardControl</span> <span class="kd">extends</span> <span class="nc">HttpServlet</span> <span class="o">{</span>
	<span class="kd">private</span> <span class="nc">HashMap</span> <span class="n">commandMap</span><span class="o">;</span>
	<span class="kd">private</span> <span class="nc">String</span>	<span class="n">testDir</span> <span class="o">=</span> <span class="s">"/05_mvc_class/2_mvcBoard/"</span><span class="o">;</span>
	<span class="kd">private</span> <span class="nc">String</span>  <span class="n">error</span> <span class="o">=</span> <span class="s">"error.jsp"</span><span class="o">;</span>

	<span class="kd">public</span> <span class="nf">BoardControl</span><span class="o">()</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">();</span>       
		<span class="n">initCommand</span><span class="o">();</span>
	<span class="o">}</span>

	<span class="kd">private</span> <span class="kt">void</span> <span class="nf">initCommand</span><span class="o">()</span> <span class="o">{</span>
		<span class="n">commandMap</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">();</span>
		
		<span class="n">commandMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"main-page"</span><span class="o">,</span>	<span class="k">new</span> <span class="nc">CommandNull</span><span class="o">(</span><span class="s">"Main.jsp"</span><span class="o">));</span>
		<span class="n">commandMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"list-page"</span><span class="o">,</span>	<span class="k">new</span> <span class="nc">CommandList</span><span class="o">(</span><span class="s">"BoardList.jsp"</span><span class="o">));</span>
		<span class="n">commandMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"view-page"</span><span class="o">,</span> <span class="k">new</span> <span class="nc">CommandView</span><span class="o">(</span><span class="s">"BoardView.jsp"</span><span class="o">));</span>
		
		<span class="n">commandMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"input-page"</span><span class="o">,</span> <span class="k">new</span> <span class="nc">CommandNull</span><span class="o">(</span><span class="s">"BoardInputForm.jsp"</span><span class="o">));</span>
		<span class="n">commandMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"input-do"</span><span class="o">,</span> <span class="k">new</span> <span class="nc">CommandInput</span><span class="o">(</span><span class="s">"BoardSave.jsp"</span><span class="o">));</span>
		
		<span class="n">commandMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"delete-page"</span><span class="o">,</span> <span class="k">new</span> <span class="nc">CommandNull</span><span class="o">(</span><span class="s">"BoardDeleteForm.jsp"</span><span class="o">));</span>
		<span class="n">commandMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"delete-do"</span><span class="o">,</span> <span class="k">new</span> <span class="nc">CommandDelete</span><span class="o">(</span><span class="s">"BoardDelete.jsp"</span><span class="o">));</span>
		
		<span class="n">commandMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"modify-page"</span><span class="o">,</span> <span class="k">new</span> <span class="nc">CommandNull</span><span class="o">(</span><span class="s">"BoardModifyForm.jsp"</span><span class="o">));</span>
		<span class="n">commandMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"modify-do"</span><span class="o">,</span> <span class="k">new</span> <span class="nc">CommandModify</span><span class="o">(</span><span class="s">"BoardModify.jsp"</span><span class="o">));</span>
		
		<span class="n">commandMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"reply-page"</span><span class="o">,</span> <span class="k">new</span> <span class="nc">CommandNull</span><span class="o">(</span><span class="s">"BoardReplyForm.jsp"</span><span class="o">));</span>
		<span class="n">commandMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"reply-do"</span><span class="o">,</span> <span class="k">new</span> <span class="nc">CommandReply</span><span class="o">(</span><span class="s">"BoardReply.jsp"</span><span class="o">));</span>
	<span class="o">}</span>

	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">doGet</span><span class="o">(</span><span class="nc">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span> <span class="nc">HttpServletResponse</span> <span class="n">response</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">ServletException</span><span class="o">,</span> <span class="nc">IOException</span> <span class="o">{</span>
		<span class="n">processRequest</span><span class="o">(</span><span class="n">request</span><span class="o">,</span> <span class="n">response</span><span class="o">);</span>
	<span class="o">}</span>

	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">doPost</span><span class="o">(</span><span class="nc">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span> <span class="nc">HttpServletResponse</span> <span class="n">response</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">ServletException</span><span class="o">,</span> <span class="nc">IOException</span> <span class="o">{</span>
		<span class="n">processRequest</span><span class="o">(</span><span class="n">request</span><span class="o">,</span> <span class="n">response</span><span class="o">);</span>
	<span class="o">}</span>
		

	<span class="kd">private</span> <span class="kt">void</span> <span class="nf">processRequest</span><span class="o">(</span><span class="nc">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span> <span class="nc">HttpServletResponse</span> <span class="n">response</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">ServletException</span><span class="o">,</span> <span class="nc">IOException</span> <span class="o">{</span>
		<span class="n">request</span><span class="o">.</span><span class="na">setCharacterEncoding</span><span class="o">(</span><span class="s">"utf-8"</span><span class="o">);</span>

		<span class="nc">String</span> <span class="n">nextPage</span> <span class="o">=</span> <span class="s">""</span><span class="o">;</span>
		<span class="nc">String</span> <span class="n">cmdKey</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"cmd"</span><span class="o">);</span>
		<span class="k">if</span><span class="o">(</span><span class="n">cmdKey</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">cmdKey</span> <span class="o">=</span> <span class="s">"main-page"</span><span class="o">;</span>
		<span class="o">}</span>

		<span class="nc">Command</span> <span class="n">cmd</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
		<span class="k">try</span> <span class="o">{</span>
			<span class="k">if</span><span class="o">(</span><span class="n">commandMap</span><span class="o">.</span><span class="na">containsKey</span><span class="o">(</span><span class="n">cmdKey</span><span class="o">))</span> <span class="o">{</span>
				<span class="n">cmd</span> <span class="o">=</span> <span class="o">(</span><span class="nc">Command</span><span class="o">)</span><span class="n">commandMap</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">cmdKey</span><span class="o">);</span>
			<span class="o">}</span><span class="k">else</span> <span class="o">{</span>
				<span class="k">throw</span> <span class="k">new</span> <span class="nf">CommandException</span><span class="o">(</span><span class="s">"ì§€ì •í•  ëª…ë ¹ì–´ê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŒ"</span><span class="o">);</span>
			<span class="o">}</span>
			<span class="n">nextPage</span> <span class="o">=</span> <span class="n">cmd</span><span class="o">.</span><span class="na">execute</span><span class="o">(</span><span class="n">request</span><span class="o">,</span> <span class="n">response</span><span class="o">);</span>
			
		<span class="o">}</span><span class="k">catch</span><span class="o">(</span><span class="nc">CommandException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">request</span><span class="o">.</span><span class="na">setAttribute</span><span class="o">(</span><span class="s">"javax.servlet.jsp.jspException"</span><span class="o">,</span> <span class="n">e</span><span class="o">);</span>
			<span class="n">nextPage</span> <span class="o">=</span> <span class="n">error</span><span class="o">;</span>
			<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"ì˜¤ë¥˜ : "</span> <span class="o">+</span> <span class="n">e</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span>
		<span class="o">}</span>
			
		<span class="c1">// forwarding</span>
		<span class="nc">RequestDispatcher</span> <span class="n">reqDp</span> <span class="o">=</span> <span class="n">getServletContext</span><span class="o">().</span><span class="na">getRequestDispatcher</span><span class="o">(</span><span class="n">testDir</span> <span class="o">+</span> <span class="n">nextPage</span><span class="o">);</span>
		<span class="n">reqDp</span><span class="o">.</span><span class="na">forward</span><span class="o">(</span><span class="n">request</span><span class="o">,</span> <span class="n">response</span><span class="o">);</span>
	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="command">Command</h2>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">mvc.board.command</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletRequest</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletResponse</span><span class="o">;</span>
<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">Command</span> <span class="o">{</span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">execute</span><span class="o">(</span><span class="nc">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span> <span class="nc">HttpServletResponse</span> <span class="n">response</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">CommandException</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="commandexception">CommandException</h2>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">mvc.board.command</span><span class="o">;</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CommandException</span> <span class="kd">extends</span> <span class="nc">Exception</span> <span class="o">{</span>
	  <span class="kd">public</span> <span class="nf">CommandException</span><span class="o">()</span> <span class="o">{</span>
	  		<span class="kd">super</span><span class="o">();</span>
	  	<span class="o">}</span>
	  	
	  <span class="kd">public</span> <span class="nf">CommandException</span><span class="o">(</span><span class="nc">String</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
	  		<span class="kd">super</span><span class="o">(</span><span class="n">error</span><span class="o">);</span>
	  	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="commandnull">CommandNull</h2>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">mvc.board.command</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletRequest</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletResponse</span><span class="o">;</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CommandNull</span> <span class="kd">implements</span> <span class="nc">Command</span> <span class="o">{</span>
	<span class="kd">private</span> <span class="nc">String</span> <span class="n">next</span><span class="o">;</span>

	<span class="kd">public</span> <span class="nf">CommandNull</span><span class="o">(</span><span class="nc">String</span> <span class="n">_next</span><span class="o">)</span> <span class="o">{</span>
		<span class="n">next</span> <span class="o">=</span> <span class="n">_next</span><span class="o">;</span>
	<span class="o">}</span>

	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">execute</span><span class="o">(</span><span class="nc">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span> <span class="nc">HttpServletResponse</span> <span class="n">response</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">CommandException</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">next</span><span class="o">;</span>
	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="commandlist">CommandList</h2>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">mvc.board.command</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletRequest</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletResponse</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">mvc.board.model.*</span><span class="o">;</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CommandList</span> <span class="kd">implements</span> <span class="nc">Command</span> <span class="o">{</span>
	<span class="kd">private</span> <span class="nc">String</span> <span class="n">next</span><span class="o">;</span>
	<span class="kd">private</span> <span class="kt">int</span> <span class="n">totalRecCount</span><span class="o">;</span>		<span class="c1">// ì „ì²´ ë ˆì½”ë“œ ìˆ˜	</span>
	<span class="kd">private</span> <span class="kt">int</span> <span class="n">pageTotalCount</span><span class="o">;</span>		<span class="c1">// ì „ì²´ í˜ì´ì§€ ìˆ˜</span>
	<span class="kd">private</span> <span class="kt">int</span> <span class="n">countPerPage</span> <span class="o">=</span> <span class="mi">3</span><span class="o">;</span>	<span class="c1">// í•œí˜ì´ì§€ë‹¹ ë ˆì½”ë“œ ìˆ˜</span>
	<span class="kd">private</span> <span class="kt">int</span> <span class="n">pageNo</span><span class="o">;</span>				<span class="c1">// í˜ì´ì§€ ë²ˆí˜¸</span>
	
	<span class="kd">public</span> <span class="nf">CommandList</span><span class="o">(</span><span class="nc">String</span> <span class="n">_next</span><span class="o">)</span> <span class="o">{</span>
		<span class="n">next</span> <span class="o">=</span> <span class="n">_next</span><span class="o">;</span>
	<span class="o">}</span>

	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">execute</span><span class="o">(</span><span class="nc">HttpServletRequest</span> <span class="n">request</span> <span class="o">,</span> <span class="nc">HttpServletResponse</span> <span class="n">response</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">CommandException</span> <span class="o">{</span>
		<span class="k">try</span> <span class="o">{</span>
			<span class="nc">String</span> <span class="n">pNum</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"page"</span><span class="o">);</span>
			<span class="nc">List</span> <span class="o">&lt;</span><span class="nc">BoardRec</span><span class="o">&gt;</span> <span class="n">mList</span> <span class="o">=</span> <span class="n">getArticleList</span><span class="o">(</span><span class="n">pNum</span><span class="o">);</span>
			
			<span class="n">request</span><span class="o">.</span><span class="na">setAttribute</span><span class="o">(</span><span class="s">"mList"</span><span class="o">,</span> <span class="n">mList</span><span class="o">);</span>
			
			<span class="kt">int</span> <span class="n">pCount</span> <span class="o">=</span> <span class="n">getTotalPage</span><span class="o">();</span>
			
			<span class="n">request</span><span class="o">.</span><span class="na">setAttribute</span><span class="o">(</span><span class="s">"pCount"</span><span class="o">,</span> <span class="n">pCount</span><span class="o">);</span>
		   
		<span class="o">}</span><span class="k">catch</span><span class="o">(</span><span class="nc">BoardException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
			<span class="k">throw</span> <span class="k">new</span> <span class="nf">CommandException</span><span class="o">(</span><span class="s">"CommandList.java &lt; ëª©ë¡ &gt; "</span> <span class="o">+</span> <span class="n">ex</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span> 
		<span class="o">}</span>
		<span class="k">return</span> <span class="n">next</span><span class="o">;</span>
	<span class="o">}</span>
	
	<span class="c1">// pNumì„ ë°›ì•„ì¤€ë‹¤</span>
		<span class="kd">public</span> <span class="nc">List</span> <span class="o">&lt;</span><span class="nc">BoardRec</span><span class="o">&gt;</span> <span class="nf">getArticleList</span><span class="o">(</span><span class="nc">String</span> <span class="n">pNum</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">BoardException</span> <span class="o">{</span>
			<span class="c1">// í˜ì´ì§€ ë²ˆí˜¸ì— ë”°ë¥¸ ì‹œì‘ ë ˆì½”ë“œ ë²ˆí˜¸(startRow)ì™€ ë³´ì—¬ì¤„ ë§ˆì§€ë§‰ ë ˆì½”ë“œ ë²ˆí˜¸(endRow) ì¶”ì¶œ</span>
		<span class="cm">/*
		 		ì „ì²´ ë ˆì½”ë“œ ìˆ˜ê°€ 9
		 		1 í˜ì´ì§€ : 1 ~ 3
		 		2 í˜ì´ì§€ : 4 ~ 6
		 		3 í˜ì´ì§€ : 7 ~ 9
		 */</span>
			<span class="c1">// ì²«í˜ì´ì§€ëŠ” 1ë¡œ ë§Œë“¤ì–´ì¤€ë‹¤.</span>
			<span class="n">pageNo</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
			<span class="c1">// pNumì— nullê°’ì´ ì•„ë‹ë•Œë§Œ pNumì„ í˜•ë³€í™˜í•´ì¤€ë‹¤.</span>
			<span class="k">if</span><span class="o">(</span><span class="n">pNum</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="n">pageNo</span> <span class="o">=</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">pNum</span><span class="o">);</span>
			
			<span class="kt">int</span> <span class="n">endRow</span> <span class="o">=</span> <span class="n">pageNo</span> <span class="o">*</span> <span class="n">countPerPage</span><span class="o">;</span>
			<span class="kt">int</span> <span class="n">startRow</span> <span class="o">=</span> <span class="n">endRow</span> <span class="o">-</span> <span class="o">(</span><span class="n">countPerPage</span> <span class="o">-</span> <span class="mi">1</span><span class="o">);</span>
			
			<span class="c1">// í˜„ì¬ í˜ì´ì§€ì— ë³´ì—¬ìš¸ ë©”ì„¸ì§€ ëª©ë¡ì„ ì–»ì–´ì˜´</span>
			<span class="nc">List</span> <span class="o">&lt;</span><span class="nc">BoardRec</span><span class="o">&gt;</span> <span class="n">mList</span> <span class="o">=</span> <span class="nc">BoardDao</span><span class="o">.</span><span class="na">getInstance</span><span class="o">().</span><span class="na">selectList</span><span class="o">(</span><span class="n">startRow</span><span class="o">,</span> <span class="n">endRow</span><span class="o">);</span>			
				<span class="k">return</span> <span class="n">mList</span><span class="o">;</span>
		<span class="o">}</span>
			
		<span class="kd">public</span> <span class="kt">int</span> <span class="nf">getTotalPage</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">BoardException</span> <span class="o">{</span>
			<span class="c1">// ì „ì²´ ë ˆì½”ë“œ ìˆ˜ë¥¼ ì–»ì–´ì˜´</span>
			<span class="n">totalRecCount</span> <span class="o">=</span> <span class="nc">BoardDao</span><span class="o">.</span><span class="na">getInstance</span><span class="o">().</span><span class="na">getTotalCount</span><span class="o">();</span>
			
			<span class="c1">// ì „ì²´ í˜ì´ì§€ ìˆ˜ë¥¼ êµ¬í•¨</span>
	<span class="cm">/*
				     ë ˆì½”ë“œìˆ˜	     í˜ì´ì§€ìˆ˜
		 			9		3
					10		4
		 			11		4
		 			12		4
		 			13		5
	*/</span>
			<span class="n">pageTotalCount</span> <span class="o">=</span> <span class="n">totalRecCount</span> <span class="o">/</span> <span class="n">countPerPage</span><span class="o">;</span>  
			<span class="k">if</span><span class="o">(</span><span class="n">totalRecCount</span> <span class="o">%</span> <span class="n">countPerPage</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
				<span class="n">pageTotalCount</span><span class="o">++;</span>
			<span class="o">}</span>
			<span class="k">return</span> <span class="n">pageTotalCount</span><span class="o">;</span>
		<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="commandinput">CommandInput</h2>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">mvc.board.command</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.text.DecimalFormat</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletRequest</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletResponse</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">mvc.board.model.*</span><span class="o">;</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CommandInput</span> <span class="kd">implements</span> <span class="nc">Command</span> <span class="o">{</span>
	<span class="kd">private</span> <span class="nc">String</span> <span class="n">next</span><span class="o">;</span>

	<span class="kd">public</span> <span class="nf">CommandInput</span><span class="o">(</span><span class="nc">String</span> <span class="n">_next</span><span class="o">)</span> <span class="o">{</span>
		<span class="n">next</span> <span class="o">=</span> <span class="n">_next</span><span class="o">;</span>
	<span class="o">}</span>
	
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">execute</span><span class="o">(</span><span class="nc">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span> <span class="nc">HttpServletResponse</span> <span class="n">response</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">CommandException</span> <span class="o">{</span>
		<span class="k">try</span> <span class="o">{</span>
			<span class="nc">BoardRec</span> <span class="n">rec</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BoardRec</span><span class="o">();</span>
			<span class="nc">BoardDao</span> <span class="n">dao</span> <span class="o">=</span> <span class="nc">BoardDao</span><span class="o">.</span><span class="na">getInstance</span><span class="o">();</span>
			
			<span class="n">rec</span><span class="o">.</span><span class="na">setWriterName</span><span class="o">(</span><span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"writerName"</span><span class="o">));</span>	<span class="c1">// ì‘ì„±ì</span>
			<span class="n">rec</span><span class="o">.</span><span class="na">setTitle</span><span class="o">(</span><span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"title"</span><span class="o">));</span>			<span class="c1">// ì œëª©</span>
			<span class="n">rec</span><span class="o">.</span><span class="na">setContent</span><span class="o">(</span><span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"content"</span><span class="o">));</span>		<span class="c1">// ë‚´ìš©</span>
			<span class="n">rec</span><span class="o">.</span><span class="na">setPassword</span><span class="o">(</span><span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"password"</span><span class="o">));</span>		<span class="c1">// ë¹„ë°€ë²ˆí˜¸</span>
			<span class="kt">int</span> <span class="n">groupId</span> <span class="o">=</span> <span class="n">dao</span><span class="o">.</span><span class="na">getGroupId</span><span class="o">();</span>
			<span class="n">rec</span><span class="o">.</span><span class="na">setGroupId</span><span class="o">(</span><span class="n">groupId</span><span class="o">);</span>								<span class="c1">// ê·¸ë£¹ë²ˆí˜¸</span>
			
<span class="cm">/*
			groupId = 1 ì´ë¼ë©´		00000000001999999
			groupId = 1234 ì´ë¼ë©´ 	00000001234999999
*/</span>
			<span class="c1">// ìˆœì„œë²ˆí˜¸(sequence_no) ì§€ì •</span>
			<span class="nc">DecimalFormat</span> <span class="n">dformat</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">DecimalFormat</span><span class="o">(</span><span class="s">"0000000000"</span><span class="o">);</span>
			<span class="n">rec</span><span class="o">.</span><span class="na">setSequenceNo</span><span class="o">(</span><span class="n">dformat</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="n">groupId</span><span class="o">)</span> <span class="o">+</span> <span class="s">"999999"</span><span class="o">);</span>
			
			<span class="n">rec</span><span class="o">.</span><span class="na">setArticleId</span><span class="o">(</span><span class="n">dao</span><span class="o">.</span><span class="na">insert</span><span class="o">(</span><span class="n">rec</span><span class="o">));</span>
			
			<span class="c1">//-------------------------------------------------------------</span>
		    <span class="nc">List</span> <span class="o">&lt;</span><span class="nc">BoardRec</span><span class="o">&gt;</span> <span class="n">mList</span> <span class="o">=</span> <span class="n">dao</span><span class="o">.</span><span class="na">selectList</span><span class="o">();</span>	
		    <span class="n">request</span><span class="o">.</span><span class="na">setAttribute</span><span class="o">(</span><span class="s">"param"</span><span class="o">,</span> <span class="n">mList</span><span class="o">);</span>
		    
		<span class="o">}</span><span class="k">catch</span><span class="o">(</span><span class="nc">BoardException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
			<span class="k">throw</span> <span class="k">new</span> <span class="nf">CommandException</span><span class="o">(</span><span class="s">"CommandInput.java &lt; ì…ë ¥ì‹œ &gt; "</span> <span class="o">+</span> <span class="n">ex</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span> 
		<span class="o">}</span>
		<span class="k">return</span> <span class="n">next</span><span class="o">;</span>
	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="commandview">CommandView</h2>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">mvc.board.command</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletRequest</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletResponse</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">mvc.board.model.*</span><span class="o">;</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CommandView</span> <span class="kd">implements</span> <span class="nc">Command</span> <span class="o">{</span>
	<span class="kd">private</span> <span class="nc">String</span> <span class="n">next</span><span class="o">;</span>

	<span class="kd">public</span> <span class="nf">CommandView</span><span class="o">(</span><span class="nc">String</span> <span class="n">_next</span><span class="o">)</span> <span class="o">{</span>
		<span class="n">next</span> <span class="o">=</span> <span class="n">_next</span><span class="o">;</span>
	<span class="o">}</span>
	
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">execute</span><span class="o">(</span><span class="nc">HttpServletRequest</span> <span class="n">request</span> <span class="o">,</span> <span class="nc">HttpServletResponse</span> <span class="n">response</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">CommandException</span> <span class="o">{</span>
		<span class="k">try</span> <span class="o">{</span>
			<span class="kt">int</span> <span class="n">article_id</span> <span class="o">=</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"article_id"</span><span class="o">));</span>
			<span class="nc">BoardDao</span> <span class="n">dao</span> <span class="o">=</span> <span class="nc">BoardDao</span><span class="o">.</span><span class="na">getInstance</span><span class="o">();</span>
			<span class="n">dao</span><span class="o">.</span><span class="na">increaseReadCount</span><span class="o">(</span><span class="n">article_id</span><span class="o">);</span>
			<span class="nc">BoardRec</span> <span class="n">rec</span> <span class="o">=</span> <span class="n">dao</span><span class="o">.</span><span class="na">selectById</span><span class="o">(</span><span class="n">article_id</span><span class="o">);</span>

		    <span class="n">request</span><span class="o">.</span><span class="na">setAttribute</span><span class="o">(</span><span class="s">"rec"</span><span class="o">,</span> <span class="n">rec</span><span class="o">);</span>

		<span class="o">}</span><span class="k">catch</span><span class="o">(</span><span class="nc">BoardException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
			<span class="k">throw</span> <span class="k">new</span> <span class="nf">CommandException</span><span class="o">(</span><span class="s">"CommandList.java &lt; ê²Œì‹œë¬¼ &gt; "</span> <span class="o">+</span> <span class="n">ex</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span> 
		<span class="o">}</span>
		<span class="k">return</span> <span class="n">next</span><span class="o">;</span>
	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="commanddelete">CommandDelete</h2>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">mvc.board.command</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletRequest</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletResponse</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">mvc.board.model.*</span><span class="o">;</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CommandDelete</span> <span class="kd">implements</span> <span class="nc">Command</span><span class="o">{</span>
	<span class="kd">private</span> <span class="nc">String</span> <span class="n">next</span><span class="o">;</span>

	<span class="kd">public</span> <span class="nf">CommandDelete</span><span class="o">(</span> <span class="nc">String</span> <span class="n">_next</span> <span class="o">){</span>
		<span class="n">next</span> <span class="o">=</span> <span class="n">_next</span><span class="o">;</span>
	<span class="o">}</span>
	
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">execute</span><span class="o">(</span><span class="nc">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span> <span class="nc">HttpServletResponse</span> <span class="n">response</span> <span class="o">)</span> <span class="kd">throws</span> <span class="nc">CommandException</span> <span class="o">{</span>
		<span class="k">try</span> <span class="o">{</span>	
			<span class="kt">int</span> <span class="n">articleId</span> <span class="o">=</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"article_id"</span><span class="o">));</span>	<span class="c1">// ê²Œì‹œê¸€ë²ˆí˜¸</span>
			<span class="nc">String</span> <span class="n">password</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"password"</span><span class="o">);</span>						<span class="c1">// ë¹„ë°€ë²ˆí˜¸</span>
			
			<span class="kt">int</span> <span class="n">resultCnt</span> <span class="o">=</span> <span class="nc">BoardDao</span><span class="o">.</span><span class="na">getInstance</span><span class="o">().</span><span class="na">delete</span><span class="o">(</span><span class="n">articleId</span><span class="o">,</span> <span class="n">password</span><span class="o">);</span>
			
			<span class="n">request</span><span class="o">.</span><span class="na">setAttribute</span><span class="o">(</span><span class="s">"result"</span><span class="o">,</span> <span class="n">resultCnt</span><span class="o">);</span>
			
		<span class="o">}</span><span class="k">catch</span><span class="o">(</span><span class="nc">BoardException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
			<span class="k">throw</span> <span class="k">new</span> <span class="nf">CommandException</span><span class="o">(</span><span class="s">"CommandDelete.java &lt; ì‚­ì œ &gt; "</span> <span class="o">+</span> <span class="n">ex</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span> 
		<span class="o">}</span>
		<span class="k">return</span> <span class="n">next</span><span class="o">;</span>			
	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="commandmodify">CommandModify</h2>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">mvc.board.command</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletRequest</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletResponse</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">mvc.board.model.*</span><span class="o">;</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CommandModify</span> <span class="kd">implements</span> <span class="nc">Command</span> <span class="o">{</span>
	<span class="kd">private</span> <span class="nc">String</span> <span class="n">next</span><span class="o">;</span>

	<span class="kd">public</span> <span class="nf">CommandModify</span><span class="o">(</span><span class="nc">String</span> <span class="n">_next</span><span class="o">)</span> <span class="o">{</span>
		<span class="n">next</span> <span class="o">=</span> <span class="n">_next</span><span class="o">;</span>
	<span class="o">}</span>
	
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">execute</span><span class="o">(</span><span class="nc">HttpServletRequest</span> <span class="n">request</span> <span class="o">,</span> <span class="nc">HttpServletResponse</span> <span class="n">response</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">CommandException</span> <span class="o">{</span>
		<span class="k">try</span> <span class="o">{</span>
			<span class="nc">BoardRec</span> <span class="n">rec</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BoardRec</span><span class="o">();</span>
	        <span class="kt">int</span> <span class="n">article_id</span> <span class="o">=</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"articleId"</span><span class="o">));</span> <span class="c1">// BoardModifyFormì—ì„œ parameterë¥¼ ë°›ì•„ì˜¨ë‹¤.</span>
	        <span class="n">rec</span><span class="o">.</span><span class="na">setArticleId</span><span class="o">(</span><span class="n">article_id</span><span class="o">);</span>
	        <span class="n">rec</span><span class="o">.</span><span class="na">setTitle</span><span class="o">(</span><span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"title"</span><span class="o">));</span>
	        <span class="n">rec</span><span class="o">.</span><span class="na">setPassword</span><span class="o">(</span><span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"password"</span><span class="o">));</span>
	        <span class="n">rec</span><span class="o">.</span><span class="na">setContent</span><span class="o">(</span><span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"content"</span><span class="o">));</span>
	        
	        <span class="nc">BoardDao</span> <span class="n">dao</span> <span class="o">=</span> <span class="nc">BoardDao</span><span class="o">.</span><span class="na">getInstance</span><span class="o">();</span>							<span class="c1">// daoì— ì‹ë“¤ì´ ìˆìœ¼ë¯€ë¡œ ê°ì²´ìƒì„±</span>
	        <span class="k">if</span><span class="o">(</span><span class="n">dao</span><span class="o">.</span><span class="na">update</span><span class="o">(</span><span class="n">rec</span><span class="o">)</span> <span class="o">!=</span><span class="mi">0</span><span class="o">)</span> <span class="o">{</span>										<span class="c1">// updateê°€ ì˜ ë˜ì—ˆì„ ë•Œë§Œ ì¡°ê±´ì„ ìˆ˜í–‰í•œë‹¤.</span>
	        	<span class="n">request</span><span class="o">.</span><span class="na">setAttribute</span><span class="o">(</span><span class="s">"rec"</span><span class="o">,</span> <span class="n">dao</span><span class="o">.</span><span class="na">selectById</span><span class="o">(</span><span class="n">article_id</span><span class="o">));</span>	<span class="c1">// article_idì— ë§ê²Œ ìˆ˜ì •ëœ ê°’(ì¡°ê±´ì—ì„œ ì´ë¯¸ ìˆ˜ì •ì´ëœìƒíƒœ)ì„ recì— ë„£ì–´ì¤€ë‹¤</span>
	        <span class="o">}</span>
	         
			<span class="kt">int</span> <span class="n">resultCnt</span> <span class="o">=</span> <span class="nc">BoardDao</span><span class="o">.</span><span class="na">getInstance</span><span class="o">().</span><span class="na">update</span><span class="o">(</span><span class="n">rec</span><span class="o">);</span>
			
			<span class="n">request</span><span class="o">.</span><span class="na">setAttribute</span><span class="o">(</span><span class="s">"result"</span><span class="o">,</span> <span class="n">resultCnt</span><span class="o">);</span>

		<span class="o">}</span><span class="k">catch</span><span class="o">(</span><span class="nc">BoardException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
			<span class="k">throw</span> <span class="k">new</span> <span class="nf">CommandException</span><span class="o">(</span><span class="s">"CommandList.java &lt; ìˆ˜ì • &gt; "</span> <span class="o">+</span> <span class="n">ex</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span> 
		<span class="o">}</span>
		<span class="k">return</span> <span class="n">next</span><span class="o">;</span>
	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="commandreply">CommandReply</h2>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">mvc.board.command</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.text.DecimalFormat</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Date</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletRequest</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletResponse</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">mvc.board.model.*</span><span class="o">;</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CommandReply</span> <span class="kd">implements</span> <span class="nc">Command</span> <span class="o">{</span>
	<span class="kd">private</span> <span class="nc">String</span> <span class="n">next</span><span class="o">;</span>

	<span class="kd">public</span> <span class="nf">CommandReply</span><span class="o">(</span><span class="nc">String</span> <span class="n">_next</span><span class="o">)</span> <span class="o">{</span>
		<span class="n">next</span> <span class="o">=</span> <span class="n">_next</span><span class="o">;</span>
	<span class="o">}</span>
	
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">execute</span><span class="o">(</span><span class="nc">HttpServletRequest</span> <span class="n">request</span> <span class="o">,</span> <span class="nc">HttpServletResponse</span> <span class="n">response</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">CommandException</span> <span class="o">{</span>
		<span class="k">try</span> <span class="o">{</span>
			<span class="kt">int</span> <span class="n">parentId</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
			<span class="nc">BoardRec</span> <span class="n">rec</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BoardRec</span><span class="o">();</span>
			
			<span class="nc">String</span> <span class="n">pId</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"parentId"</span><span class="o">);</span>
			<span class="k">if</span><span class="o">(</span><span class="n">pId</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="n">parentId</span> <span class="o">=</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">pId</span><span class="o">);</span>
			
			<span class="nc">BoardDao</span> <span class="n">dao</span> <span class="o">=</span> <span class="nc">BoardDao</span><span class="o">.</span><span class="na">getInstance</span><span class="o">();</span>
			<span class="c1">// ë¶€ëª¨ê²Œì‹œê¸€ì˜ ë ˆì½”ë“œë¥¼ ì–»ì–´ì˜´</span>
			<span class="nc">BoardRec</span> <span class="n">parent</span> <span class="o">=</span> <span class="n">dao</span><span class="o">.</span><span class="na">selectById</span><span class="o">(</span><span class="n">parentId</span><span class="o">);</span>
			
			<span class="c1">// ë¶€ëª¨ê²Œì‹œê¸€ì„ ì²´í¬</span>
			<span class="n">checkParent</span><span class="o">(</span><span class="n">parent</span><span class="o">,</span> <span class="n">parentId</span><span class="o">);</span>
			
			<span class="c1">// ë‹µë³€ê¸€ì— ìˆœì„œë²ˆí˜¸ êµ¬í•˜ê¸°</span>
			<span class="nc">String</span> <span class="n">maxSeqNum</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="na">getSequenceNo</span><span class="o">();</span>
			<span class="nc">String</span> <span class="n">minSeqNum</span> <span class="o">=</span> <span class="n">getSearchMinSeqNum</span><span class="o">(</span><span class="n">parent</span><span class="o">);</span>
			
			<span class="nc">String</span> <span class="n">lastChildSeq</span> <span class="o">=</span> <span class="n">dao</span><span class="o">.</span><span class="na">selectLastSequenceNumber</span><span class="o">(</span><span class="n">maxSeqNum</span><span class="o">,</span> <span class="n">minSeqNum</span><span class="o">);</span>
			
			<span class="nc">String</span> <span class="n">sequenceNumber</span> <span class="o">=</span> <span class="n">getSequenceNumber</span><span class="o">(</span><span class="n">parent</span><span class="o">,</span><span class="n">lastChildSeq</span><span class="o">);</span>
			
			<span class="n">rec</span><span class="o">.</span><span class="na">setGroupId</span><span class="o">(</span><span class="n">parent</span><span class="o">.</span><span class="na">getGroupId</span><span class="o">());</span>					<span class="c1">// ë¶€ëª¨ì˜ ê·¸ë£¹ë²ˆí˜¸ì™€ ë™ì¼í•˜ê²Œ ì§€ì •</span>
			<span class="n">rec</span><span class="o">.</span><span class="na">setSequenceNo</span><span class="o">(</span><span class="n">sequenceNumber</span><span class="o">);</span>						<span class="c1">// ìœ„ì—ì„œ êµ¬í•œ ë‹µë³€ê¸€ì˜ ìˆœì„œë²ˆí˜¸ ì§€ì •</span>
			<span class="n">rec</span><span class="o">.</span><span class="na">setPostingDate</span><span class="o">((</span><span class="k">new</span> <span class="nc">Date</span><span class="o">()).</span><span class="na">toString</span><span class="o">());</span>			<span class="c1">// ë“±ë¡ì¼</span>
			<span class="n">rec</span><span class="o">.</span><span class="na">setWriterName</span><span class="o">(</span><span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"writerName"</span><span class="o">));</span>	<span class="c1">// ì‘ì„±ì</span>
			<span class="n">rec</span><span class="o">.</span><span class="na">setTitle</span><span class="o">(</span><span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"title"</span><span class="o">));</span>			<span class="c1">// ì œëª©</span>
			<span class="n">rec</span><span class="o">.</span><span class="na">setContent</span><span class="o">(</span><span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"content"</span><span class="o">));</span>		<span class="c1">// ë‚´ìš©</span>
			<span class="n">rec</span><span class="o">.</span><span class="na">setPassword</span><span class="o">(</span><span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"password"</span><span class="o">));</span>		<span class="c1">// ë¹„ë°€ë²ˆí˜¸</span>
			
			<span class="kt">int</span> <span class="n">articleId</span> <span class="o">=</span> <span class="n">dao</span><span class="o">.</span><span class="na">insert</span><span class="o">(</span><span class="n">rec</span><span class="o">);</span>
			<span class="n">rec</span><span class="o">.</span><span class="na">setArticleId</span><span class="o">(</span><span class="n">articleId</span><span class="o">);</span>							<span class="c1">// ê²Œì‹œê¸€ë²ˆí˜¸</span>
			
			<span class="n">request</span><span class="o">.</span><span class="na">setAttribute</span><span class="o">(</span><span class="s">"rec"</span><span class="o">,</span> <span class="n">rec</span><span class="o">);</span>

		<span class="o">}</span><span class="k">catch</span><span class="o">(</span><span class="nc">BoardException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
			<span class="k">throw</span> <span class="k">new</span> <span class="nf">CommandException</span><span class="o">(</span><span class="s">"CommandList.java &lt; ë‹µê¸€ &gt; "</span> <span class="o">+</span> <span class="n">ex</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span> 
		<span class="o">}</span>
		<span class="k">return</span> <span class="n">next</span><span class="o">;</span>
	<span class="o">}</span>
	
	<span class="cm">/*
	 * ë¶€ëª¨ê¸€ì´ ì¡´ì¬í•˜ëŠ”ì§€ ë¶€ëª¨ê¸€ì´ ë§ˆì§€ë§‰ 3ë‹¨ê³„ì¸ì§€ í™•ì¸í•˜ëŠ” í•¨ìˆ˜
	 */</span>
	<span class="kd">private</span> <span class="kt">void</span> <span class="nf">checkParent</span><span class="o">(</span><span class="nc">BoardRec</span> <span class="n">parent</span><span class="o">,</span> <span class="kt">int</span> <span class="n">pId</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">BoardException</span> <span class="o">{</span>
		<span class="k">if</span><span class="o">(</span><span class="n">parent</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="k">throw</span> <span class="k">new</span> <span class="nc">BoardException</span><span class="o">(</span><span class="s">"ë¶€ëª¨ê¸€ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŒ : "</span> <span class="o">+</span> <span class="n">pId</span><span class="o">);</span>
		
		<span class="kt">int</span> <span class="n">parentLevel</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="na">getLevel</span><span class="o">();</span>
		<span class="k">if</span><span class="o">(</span><span class="n">parentLevel</span> <span class="o">==</span> <span class="mi">3</span><span class="o">)</span> <span class="k">throw</span> <span class="k">new</span> <span class="nc">BoardException</span><span class="o">(</span><span class="s">"3ë‹¨ê³„ ë§ˆì§€ë§‰ ë ˆë²¨ ê¸€ì—ëŠ” ë‹µë³€ì„ ë‹¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."</span><span class="o">);</span>
	<span class="o">}</span>
	
	<span class="kd">private</span> <span class="nc">String</span> <span class="nf">getSearchMinSeqNum</span><span class="o">(</span><span class="nc">BoardRec</span> <span class="n">parent</span><span class="o">)</span> <span class="o">{</span>
		<span class="nc">String</span> <span class="n">parentSeqNum</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="na">getSequenceNo</span><span class="o">();</span>
		<span class="nc">DecimalFormat</span> <span class="n">dFormat</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">DecimalFormat</span><span class="o">(</span><span class="s">"0000000000000000"</span><span class="o">);</span>
		<span class="kt">long</span> <span class="n">parentSeqLongValue</span> <span class="o">=</span> <span class="nc">Long</span><span class="o">.</span><span class="na">parseLong</span><span class="o">(</span><span class="n">parentSeqNum</span><span class="o">);</span>
		<span class="kt">long</span> <span class="n">searchMinLongValue</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
		
		<span class="k">switch</span><span class="o">(</span><span class="n">parent</span><span class="o">.</span><span class="na">getLevel</span><span class="o">())</span> <span class="o">{</span>
		<span class="k">case</span> <span class="mi">0</span> <span class="o">:</span> <span class="n">searchMinLongValue</span> <span class="o">=</span> <span class="n">parentSeqLongValue</span> <span class="o">/</span> <span class="mi">1000000L</span> <span class="o">*</span> <span class="mi">1000000L</span><span class="o">;</span> <span class="k">break</span><span class="o">;</span>
		<span class="k">case</span> <span class="mi">1</span> <span class="o">:</span> <span class="n">searchMinLongValue</span> <span class="o">=</span> <span class="n">parentSeqLongValue</span> <span class="o">/</span> <span class="mi">10000L</span> <span class="o">*</span> <span class="mi">10000L</span><span class="o">;</span> <span class="k">break</span><span class="o">;</span>
		<span class="k">case</span> <span class="mi">2</span> <span class="o">:</span> <span class="n">searchMinLongValue</span> <span class="o">=</span> <span class="n">parentSeqLongValue</span> <span class="o">/</span> <span class="mi">100L</span> <span class="o">*</span> <span class="mi">100L</span><span class="o">;</span> <span class="k">break</span><span class="o">;</span>
		<span class="o">}</span>
		<span class="k">return</span> <span class="n">dFormat</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="n">searchMinLongValue</span><span class="o">);</span>
	<span class="o">}</span>
	
	<span class="kd">private</span> <span class="nc">String</span> <span class="nf">getSequenceNumber</span><span class="o">(</span><span class="nc">BoardRec</span> <span class="n">parent</span><span class="o">,</span> <span class="nc">String</span> <span class="n">lastChildSeq</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">BoardException</span> <span class="o">{</span>
		<span class="kt">long</span> <span class="n">parentSeqLong</span>	<span class="o">=</span> <span class="nc">Long</span><span class="o">.</span><span class="na">parseLong</span><span class="o">(</span><span class="n">parent</span><span class="o">.</span><span class="na">getSequenceNo</span><span class="o">());</span>
		<span class="kt">int</span>  <span class="n">parentLevel</span>	<span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="na">getLevel</span><span class="o">();</span>
		
		<span class="kt">long</span> <span class="n">decUnit</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
		<span class="k">if</span>		<span class="o">(</span><span class="n">parentLevel</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span><span class="n">decUnit</span> <span class="o">=</span> <span class="mi">10000L</span><span class="o">;}</span>
		<span class="k">else</span> <span class="nf">if</span>	<span class="o">(</span><span class="n">parentLevel</span> <span class="o">==</span> <span class="mi">1</span><span class="o">)</span> <span class="o">{</span><span class="n">decUnit</span> <span class="o">=</span> <span class="mi">100L</span><span class="o">;}</span>
		<span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">parentLevel</span> <span class="o">==</span> <span class="mi">2</span><span class="o">)</span> <span class="o">{</span><span class="n">decUnit</span> <span class="o">=</span> <span class="mi">1L</span><span class="o">;}</span>
		
		<span class="nc">String</span> <span class="n">sequenceNumber</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
		
		<span class="nc">DecimalFormat</span> <span class="n">dFormat</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">DecimalFormat</span><span class="o">(</span><span class="s">"0000000000000000"</span><span class="o">);</span>
		<span class="k">if</span><span class="o">(</span><span class="n">lastChildSeq</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// ë‹µë³€ê¸€ì´ ì—†ë‹¤ë©´</span>
			<span class="n">sequenceNumber</span> <span class="o">=</span> <span class="n">dFormat</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="n">parentSeqLong</span><span class="o">-</span><span class="n">decUnit</span><span class="o">);</span>
		<span class="o">}</span><span class="k">else</span> <span class="o">{</span> <span class="c1">// ë‹µë³€ê¸€ì´ ìˆë‹¤ë©´, ë§ˆì§€ë§‰ ë‹µë³€ê¸€ì¸ì§€ í™•ì¸</span>
			<span class="nc">String</span> <span class="n">orderOfLastChildSeq</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
			
			<span class="k">if</span><span class="o">(</span><span class="n">parentLevel</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
				<span class="n">orderOfLastChildSeq</span> <span class="o">=</span> <span class="n">lastChildSeq</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="mi">10</span><span class="o">,</span><span class="mi">12</span><span class="o">);</span>
				<span class="n">sequenceNumber</span> <span class="o">=</span> <span class="n">lastChildSeq</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">12</span><span class="o">)</span> <span class="o">+</span> <span class="s">"9999"</span><span class="o">;</span>
			<span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">parentLevel</span> <span class="o">==</span> <span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
				<span class="n">orderOfLastChildSeq</span> <span class="o">=</span> <span class="n">lastChildSeq</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="mi">12</span><span class="o">,</span><span class="mi">14</span><span class="o">);</span>
				<span class="n">sequenceNumber</span> <span class="o">=</span> <span class="n">lastChildSeq</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">14</span><span class="o">)</span> <span class="o">+</span> <span class="s">"99"</span><span class="o">;</span>				
			<span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">parentLevel</span> <span class="o">==</span> <span class="mi">2</span><span class="o">)</span> <span class="o">{</span>
				<span class="n">orderOfLastChildSeq</span> <span class="o">=</span> <span class="n">lastChildSeq</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="mi">14</span><span class="o">,</span><span class="mi">16</span><span class="o">);</span>
				<span class="n">sequenceNumber</span> <span class="o">=</span> <span class="n">lastChildSeq</span><span class="o">;</span>			
			<span class="o">}</span>
			
			<span class="k">if</span><span class="o">(</span><span class="n">orderOfLastChildSeq</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"00"</span><span class="o">))</span> <span class="o">{</span>
				<span class="k">throw</span> <span class="k">new</span> <span class="nf">BoardException</span><span class="o">(</span><span class="s">"ë§ˆì§€ë§‰ ìì‹ ê¸€ì´ ì´ë¯¸ ì¡´ì¬í•©ë‹ˆë‹¤."</span><span class="o">);</span>
			<span class="o">}</span>
			
			<span class="kt">long</span> <span class="n">seq</span> <span class="o">=</span> <span class="nc">Long</span><span class="o">.</span><span class="na">parseLong</span><span class="o">(</span><span class="n">sequenceNumber</span><span class="o">)</span> <span class="o">-</span> <span class="n">decUnit</span><span class="o">;</span>
			<span class="n">sequenceNumber</span> <span class="o">=</span> <span class="n">dFormat</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="n">seq</span><span class="o">);</span>
			
			<span class="k">return</span> <span class="n">sequenceNumber</span><span class="o">;</span> 
		<span class="o">}</span>
		<span class="k">return</span> <span class="n">sequenceNumber</span><span class="o">;</span>
	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>
:ET