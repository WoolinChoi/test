I"[è<h1 id="baduk"><a href="">baduk</a></h1>

<h2 id="baduk-1">Baduk</h2>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//================================================</span>
<span class="c1">//	ë°”ë‘‘ì•Œ í•˜ë‚˜ì— ëŒ€í•œ ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” í´ë˜ìŠ¤</span>
<span class="c1">//================================================</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Baduk</span> <span class="kd">implements</span> <span class="n">java</span><span class="o">.</span><span class="na">io</span><span class="o">.</span><span class="na">Serializable</span> <span class="o">{</span>
	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span>			    <span class="no">BLACK_BADUK</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span>      		<span class="no">WHITE_BADUK</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span>      		<span class="no">NONE_BADUK</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>

  <span class="kt">int</span> <span class="n">row</span><span class="o">;</span>
  <span class="kt">int</span> <span class="n">col</span><span class="o">;</span>
  <span class="kt">int</span> <span class="n">color</span><span class="o">;</span>

  <span class="kd">public</span> <span class="nf">Baduk</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span>
  <span class="o">}</span>
  <span class="kd">public</span> <span class="nf">Baduk</span><span class="o">(</span><span class="kt">int</span> <span class="n">color</span><span class="o">,</span> <span class="kt">int</span> <span class="n">row</span><span class="o">,</span> <span class="kt">int</span> <span class="n">col</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">row</span> <span class="o">=</span> <span class="n">row</span><span class="o">;</span>
    <span class="k">this</span><span class="o">.</span><span class="na">col</span> <span class="o">=</span> <span class="n">col</span><span class="o">;</span>
    <span class="k">this</span><span class="o">.</span><span class="na">color</span> <span class="o">=</span> <span class="n">color</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getRow</span><span class="o">()</span> <span class="o">{</span>
  	<span class="k">return</span> <span class="n">row</span><span class="o">;</span>
  <span class="o">}</span>
	<span class="kd">public</span> <span class="kt">int</span> <span class="nf">getCol</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">col</span><span class="o">;</span>
  <span class="o">}</span>
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getColor</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">color</span><span class="o">;</span>
  <span class="o">}</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setValue</span><span class="o">(</span><span class="kt">int</span> <span class="n">row</span><span class="o">,</span> <span class="kt">int</span> <span class="n">col</span><span class="o">,</span> <span class="kt">int</span> <span class="n">color</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">row</span> <span class="o">=</span> <span class="n">row</span><span class="o">;</span>
    <span class="k">this</span><span class="o">.</span><span class="na">col</span> <span class="o">=</span> <span class="n">col</span><span class="o">;</span>
    <span class="k">this</span><span class="o">.</span><span class="na">color</span> <span class="o">=</span> <span class="n">color</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="badukclient">BadukClient</h2>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//=====================================================</span>
<span class="c1">//	 ì„œë²„ì— ì—°ê²°í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ì˜ ì´ë²¤íŠ¸ ë° ë©”ì„¸ì§€ë¥¼ ë°›ì•„</span>
<span class="c1">//	ì„œë²„ì— ì „ì†¡í•˜ê³  ì„œë²„ì—ì„œ ë³´ë‚´ëŠ” ë°ì´íƒ€ë¥¼ ë°›ì•„</span>
<span class="c1">//  í™”ë©´ì— í‘œì‹œí•´ì£¼ëŠ” í´ë˜ìŠ¤</span>
<span class="c1">//=====================================================</span>
<span class="kn">import</span> <span class="nn">java.awt.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.swing.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>
<span class="kd">class</span>  <span class="nc">BadukClient</span> <span class="kd">extends</span> <span class="nc">JPanel</span> <span class="kd">implements</span> <span class="nc">ActionListener</span><span class="o">,</span> <span class="nc">Runnable</span> <span class="o">{</span>
	<span class="c1">// ìƒì„±ì ê¸°ë³¸ ì¸ì</span>
	<span class="nc">String</span> <span class="n">serverIP</span><span class="o">;</span>
	<span class="nc">String</span> <span class="n">id</span><span class="o">;</span>

	<span class="c1">// í™”ë©´ êµ¬ì„±ì— ê´€ë ¨ëœ ë©¤ë²„ ë³€ìˆ˜</span>
	<span class="nc">MyCanvas</span>	<span class="n">canvas</span><span class="o">;</span>
	<span class="nc">JButton</span>		<span class="n">btnStop</span><span class="o">,</span> <span class="n">btnGame</span><span class="o">;</span>

	<span class="nc">JTextField</span>	<span class="n">tfBlackRock</span><span class="o">,</span> <span class="n">tfWhiteRock</span><span class="o">,</span> <span class="n">tfOrder</span><span class="o">,</span> <span class="n">tfWinner</span><span class="o">;</span>

	<span class="nc">JComboBox</span>	<span class="n">comMember</span><span class="o">;</span>
	<span class="nc">JTextArea</span>	<span class="n">taChatting</span><span class="o">;</span>
	<span class="nc">JTextField</span>	<span class="n">tfMessage</span><span class="o">;</span>

	<span class="c1">// ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì— ê´€ë ¨ëœ ë©¤ë²„ ë³€ìˆ˜</span>
	<span class="nc">Socket</span>		<span class="n">socClient</span><span class="o">;</span>
	<span class="nc">ObjectInputStream</span>	<span class="n">inStream</span><span class="o">;</span>
	<span class="nc">ObjectOutputStream</span>	<span class="n">outStream</span><span class="o">;</span>
	
	<span class="kd">final</span> <span class="kd">static</span> <span class="kt">int</span>	<span class="no">PORT</span><span class="o">=</span><span class="mi">7777</span><span class="o">;</span>

	<span class="nc">Thread</span>		<span class="n">thread</span><span class="o">;</span>

	<span class="c1">// ê²Œì„ì •ë³´ì— ê´€ë ¨ëœ ë©¤ë²„ ë³€ìˆ˜</span>
	<span class="nc">Vector</span>		<span class="n">badukRock</span><span class="o">;</span>	<span class="c1">// ë°”ë‘‘ì•Œì •ë³´(Rock)ë¥¼ ì €ì¥í•  ë²¡í„°</span>
	<span class="kt">boolean</span>		<span class="n">bGamming</span><span class="o">;</span>


	<span class="c1">//==================================================</span>
	<span class="cm">/* ClientBadukMain ì‹¤í–‰ì‹œ ë„ìŠ¤ì—ì„œ ì…ë ¥ê°’ìœ¼ë¡œ ì„œë²„IPì™€ ì‚¬ìš©ìì•„ì´ë”” ì§€ì •
	   ì¸ìê°’ì´ ì—†ëŠ” ê²½ìš°ëŠ” 127.0.0.1 ì„œë²„ì— guest ì•„ì´ë”” ì§€ì •
	*/</span>
	<span class="nc">BadukClient</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">(</span><span class="s">"127.0.0.1"</span><span class="o">,</span> <span class="s">"guest"</span><span class="o">);</span>
	<span class="o">}</span>

	<span class="nc">BadukClient</span><span class="o">(</span><span class="nc">String</span> <span class="n">serverIP</span><span class="o">,</span> <span class="nc">String</span> <span class="n">id</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">serverIP</span> <span class="o">=</span> <span class="n">serverIP</span><span class="o">;</span>
		<span class="k">this</span><span class="o">.</span><span class="na">id</span>		<span class="o">=</span> <span class="n">id</span><span class="o">;</span>

		<span class="n">createGUI</span><span class="o">();</span>		<span class="c1">// í™”ë©´ì¶œë ¥ UI ì™„ì„±</span>
		
		<span class="n">connectServer</span><span class="o">();</span>	<span class="c1">// ì„œë²„ì— ì—°ê²°í•˜ê¸°</span>
	<span class="o">}</span>

	<span class="c1">//=================================================</span>
	<span class="cm">/* í™”ë©´ì„ ì™„ì„±í•˜ëŠ” GUI êµ¬ì„±í•˜ê¸°
		- í™”ë©´ ê´€ë ¨ ë©¤ë²„ ë³€ìˆ˜ì˜ ê°ì²´ë¥¼ ìƒì„±
		- JPanelì— layoutì— ë§ê²Œ ë¶™ì´ê¸°
	*/</span>
	<span class="kt">void</span> <span class="nf">createGUI</span><span class="o">()</span> <span class="o">{</span>
<span class="c1">//&lt;- 1 </span>
		<span class="c1">// West ì˜ì—­ ì™„ì„±</span>
		<span class="n">tfBlackRock</span>	<span class="o">=</span> <span class="k">new</span> <span class="nc">JTextField</span><span class="o">(</span><span class="mi">10</span><span class="o">);</span>
		<span class="n">tfWhiteRock</span>	<span class="o">=</span> <span class="k">new</span> <span class="nc">JTextField</span><span class="o">(</span><span class="mi">10</span><span class="o">);</span>
		<span class="n">tfOrder</span>		<span class="o">=</span> <span class="k">new</span> <span class="nc">JTextField</span><span class="o">(</span><span class="mi">10</span><span class="o">);</span>
		<span class="n">tfWinner</span>	<span class="o">=</span> <span class="k">new</span> <span class="nc">JTextField</span><span class="o">(</span><span class="mi">10</span><span class="o">);</span>
		<span class="nc">JLabel</span> <span class="n">lBlackRock</span>	<span class="o">=</span> <span class="k">new</span> <span class="nc">JLabel</span><span class="o">(</span><span class="s">" í‘ê¸°ì‚¬ "</span><span class="o">);</span>
		<span class="nc">JLabel</span> <span class="n">lWhiteRock</span>	<span class="o">=</span> <span class="k">new</span> <span class="nc">JLabel</span><span class="o">(</span><span class="s">" ë°±ê¸°ì‚¬ "</span><span class="o">);</span>		
		<span class="nc">JLabel</span> <span class="n">lOrder</span>		<span class="o">=</span> <span class="k">new</span> <span class="nc">JLabel</span><span class="o">(</span><span class="s">" ìˆœ  ë²ˆ "</span><span class="o">);</span>
		<span class="nc">JLabel</span> <span class="n">lWinner</span>		<span class="o">=</span> <span class="k">new</span> <span class="nc">JLabel</span><span class="o">(</span><span class="s">" ìŠ¹  ë¦¬ "</span><span class="o">);</span>

		<span class="nc">JPanel</span> <span class="n">p_west</span>	<span class="o">=</span> <span class="k">new</span> <span class="nc">JPanel</span><span class="o">();</span>
		<span class="n">p_west</span><span class="o">.</span><span class="na">setLayout</span><span class="o">(</span><span class="k">new</span> <span class="nc">GridLayout</span><span class="o">(</span><span class="mi">14</span><span class="o">,</span> <span class="mi">1</span><span class="o">));</span>
		<span class="n">p_west</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">lBlackRock</span><span class="o">);</span>
		<span class="n">p_west</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">tfBlackRock</span><span class="o">);</span>
		<span class="n">p_west</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">lWhiteRock</span><span class="o">);</span>
		<span class="n">p_west</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">tfWhiteRock</span><span class="o">);</span>
		<span class="n">p_west</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">lOrder</span><span class="o">);</span>
		<span class="n">p_west</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">tfOrder</span><span class="o">);</span>
		<span class="n">p_west</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">lWinner</span><span class="o">);</span>
		<span class="n">p_west</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">tfWinner</span><span class="o">);</span>


		<span class="c1">//	East ì˜ì—­ ì™„ì„±</span>
		<span class="n">comMember</span>	<span class="o">=</span> <span class="k">new</span> <span class="nc">JComboBox</span><span class="o">();</span>
		<span class="n">taChatting</span>	<span class="o">=</span> <span class="k">new</span> <span class="nc">JTextArea</span><span class="o">(</span><span class="mi">40</span><span class="o">,</span> <span class="mi">15</span><span class="o">);</span>
		<span class="n">tfMessage</span>	<span class="o">=</span> <span class="k">new</span> <span class="nc">JTextField</span><span class="o">(</span><span class="mi">15</span><span class="o">);</span>
		<span class="nc">JPanel</span> <span class="n">p_east</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JPanel</span><span class="o">();</span>
		<span class="n">p_east</span><span class="o">.</span><span class="na">setLayout</span><span class="o">(</span><span class="k">new</span> <span class="nc">BorderLayout</span><span class="o">(</span><span class="mi">10</span><span class="o">,</span> <span class="mi">10</span><span class="o">));</span>
			<span class="nc">JPanel</span> <span class="n">p_east_up</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JPanel</span><span class="o">();</span>
			<span class="nc">JLabel</span> <span class="n">lMember</span>	<span class="o">=</span> <span class="k">new</span> <span class="nc">JLabel</span><span class="o">(</span><span class="s">" ì ‘ì†ì "</span> <span class="o">);</span>
			<span class="n">p_east_up</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">lMember</span><span class="o">);</span>
			<span class="n">p_east_up</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">comMember</span><span class="o">);</span>		
			<span class="c1">//** TextAreaì˜ ë‚´ìš©ì´ ë§ì´ì§€ë§Œ ìŠ¤í¬ë¡¤ë°” ìƒê¸°ë„ë¡</span>
			<span class="nc">JScrollPane</span> <span class="n">sp</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JScrollPane</span><span class="o">(</span><span class="n">taChatting</span><span class="o">);</span>
		<span class="n">p_east</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"North"</span><span class="o">,</span> <span class="n">p_east_up</span><span class="o">);</span>
		<span class="n">p_east</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"Center"</span><span class="o">,</span>  <span class="n">sp</span><span class="o">);</span>
		<span class="n">p_east</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"South"</span><span class="o">,</span> <span class="n">tfMessage</span><span class="o">);</span>


		<span class="c1">//	South ì˜ì—­ ì™„ì„±</span>
		<span class="n">btnStop</span>	<span class="o">=</span> <span class="k">new</span> <span class="nc">JButton</span><span class="o">(</span><span class="s">" ê·¸ë§Œí•˜ê¸° "</span><span class="o">);</span>
		<span class="n">btnGame</span>	<span class="o">=</span> <span class="k">new</span> <span class="nc">JButton</span><span class="o">(</span><span class="s">" ê²Œì„í•˜ê¸° "</span><span class="o">);</span>

		<span class="nc">JPanel</span> <span class="n">p_south</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JPanel</span><span class="o">();</span>
		<span class="n">p_south</span><span class="o">.</span><span class="na">setLayout</span><span class="o">(</span><span class="k">new</span> <span class="nc">GridLayout</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">3</span><span class="o">));</span>
		<span class="n">p_south</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">btnGame</span><span class="o">);</span>
		<span class="n">p_south</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">btnStop</span><span class="o">);</span>

		<span class="c1">//	Center ì˜ì—­ ì™„ì„±</span>
		<span class="n">canvas</span>	<span class="o">=</span> <span class="k">new</span> <span class="nc">MyCanvas</span><span class="o">();</span>
		

		<span class="c1">// ì „ì²´ í´ë˜ìŠ¤ì— ë¶€ë¶„ì™„ì„±ëœ ì˜ì—­ ë¶™ì´ê¸°</span>
		<span class="n">setLayout</span><span class="o">(</span><span class="k">new</span> <span class="nc">BorderLayout</span><span class="o">());</span>
		<span class="n">add</span><span class="o">(</span><span class="s">"West"</span><span class="o">,</span> <span class="n">p_west</span><span class="o">);</span>
		<span class="n">add</span><span class="o">(</span><span class="s">"East"</span><span class="o">,</span> <span class="n">p_east</span><span class="o">);</span>
		<span class="n">add</span><span class="o">(</span><span class="s">"South"</span><span class="o">,</span> <span class="n">p_south</span><span class="o">);</span>
		<span class="n">add</span><span class="o">(</span><span class="s">"Center"</span><span class="o">,</span> <span class="n">canvas</span><span class="o">);</span>
<span class="c1">//-&gt; 1</span>

<span class="c1">//&lt;- 2</span>
		<span class="c1">// ì´ë²¤íŠ¸ ë“±ë¡</span>
		<span class="n">tfMessage</span><span class="o">.</span><span class="na">addActionListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
		<span class="n">btnGame</span><span class="o">.</span><span class="na">addActionListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
		<span class="n">btnStop</span><span class="o">.</span><span class="na">addActionListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
	<span class="o">}</span>

	<span class="c1">//==================================================</span>
	<span class="cm">/*	ì†Œì¼“í´ë˜ìŠ¤ë¡œ ì„œë²„ì— ì—°ê²°
		1. ì†Œì¼“í´ë˜ìŠ¤ ìƒì„± ( serverIP, portë²ˆí˜¸ )
		2. ìƒì„±ëœ ì†Œì¼“ê°ì²´ì˜ ì…ë ¥/ì¶œë ¥ ìŠ¤íŠ¸ë¦¼ ì–»ì–´ì˜¤ê¸°
	*/</span>
	<span class="kt">void</span> <span class="nf">connectServer</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">try</span><span class="o">{</span>
<span class="c1">//&lt;- 2</span>
			<span class="n">socClient</span>	<span class="o">=</span> <span class="k">new</span> <span class="nc">Socket</span><span class="o">(</span><span class="n">serverIP</span><span class="o">,</span> <span class="no">PORT</span><span class="o">);</span>
			<span class="n">inStream</span>	<span class="o">=</span> <span class="k">new</span> <span class="nc">ObjectInputStream</span><span class="o">(</span><span class="n">socClient</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">());</span>
			<span class="n">outStream</span>	<span class="o">=</span> <span class="k">new</span> <span class="nc">ObjectOutputStream</span><span class="o">(</span><span class="n">socClient</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">());</span>

			<span class="c1">// =&gt; ì„œë²„ë¡œë¶€í„° ë°ì´íƒ€ ì½ê¸° ìœ„í•´ ì“°ë ˆë“œ êµ¬í˜„</span>
			<span class="n">thread</span>		<span class="o">=</span> <span class="k">new</span> <span class="nc">Thread</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
			<span class="n">thread</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>

<span class="c1">//-&gt; 3		//	=&gt; ì ‘ì†í›„ ì•„ì´ë””ë¥¼ ì„œë²„ì— ì „ì†¡</span>
			<span class="n">sendId</span><span class="o">();</span>

		<span class="o">}</span> <span class="k">catch</span><span class="o">(</span><span class="nc">Exception</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
			<span class="nc">JOptionPane</span><span class="o">.</span><span class="na">showMessageDialog</span><span class="o">(</span><span class="kc">null</span><span class="o">,</span> <span class="s">"ì„œë²„ ì—°ê²° ì‹¤íŒ¨ :"</span><span class="o">+</span> <span class="n">ex</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span>
		<span class="o">}</span>
	<span class="o">}</span>

<span class="c1">//&lt;- 2</span>
	<span class="c1">//====================================================</span>
	<span class="cm">/*	ì„œë²„ì—ì„œ ë°ì´íƒ€ë¥¼ ë³´ë‚´ëŠ” ë°ì´íƒ€ ì½ê¸°
		0. ë°˜ë³µë¬¸
		1. ì†Œì¼“ì˜ ì…ë ¥ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ BadukServerProtocol ê°ì²´ ì½ì–´ì˜¤ê¸°
		2. 1ì˜ ê°ì²´ì—ì„œ ìƒíƒœê°’ê³¼ ë°ì´íƒ€ ì–»ì–´ì˜¤ê¸°
		3. ìƒíƒœê°’ì— ë”°ë¼ ê°ê°ì˜ êµ¬í˜„ í•¨ìˆ˜ í˜¸ì¶œ
	*/</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">while</span><span class="o">(</span><span class="n">socClient</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
			<span class="k">try</span><span class="o">{</span>
				<span class="nc">BadukServerProtocol</span> <span class="n">obj</span> <span class="o">=</span> <span class="o">(</span><span class="nc">BadukServerProtocol</span><span class="o">)</span><span class="n">inStream</span><span class="o">.</span><span class="na">readObject</span><span class="o">();</span>
				<span class="kt">int</span> <span class="n">state</span>	<span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="na">getState</span><span class="o">();</span>
				<span class="nc">Object</span> <span class="n">data</span>	<span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="na">getData</span><span class="o">();</span>
				<span class="k">switch</span><span class="o">(</span><span class="n">state</span><span class="o">){</span>
					<span class="c1">// ì±—íŒ…ë©”ì„¸ì§€ë¥¼ ë°›ì€ ê²½ìš°</span>
					<span class="k">case</span> <span class="nc">BadukServerProtocol</span><span class="o">.</span><span class="na">Chatting</span> <span class="o">:</span>
						<span class="n">setChatting</span><span class="o">(</span><span class="n">data</span><span class="o">);</span> <span class="k">break</span><span class="o">;</span>
<span class="c1">//&lt;-- 3				// ë©¤ë²„ê°€ ì¶”ê°€ëœ ê²½ìš° ë©¤ë²„ì•„ì´ë””ë“¤ë¥¼ ë°›ì€ ê²½ìš°</span>
					<span class="k">case</span> <span class="nc">BadukServerProtocol</span><span class="o">.</span><span class="na">CHANGE_MEMBER_ID</span> <span class="o">:</span>
						<span class="n">addMemberId</span><span class="o">(</span><span class="n">data</span><span class="o">);</span> <span class="k">break</span><span class="o">;</span>

<span class="c1">//&lt;-- 4				// ê²Œì„ì‹ ì²­ì ë°ì´íƒ€ë¥¼ ë°›ì€ ê²½ìš°</span>
					<span class="k">case</span> <span class="nc">BadukServerProtocol</span><span class="o">.</span><span class="na">SET_BADUK_GAMMER</span> <span class="o">:</span>
						<span class="n">setBadukGammer</span><span class="o">(</span><span class="n">data</span><span class="o">);</span> <span class="k">break</span><span class="o">;</span>

<span class="c1">//&lt;-- 5				// ê²Œì„ì‹œì‘ë¨ì„ ì•Œë¦¬ëŠ” ë°ì´íƒ€ ë°›ì€ ê²½ìš°</span>
					<span class="k">case</span> <span class="nc">BadukServerProtocol</span><span class="o">.</span><span class="na">START_GAME</span> <span class="o">:</span>
						<span class="n">startGameConfirm</span><span class="o">();</span> <span class="k">break</span><span class="o">;</span>
						
<span class="c1">//&lt;-- 6				// ë†“ì—¬ì§„ ë°”ë‘‘ì•Œì— ëŒ€í•œ ë°ì´íƒ€ ë°›ì€ ê²½ìš°</span>
					<span class="k">case</span> <span class="nc">BadukServerProtocol</span><span class="o">.</span><span class="na">SET_BADUK_ROCK</span> <span class="o">:</span>
						<span class="n">setBakukRock</span><span class="o">(</span><span class="n">data</span><span class="o">);</span> <span class="k">break</span><span class="o">;</span>

<span class="c1">//&lt;-- 7				// ê²Œì„ì´ ì¢…ë£Œë¨ì„ ì•Œë¦¬ëŠ” ë°ì´íƒ€ ë°›ì€ ê²½ìš°</span>
					<span class="k">case</span> <span class="nc">BadukServerProtocol</span><span class="o">.</span><span class="na">END_GAME</span> <span class="o">:</span>
						<span class="n">endGame</span><span class="o">(</span><span class="n">data</span><span class="o">);</span> <span class="k">break</span><span class="o">;</span>
				<span class="o">}</span>
			<span class="o">}</span><span class="k">catch</span><span class="o">(</span><span class="nc">Exception</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
			<span class="o">}</span>
		<span class="o">}</span>
	<span class="o">}</span>

	
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">actionPerformed</span><span class="o">(</span><span class="nc">ActionEvent</span> <span class="n">ev</span><span class="o">)</span> <span class="o">{</span>
		<span class="nc">Object</span> <span class="n">o</span> <span class="o">=</span> <span class="n">ev</span><span class="o">.</span><span class="na">getSource</span><span class="o">();</span>

	 	<span class="c1">// ì±—ë©”ì„¸ì§€ í…ìŠ¤íŠ¸í•„ë“œì—ì„œ ì—”í„° ì´ë²¤íŠ¸ ë°œìƒì‹œ</span>
		<span class="k">if</span><span class="o">(</span><span class="n">o</span> <span class="o">==</span> <span class="n">tfMessage</span><span class="o">)</span> <span class="n">chatMessageSend</span><span class="o">();</span>

<span class="c1">//&lt;-- 4</span>
		<span class="c1">// "ê²Œì„í•˜ê¸°" ë²„íŠ¼ì„ ëˆŒë ¸ì„ë•Œ</span>
		<span class="k">else</span> <span class="nf">if</span><span class="o">(</span><span class="n">o</span> <span class="o">==</span> <span class="n">btnGame</span><span class="o">)</span> <span class="n">startGame</span><span class="o">();</span>
	<span class="o">}</span>


	<span class="c1">//==================================================</span>
	<span class="cm">/*	í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì„œë²„ë¡œ ì „ì†¡í•  ë°ì´íƒ€í´ë˜ìŠ¤ ìƒì„±í•˜ê³ ,
		í…ìŠ¤íŠ¸í•„ë“œì— ì…ë ¥í•œ ê°’ ì–»ì–´ì„œ ì§€ì •í›„ ì„œë²„ë¡œ ì „ì†¡
		1. ë©”ì„¸ì§€ì…ë ¥ í…ìŠ¤íŠ¸í•„ë“œì—ì„œ ì…ë ¥ê°’ ì–»ì–´ì˜¤ê¸°
		2. ê³µë°±ì¸ì§€ í™•ì¸í›„ ê³µë°±ì´ë©´ ë¦¬í„´
		3. í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì„œë²„ë¡œ ì „ì†¡ ë°ì´íƒ€ ê°ì²´ ìƒì„± 
			( BadukClientProtocol )
		4. 3ë²ˆ ê°ì²´ì— ìƒíƒœì™€ ë°ì´íƒ€ ì§€ì •
		5. ì„œë²„ë¡œ ì „ì†¡ ( ì†Œì¼“ì˜ ì¶œë ¥ìŠ¤íŠ¸ë¦¼ì— write )
		6. í…ìŠ¤íŠ¸í•„ë“œë¥¼ ì´ˆê¸°í™”í•˜ê³  í¬ì»¤ìŠ¤ ì§€ì •
	*/</span>
	<span class="kt">void</span> <span class="nf">chatMessageSend</span><span class="o">()</span> <span class="o">{</span>
		<span class="nc">String</span> <span class="n">msg</span> <span class="o">=</span> <span class="n">tfMessage</span><span class="o">.</span><span class="na">getText</span><span class="o">();</span>
		<span class="k">if</span><span class="o">(</span><span class="n">msg</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">""</span><span class="o">))</span> <span class="k">return</span><span class="o">;</span>
		<span class="nc">BadukClientProtocol</span> <span class="n">obj</span>	<span class="o">=</span> <span class="k">new</span> <span class="nc">BadukClientProtocol</span><span class="o">();</span>
		<span class="n">obj</span><span class="o">.</span><span class="na">setState</span><span class="o">(</span><span class="nc">BadukClientProtocol</span><span class="o">.</span><span class="na">Chatting</span><span class="o">);</span>
		<span class="n">obj</span><span class="o">.</span><span class="na">setData</span><span class="o">(</span><span class="n">msg</span><span class="o">);</span>
		<span class="n">sendInformation</span><span class="o">(</span><span class="n">obj</span><span class="o">);</span>

		<span class="c1">// ë°ì´íƒ€ ì „ì†¡í›„ í…ìŠ¤íŠ¸í•„ë“œ ì§€ìš°ê³  í¬ì»¤ìŠ¤ ë§ì¶”ê¸°</span>
		<span class="n">tfMessage</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">""</span><span class="o">);</span>
		<span class="n">tfMessage</span><span class="o">.</span><span class="na">requestFocus</span><span class="o">();</span>
	<span class="o">}</span>

	<span class="kt">void</span> <span class="nf">sendInformation</span><span class="o">(</span> <span class="nc">BadukClientProtocol</span> <span class="n">obj</span> <span class="o">)</span> <span class="o">{</span>
		<span class="k">try</span><span class="o">{</span>
			<span class="n">outStream</span><span class="o">.</span><span class="na">writeObject</span><span class="o">(</span> <span class="n">obj</span> <span class="o">);</span>
		<span class="o">}</span><span class="k">catch</span><span class="o">(</span><span class="nc">Exception</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
			<span class="nc">JOptionPane</span><span class="o">.</span><span class="na">showMessageDialog</span><span class="o">(</span><span class="kc">null</span><span class="o">,</span> <span class="s">"ë©”ì„¸ì§€ ì „ì†¡ ì‹¤íŒ¨ :"</span><span class="o">+</span> <span class="n">ex</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span>
		<span class="o">}</span>
	<span class="o">}</span>

	<span class="kt">void</span> <span class="nf">setChatting</span><span class="o">(</span><span class="nc">Object</span> <span class="n">data</span><span class="o">)</span> <span class="o">{</span>
		<span class="n">taChatting</span><span class="o">.</span><span class="na">append</span><span class="o">((</span><span class="nc">String</span><span class="o">)</span><span class="n">data</span> <span class="o">+</span> <span class="s">"\n"</span><span class="o">);</span>

		<span class="c1">//**  ScrollBarë¥¼ ë°‘ìœ¼ë¡œ ìë™ìœ¼ë¡œ ë‚´ë¦¬ë„ë¡</span>
		<span class="c1">//**</span>
		<span class="n">taChatting</span><span class="o">.</span><span class="na">setCaretPosition</span><span class="o">(</span><span class="n">taChatting</span><span class="o">.</span><span class="na">getText</span><span class="o">().</span><span class="na">lastIndexOf</span><span class="o">(</span><span class="s">"\n"</span><span class="o">)</span> <span class="o">+</span> <span class="mi">1</span><span class="o">);</span>
	<span class="o">}</span>

<span class="c1">//-&gt; 2</span>

<span class="c1">//&lt;-- 3</span>
	<span class="c1">//----------------------------------------------------</span>
	<span class="cm">/*	ì„œë²„ì— ì ‘ì†í›„ ì…ë ¥í•œ ì•„ì´ë””ë¥¼ ì„œë²„ì— ì „ì†¡
		1. í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì„œë²„ë¡œ ì „ì†¡ ë°ì´íƒ€ ê°ì²´ ìƒì„± 
			( BadukClientProtocol )
		2. 1ë²ˆ ê°ì²´ì— stateëŠ” BadukClientProtocol.SEND_IDë¡œ ì§€ì •
		3. 1ë²ˆ ê°ì²´ì— dataëŠ” ì…ë ¥ë°›ì€ idë¡œ ì§€ì •
		4. ì„œë²„ë¡œ ì „ì†¡ ( ì†Œì¼“ì˜ ì¶œë ¥ìŠ¤íŠ¸ë¦¼ì— write )
			: sendInformation() ì´ìš©
	*/</span>
	<span class="kt">void</span> <span class="nf">sendId</span><span class="o">()</span> <span class="o">{</span>
		<span class="nc">BadukClientProtocol</span> <span class="n">obj</span>	<span class="o">=</span> <span class="k">new</span> <span class="nc">BadukClientProtocol</span><span class="o">();</span>
		<span class="n">obj</span><span class="o">.</span><span class="na">setState</span><span class="o">(</span><span class="nc">BadukClientProtocol</span><span class="o">.</span><span class="na">SEND_ID</span><span class="o">);</span>
		<span class="n">obj</span><span class="o">.</span><span class="na">setData</span><span class="o">(</span><span class="n">id</span><span class="o">);</span>
		<span class="n">sendInformation</span><span class="o">(</span><span class="n">obj</span><span class="o">);</span>
		
	<span class="o">}</span>

	<span class="c1">//---------------------------------------------------</span>
	<span class="cm">/*	ë„˜ê²¨ë°›ì€ ì•„ì´ë””ê°’ë“¤ì„ ì½¤ë³´ë°•ìŠ¤ì— ì¶”ê°€
		1. ë„˜ê²¨ë°›ì€ ê°ì²´ë¥¼ ë‹¤ì‹œ String[]ë¡œ í˜•ë³€í™˜
		2. ê¸°ì¡´ì˜ ì½¤ë³´ë°•ìŠ¤ì˜ ë‚´ìš©ë“¤ ëª¨ë‘ ì§€ì›€
		3. String[] ë°°ì—´ê°’ì„ ì½¤ë³´ë°•ìŠ¤ì— í•˜ë‚˜ì”© ì¶”ê°€
	*/</span>
	<span class="kt">void</span> <span class="nf">addMemberId</span><span class="o">(</span><span class="nc">Object</span> <span class="n">data</span><span class="o">)</span> <span class="o">{</span>
		<span class="nc">String</span><span class="o">[]</span> <span class="n">ids</span> <span class="o">=</span> <span class="o">(</span><span class="nc">String</span><span class="o">[])</span><span class="n">data</span><span class="o">;</span>
		<span class="n">comMember</span><span class="o">.</span><span class="na">removeAllItems</span><span class="o">();</span>  <span class="c1">// removeAll() ëŠ” AWT ë©”ì†Œë“œë¼ ì•ˆë¨</span>
		<span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">ids</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
			<span class="n">comMember</span><span class="o">.</span><span class="na">addItem</span><span class="o">(</span><span class="n">ids</span><span class="o">[</span><span class="n">i</span><span class="o">]);</span>
		<span class="o">}</span>	
	<span class="o">}</span>

	<span class="c1">//---------------------------------------------------</span>
	<span class="c1">// ê³¼ì œ í´ë¼ì´ì–¸íŠ¸ê°€ ì¢…ë£Œí•˜ê³  ë‚˜ê°ˆë•Œ ì„œë²„ì— ì•Œë¦°í›„ ì†Œì¼“ ë‹«ê¸°</span>
	<span class="kt">void</span> <span class="nf">sendExit</span><span class="o">()</span> <span class="o">{</span>
		<span class="nc">BadukClientProtocol</span> <span class="n">obj</span>	<span class="o">=</span> <span class="k">new</span> <span class="nc">BadukClientProtocol</span><span class="o">();</span>
		<span class="n">obj</span><span class="o">.</span><span class="na">setState</span><span class="o">(</span><span class="nc">BadukClientProtocol</span><span class="o">.</span><span class="na">EXIT</span><span class="o">);</span>
		<span class="n">obj</span><span class="o">.</span><span class="na">setData</span><span class="o">(</span><span class="n">id</span><span class="o">);</span>
		<span class="n">sendInformation</span><span class="o">(</span><span class="n">obj</span><span class="o">);</span>
		<span class="k">try</span><span class="o">{</span>
		<span class="n">inStream</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
		<span class="n">outStream</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
		<span class="n">socClient</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
		<span class="o">}</span><span class="k">catch</span><span class="o">(</span><span class="nc">Exception</span> <span class="n">ex</span><span class="o">){}</span>
	<span class="o">}</span>

<span class="c1">//--&gt; 3</span>


<span class="c1">//&lt;-- 4	</span>
	<span class="c1">//---------------------------------------------------</span>
	<span class="cm">/*	"ê²Œì„í•˜ê¸°", "êµ¬ê²½í•˜ê¸°" ë²„íŠ¼ í´ë¦­ì‹œ ì„œë²„ì— ì „ì†¡
		1. í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì„œë²„ë¡œ ì „ì†¡ ë°ì´íƒ€ ê°ì²´ ìƒì„± 
			( BadukClientProtocol )
		2. 1ë²ˆ ê°ì²´ì— stateëŠ” ë„˜ê²¨ë°›ì€ ìƒíƒœê°’ìœ¼ë¡œ ì§€ì •
		3. ì„œë²„ë¡œ ì „ì†¡ ( ì†Œì¼“ì˜ ì¶œë ¥ìŠ¤íŠ¸ë¦¼ì— write )
			: sendInformation() ì´ìš©
		4. "ê²Œì„í•˜ê¸°" ë²„íŠ¼ì„ í•œë²ˆ ëˆ„ë¥´ë©´ ë¹„í™œì„±í™”
	*/</span>
	<span class="kt">void</span> <span class="nf">startGame</span><span class="o">()</span> <span class="o">{</span>
		<span class="c1">//if(socClient == null) connectServer();</span>
		<span class="nc">BadukClientProtocol</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BadukClientProtocol</span><span class="o">();</span>
		<span class="n">obj</span><span class="o">.</span><span class="na">setState</span><span class="o">(</span><span class="nc">BadukClientProtocol</span><span class="o">.</span><span class="na">REQUEST_GAME</span><span class="o">);</span>
		<span class="n">sendInformation</span><span class="o">(</span><span class="n">obj</span><span class="o">);</span>
		<span class="n">btnGame</span><span class="o">.</span><span class="na">setEnabled</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>
	<span class="o">}</span>

	<span class="c1">//--------------------------------------------------</span>
	<span class="cm">/*	1. ë„™ê²¨ë°›ì€ ë°ì´íƒ€(BadukServerProtocolì˜ dataì„)ë¥¼ ë²¡í„°ë¡œ ë³€í™˜
		2. ë²¡í„°ì˜ 0ë²ˆì§¸ ìš”ì†Œ( í‘ëŒ ê²Œì„ìì˜ ì•„ì´ë”” )ë¥¼ ì–»ì–´ í‘ëŒê²Œì„ì í…ìŠ¤íŠ¸í•„ë“œì— ì§€ì •
		3. ë²¡í„°ì˜ 1ë²ˆì§¸ ìš”ì†Œ( í°ëŒ ê²Œì„ìì˜ ì•„ì´ë”” )ë¥¼ ì–»ì–´ í°ëŒê²Œì„ì í…ìŠ¤íŠ¸í•„ë“œì— ì§€ì •
	*/</span>
	<span class="kt">void</span> <span class="nf">setBadukGammer</span><span class="o">(</span><span class="nc">Object</span> <span class="n">data</span><span class="o">)</span> <span class="o">{</span>
		<span class="nc">Vector</span> <span class="n">gammers</span> <span class="o">=</span> <span class="o">(</span><span class="nc">Vector</span><span class="o">)</span> <span class="n">data</span><span class="o">;</span>
		<span class="n">tfBlackRock</span><span class="o">.</span><span class="na">setText</span><span class="o">((</span><span class="nc">String</span><span class="o">)</span><span class="n">gammers</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">));</span>
		<span class="n">tfWhiteRock</span><span class="o">.</span><span class="na">setText</span><span class="o">((</span><span class="nc">String</span><span class="o">)</span><span class="n">gammers</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">1</span><span class="o">));</span>
	<span class="o">}</span>
<span class="c1">//--&gt; 4</span>


<span class="c1">//&lt;-- 5</span>
	<span class="c1">//--------------------------------------------------</span>
	<span class="cm">/*	ê²Œì„ì‹œì‘ì‹œ ì´ˆê¸°í™” ì‘ì—…
		1. ë°”ë‘‘ì•Œì •ë³´(Rock í´ë˜ìŠ¤)ì„ ì €ì¥í•  ë²¡í„°ë³€ìˆ˜(badukRock) ê°ì²´ ìƒì„±
		2. ê²Œì„ì´ ì‹œì‘ë¨ì„ ì§€ì •í•  ë³€ìˆ˜(bGamming)ì„ trueë¡œ ì´ˆê¸°í™”
		3. ìŠ¹ë¦¬ì í…ìŠ¤íŠ¸í•„ë“œ ì´ˆê¸°í™”
		4. ë°”ë‘‘íŒ ìº”ë²„ìŠ¤ ì´ˆê¸°í™”
	 */</span>
	<span class="kt">void</span> <span class="nf">startGameConfirm</span><span class="o">()</span> <span class="o">{</span>
		<span class="n">badukRock</span>	<span class="o">=</span> <span class="k">new</span> <span class="nc">Vector</span><span class="o">();</span>
		<span class="n">bGamming</span>	<span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
		<span class="n">tfWinner</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">""</span><span class="o">);</span>
		<span class="n">canvas</span><span class="o">.</span><span class="na">repaint</span><span class="o">();</span>
	<span class="o">}</span>

	<span class="c1">//--------------------------------------------------</span>
	<span class="cm">/* ë§ˆìš°ìŠ¤ í´ë¦­í•œ ìœ„ì¹˜ì— ëŒ€í•œ ë°”ë‘‘ì•Œì˜ ì •ë³´ë¥¼ ì„œë²„ì— ì „ì†¡
		1. ì¸ìë¡œ ë„˜ì–´ì˜¨ ê°’ì„ ë²¡í„°ì— ì €ì¥
		2. ì„œë²„ì— ì „ì†¡
			- BadukClientProtocol ê°ì²´ ìƒì„±
			- stateì— BadukClientProtocol.SET_BADUK_ROCKë¡œ ì§€ì •
			- dataì— 1ë²ˆ ê°ì²´
			- BadukClientProtocol ê°ì²´ ì„œë²„ë¡œ ì „ì†¡
	 */</span>
	<span class="kt">void</span> <span class="nf">sendSetBaduk</span><span class="o">(</span><span class="kt">int</span> <span class="n">row</span><span class="o">,</span> <span class="kt">int</span> <span class="n">col</span><span class="o">)</span> <span class="o">{</span>
		<span class="nc">Vector</span> <span class="n">v</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Vector</span><span class="o">();</span>
		<span class="n">v</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">Integer</span><span class="o">(</span><span class="n">row</span><span class="o">));</span>
		<span class="n">v</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">Integer</span><span class="o">(</span><span class="n">col</span><span class="o">));</span>

		<span class="nc">BadukClientProtocol</span>	<span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BadukClientProtocol</span><span class="o">();</span>
		<span class="n">obj</span><span class="o">.</span><span class="na">setState</span><span class="o">(</span><span class="nc">BadukClientProtocol</span><span class="o">.</span><span class="na">SET_BADUK_ROCK</span><span class="o">);</span>
		<span class="n">obj</span><span class="o">.</span><span class="na">setData</span><span class="o">(</span><span class="n">v</span><span class="o">);</span>
		<span class="n">sendInformation</span><span class="o">(</span><span class="n">obj</span><span class="o">);</span>
	<span class="o">}</span>
<span class="c1">//--&gt; 5</span>

<span class="c1">//&lt;-- 6</span>
	<span class="c1">//-----------------------------------------------------</span>
	<span class="cm">/* ì„œë²„ë¡œë¶€í„° ë†“ì—¬ì§„ ë°”ë‘‘ëŒì˜ ìœ„ì¹˜ì •ë³´ë¥¼ ë°›ì•˜ì„ë•Œ
		1. ë„˜ê²¨ë°›ì€ ê°ì²´ë¥¼ Badukí´ë˜ìŠ¤ë¡œ í˜•ë³€í™˜
		2. Badukê°ì²´ì—ì„œ ìƒ‰ìƒì„ ì–»ì–´ì„œ í‘ì¸ì§€ ë¹„êµí›„ ìˆœì„œë¥¼ ë°±ìœ¼ë¡œ ì§€ì •
		3. ì•„ë‹ˆë©´ í‘ìœ¼ë¡œ ì§€ì •
		4. Badukê°ì²´ë¥¼ ë°”ë‘‘ëŒì„ ì €ì¥í•˜ëŠ” ë²¡í„°(badukRock)ì— ì¶”ê°€
		5. ìº”ë²„ìŠ¤ë¥¼ ë‹¤ì‹œ ê·¸ë¦¬ê¸°
	 */</span>
	<span class="kt">void</span> <span class="nf">setBakukRock</span><span class="o">(</span><span class="nc">Object</span> <span class="n">data</span><span class="o">)</span> <span class="o">{</span>
		<span class="nc">Baduk</span> <span class="n">al</span> <span class="o">=</span> <span class="o">(</span><span class="nc">Baduk</span><span class="o">)</span><span class="n">data</span><span class="o">;</span>
		
		<span class="k">if</span><span class="o">(</span><span class="n">al</span><span class="o">.</span><span class="na">getColor</span><span class="o">()</span> <span class="o">==</span> <span class="nc">Baduk</span><span class="o">.</span><span class="na">BLACK_BADUK</span><span class="o">)</span>
			<span class="n">tfOrder</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">" ë°± "</span><span class="o">);</span>
		<span class="k">else</span> 
			<span class="n">tfOrder</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">" í‘ "</span><span class="o">);</span>

		<span class="n">badukRock</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">al</span><span class="o">);</span>
		<span class="n">canvas</span><span class="o">.</span><span class="na">repaint</span><span class="o">();</span>
		
	<span class="o">}</span>


<span class="c1">//&lt;-- 7</span>
	<span class="c1">//------------------------------------------------</span>
	<span class="cm">/* ê²Œì„ìŠ¹ë¦¬ìë¥¼ ì¶œë ¥í•˜ê³  ëª¨ë“  í™”ë©´ ì´ˆê¸°í™”
		1. ê²Œì„ì§„í–‰ì¤‘ì„ í™•ì¸í•˜ëŠ” boolean ë³€ìˆ˜(bGamming)ì— false ì§€ì •
		2. ë„˜ê²¨ë°›ì€ ë°ì´íƒ€ê°’ì„ ìŠ¹ë¦¬ì í…ìŠ¤íŠ¸í•„ë“œì— ì¶œë ¥
		3. "ê²Œì„í•˜ê¸°"ë²„íŠ¼ì„ í™œì„±í™”
	 */</span>
	<span class="kt">void</span> <span class="nf">endGame</span><span class="o">(</span><span class="nc">Object</span> <span class="n">data</span><span class="o">)</span> <span class="o">{</span>
		<span class="n">bGamming</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
		<span class="nc">String</span> <span class="n">winner</span> <span class="o">=</span> <span class="o">(</span><span class="nc">String</span><span class="o">)</span> <span class="n">data</span><span class="o">;</span>
		<span class="c1">//tfWinner.setText(winner);</span>
		<span class="nc">JOptionPane</span><span class="o">.</span><span class="na">showMessageDialog</span><span class="o">(</span><span class="kc">null</span><span class="o">,</span> <span class="n">winner</span> <span class="o">+</span> <span class="s">"ë‹˜ê»˜ì„œ ìŠ¹ë¦¬í•˜ì…¨ìŠµë‹ˆë‹¤!!"</span><span class="o">);</span>
		<span class="n">btnGame</span><span class="o">.</span><span class="na">setEnabled</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
		<span class="n">tfBlackRock</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">""</span><span class="o">);</span>
		<span class="n">tfWhiteRock</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">""</span><span class="o">);</span>
		<span class="n">tfOrder</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">""</span><span class="o">);</span>
		<span class="n">tfWinner</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">""</span><span class="o">);</span>
	<span class="o">}</span>



	<span class="c1">//###################################################</span>
	<span class="cm">/* ë°”ë‘‘íŒ ëª¨ì–‘ì„ ë§Œë“  Canvas
	*/</span>
	<span class="kd">class</span> <span class="nc">MyCanvas</span> <span class="kd">extends</span> <span class="nc">Canvas</span> <span class="o">{</span>
		<span class="kt">int</span> <span class="n">term</span><span class="o">;</span>			<span class="c1">// í•œì¹¸ì˜ ê¸¸ì´</span>
		<span class="nc">Point</span> <span class="n">ptS</span><span class="o">,</span> <span class="n">ptE</span><span class="o">;</span>		<span class="c1">// ë°”ë‘‘íŒì˜ ì‹œì‘ì ê³¼ ëì ì¢Œí‘œ</span>

		<span class="c1">//----------------------------------------------</span>
		<span class="cm">/* Canvasì˜ ê·¸ë¦¼ ê·¸ë¦¬ëŠ” ì—­í• ì„ í•˜ëŠ” paint() overriding
		*/</span>
		<span class="kd">public</span> <span class="kt">void</span> <span class="nf">paint</span><span class="o">(</span><span class="nc">Graphics</span> <span class="n">g</span><span class="o">)</span> <span class="o">{</span>
			<span class="c1">// ìº”ë²„ìŠ¤ì˜ í­ê³¼ ë†’ì´ë¥¼ êµ¬í•˜ì—¬ ì •ì‚¬ê°í˜•ì˜ í­ê³¼ ë†’ì´ë¡œ ê³„ì‚°</span>
			<span class="kt">int</span> <span class="n">w</span> <span class="o">=</span> <span class="n">getWidth</span><span class="o">();</span>
			<span class="kt">int</span> <span class="n">h</span> <span class="o">=</span> <span class="n">getHeight</span><span class="o">();</span>
			<span class="k">if</span><span class="o">(</span><span class="n">w</span> <span class="o">&gt;</span> <span class="n">h</span><span class="o">)</span> <span class="n">w</span> <span class="o">=</span> <span class="n">h</span><span class="o">;</span>
			<span class="k">else</span> <span class="nf">if</span><span class="o">(</span><span class="n">w</span> <span class="o">&lt;</span> <span class="n">h</span><span class="o">)</span> <span class="n">h</span> <span class="o">=</span> <span class="n">w</span><span class="o">;</span>

			<span class="c1">// 4ë©´ì˜ ì—¬ë°±</span>
			<span class="kt">int</span> <span class="n">margin</span> <span class="o">=</span> <span class="mi">20</span><span class="o">;</span>
			
			<span class="c1">// ë°”ë‘‘ í•œì¹¸ì˜ ê¸¸ì´</span>
			<span class="n">term</span> <span class="o">=</span> <span class="n">w</span> <span class="o">/</span> <span class="mi">18</span><span class="o">;</span>

			<span class="c1">// ì‹œì‘ì¢Œí‘œì™€ ëì¢Œí‘œ ì§€ì •</span>
			<span class="n">ptS</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Point</span><span class="o">(</span><span class="n">margin</span><span class="o">,</span> <span class="n">margin</span><span class="o">);</span>
			<span class="n">ptE</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Point</span><span class="o">(</span><span class="n">w</span> <span class="o">-</span> <span class="n">margin</span><span class="o">,</span> <span class="n">h</span> <span class="o">-</span> <span class="n">margin</span><span class="o">);</span>

			<span class="c1">// ë°”ë‘‘íŒ ê¸€ ê¸‹ê¸°</span>
			<span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">19</span> <span class="o">;</span> <span class="n">i</span><span class="o">++){</span>
				<span class="n">g</span><span class="o">.</span><span class="na">drawLine</span><span class="o">(</span><span class="n">ptS</span><span class="o">.</span><span class="na">x</span><span class="o">,</span> <span class="n">ptS</span><span class="o">.</span><span class="na">y</span> <span class="o">+</span> <span class="n">term</span> <span class="o">*</span> <span class="n">i</span> <span class="o">,</span> <span class="n">ptE</span><span class="o">.</span><span class="na">x</span><span class="o">,</span>  <span class="n">ptS</span><span class="o">.</span><span class="na">y</span> <span class="o">+</span> <span class="n">term</span> <span class="o">*</span> <span class="n">i</span><span class="o">);</span>
				<span class="n">g</span><span class="o">.</span><span class="na">drawLine</span><span class="o">(</span><span class="n">ptS</span><span class="o">.</span><span class="na">x</span> <span class="o">+</span> <span class="n">term</span> <span class="o">*</span> <span class="n">i</span><span class="o">,</span> <span class="n">ptS</span><span class="o">.</span><span class="na">y</span><span class="o">,</span> <span class="n">ptS</span><span class="o">.</span><span class="na">x</span> <span class="o">+</span> <span class="n">term</span> <span class="o">*</span> <span class="n">i</span><span class="o">,</span> <span class="n">ptE</span><span class="o">.</span><span class="na">y</span><span class="o">);</span>
			<span class="o">}</span>

			<span class="c1">//!!!!!!!! ì—¬ê¸°ëŠ” ë‚˜ì¤‘ì— ì°¸ê³ </span>
			<span class="c1">//^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span>
			<span class="c1">// ì„œë²„ë¡œ ë„˜ì–´ì˜¨ ë°”ë‘‘ì•Œì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” ë²¡í„°ì— ë°ì´íƒ€ê°€ ìˆë‹¤ë©´</span>
			<span class="c1">// ë²¡í„°ì˜ ê°ê° ë°”ë‘‘ì•Œì •ë³´(Rock í´ë˜ìŠ¤)ì„ ì–»ì–´ row,column,color ê°’ì„ ì–»ì–´ì™€ì„œ</span>
			<span class="c1">// í™”ë©´ì— ê·¸ ì •ë³´ë¡œ ì› ê·¸ë¦¬ê¸°</span>
			<span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="o">,</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="o">,</span> <span class="n">c</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>	<span class="c1">// ë°”ë‘‘ì•Œì˜  xì¢Œí‘œ, yì¢Œí‘œ, ìƒ‰ìƒì„ ì €ì¥í•  ë³€ìˆ˜</span>
			<span class="kt">int</span> <span class="n">r</span> <span class="o">=</span> <span class="n">term</span> <span class="o">/</span> <span class="mi">2</span><span class="o">;</span>			<span class="c1">// ë°”ë‘‘ì•Œì˜ ë°˜ì§€ë¦„ì„ ì €ì¥í•  ë³€ìˆ˜</span>
			<span class="k">if</span><span class="o">(</span><span class="n">badukRock</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">){</span>				
				<span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">badukRock</span><span class="o">.</span><span class="na">size</span><span class="o">();</span> <span class="n">i</span><span class="o">++){</span>
					<span class="nc">Baduk</span>	<span class="n">al</span> <span class="o">=</span> <span class="o">(</span><span class="nc">Baduk</span><span class="o">)</span><span class="n">badukRock</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
					<span class="n">x</span> <span class="o">=</span> <span class="n">al</span><span class="o">.</span><span class="na">getCol</span><span class="o">();</span>
					<span class="n">y</span> <span class="o">=</span> <span class="n">al</span><span class="o">.</span><span class="na">getRow</span><span class="o">();</span>
					<span class="n">c</span> <span class="o">=</span> <span class="n">al</span><span class="o">.</span><span class="na">getColor</span><span class="o">();</span>
					
					<span class="k">if</span><span class="o">(</span><span class="n">c</span> <span class="o">==</span> <span class="nc">Baduk</span><span class="o">.</span><span class="na">BLACK_BADUK</span> <span class="o">)</span>	<span class="n">g</span><span class="o">.</span><span class="na">setColor</span><span class="o">(</span><span class="nc">Color</span><span class="o">.</span><span class="na">black</span><span class="o">);</span>
					<span class="k">else</span>	<span class="n">g</span><span class="o">.</span><span class="na">setColor</span><span class="o">(</span><span class="nc">Color</span><span class="o">.</span><span class="na">yellow</span> <span class="o">);</span>

					<span class="n">g</span><span class="o">.</span><span class="na">fillArc</span><span class="o">(</span><span class="n">ptS</span><span class="o">.</span><span class="na">x</span> <span class="o">+</span> <span class="n">x</span> <span class="o">*</span> <span class="n">term</span> <span class="o">-</span> <span class="n">r</span><span class="o">,</span> <span class="n">ptS</span><span class="o">.</span><span class="na">y</span> <span class="o">+</span> <span class="n">y</span> <span class="o">*</span> <span class="n">term</span> <span class="o">-</span> <span class="n">r</span><span class="o">,</span> <span class="n">term</span><span class="o">,</span> <span class="n">term</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">360</span><span class="o">);</span>
				<span class="o">}</span>
				<span class="c1">// ë§ˆì§€ë§‰ë°”ë‘‘ì•Œì—ëŠ” ë¹¨ê°„ ì‚¬ê°í‘œì‹œ</span>
				<span class="n">g</span><span class="o">.</span><span class="na">setColor</span><span class="o">(</span><span class="nc">Color</span><span class="o">.</span><span class="na">red</span> <span class="o">);</span>
				<span class="n">g</span><span class="o">.</span><span class="na">drawRect</span><span class="o">(</span><span class="n">ptS</span><span class="o">.</span><span class="na">x</span> <span class="o">+</span> <span class="n">x</span> <span class="o">*</span> <span class="n">term</span> <span class="o">-</span> <span class="n">r</span><span class="o">,</span> <span class="n">ptS</span><span class="o">.</span><span class="na">y</span> <span class="o">+</span> <span class="n">y</span> <span class="o">*</span> <span class="n">term</span> <span class="o">-</span> <span class="n">r</span><span class="o">,</span> <span class="n">term</span><span class="o">,</span> <span class="n">term</span><span class="o">);</span>
			<span class="o">}</span>

		<span class="o">}</span>


		<span class="c1">//----------------------------------------------</span>
		<span class="cm">/* ìƒì„±ì í•¨ìˆ˜
		 */</span>
		<span class="nc">MyCanvas</span><span class="o">(){</span>
<span class="c1">//&lt;-- 6</span>
			<span class="c1">// ë°”ë‘‘íŒì—ì„œ ë§ˆìš°ìŠ¤ í´ë¦­ì‹œ ì„œë²„ì— ë°ì´íƒ€ ì „ì†¡</span>
			<span class="cm">/*	1. ëˆŒë ¤ì§„ ì¢Œí‘œê°’ ì–»ì–´ì˜¤ê¸°
				2. 1ë²ˆì—ì„œ xê°’ì´ ë°”ë‘‘íŒì˜ ëª‡ë²ˆì§¸ ì„¸ë¡œì¤„ì¸ì§€ ì§€ì •
					( getXValue() ì´ìš© )
				3. 1ë²ˆì—ì„œ yê°’ì´ ë°”ë‘‘íŒì˜ ëª‡ë²ˆì§¸ ê°€ë¡œì¤„ì¸ì§€ ì§€ì •
					( getYValue() ì´ìš© )
				4. ì„œë²„ì— ì „ì†¡í•˜ê¸° ìœ„í•´ sendSetBaduk() í˜¸ì¶œ
			 */</span>
			<span class="n">addMouseListener</span><span class="o">(</span><span class="k">new</span> <span class="nc">MouseAdapter</span><span class="o">()</span> <span class="o">{</span>
				<span class="kd">public</span> <span class="kt">void</span> <span class="nf">mouseReleased</span><span class="o">(</span><span class="nc">MouseEvent</span> <span class="n">ev</span><span class="o">){</span>
					<span class="nc">Point</span> <span class="n">pt</span> <span class="o">=</span> <span class="n">ev</span><span class="o">.</span><span class="na">getPoint</span><span class="o">();</span>
					<span class="kt">int</span> <span class="n">col</span> <span class="o">=</span> <span class="n">getXValue</span><span class="o">(</span><span class="n">pt</span><span class="o">.</span><span class="na">x</span><span class="o">);</span>
					<span class="kt">int</span> <span class="n">row</span> <span class="o">=</span> <span class="n">getYValue</span><span class="o">(</span><span class="n">pt</span><span class="o">.</span><span class="na">y</span><span class="o">);</span>

					<span class="k">if</span><span class="o">(</span><span class="n">bGamming</span> <span class="o">){</span>
						<span class="k">if</span><span class="o">(</span><span class="n">row</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">row</span> <span class="o">&gt;</span> <span class="mi">18</span> <span class="o">||</span> <span class="n">col</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">col</span> <span class="o">&gt;</span> <span class="mi">18</span><span class="o">)</span>
							<span class="k">return</span><span class="o">;</span>
						<span class="n">sendSetBaduk</span><span class="o">(</span><span class="n">row</span><span class="o">,</span> <span class="n">col</span><span class="o">);</span>
					<span class="o">}</span>
					
				<span class="o">}</span>
			<span class="o">});</span>
<span class="c1">//--&gt; 6</span>
		<span class="o">}</span>


		<span class="c1">//^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span>
		<span class="c1">// í´ë¦­í•œ xì¢Œí‘œê°’ì„ ë°”ë‘‘íŒì—ì„œì˜ column ê°’ìœ¼ë¡œ ë³€ê²½</span>
		<span class="kt">int</span> <span class="nf">getXValue</span><span class="o">(</span><span class="kt">int</span> <span class="n">x</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">x</span> <span class="o">-=</span> <span class="n">ptS</span><span class="o">.</span><span class="na">x</span><span class="o">;</span>
			<span class="kt">int</span> <span class="n">v</span> <span class="o">=</span> <span class="n">x</span> <span class="o">/</span> <span class="n">term</span><span class="o">;</span>
			<span class="kt">int</span> <span class="n">r</span> <span class="o">=</span> <span class="n">x</span> <span class="o">%</span> <span class="n">term</span><span class="o">;</span>
			<span class="k">if</span><span class="o">(</span><span class="n">r</span> <span class="o">&gt;</span> <span class="n">term</span> <span class="o">/</span> <span class="mi">2</span><span class="o">)</span> <span class="n">v</span><span class="o">++;</span>
			<span class="k">return</span> <span class="n">v</span><span class="o">;</span>
		<span class="o">}</span>
		<span class="c1">//^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span>
		<span class="c1">// í´ë¦­í•œ xì¢Œí‘œê°’ì„ ë°”ë‘‘íŒì—ì„œì˜ column ê°’ìœ¼ë¡œ ë³€ê²½</span>
		<span class="kt">int</span> <span class="nf">getYValue</span><span class="o">(</span><span class="kt">int</span> <span class="n">y</span><span class="o">){</span>
			<span class="n">y</span> <span class="o">-=</span> <span class="n">ptS</span><span class="o">.</span><span class="na">y</span><span class="o">;</span>
			<span class="kt">int</span> <span class="n">v</span> <span class="o">=</span> <span class="n">y</span> <span class="o">/</span> <span class="n">term</span><span class="o">;</span>
			<span class="kt">int</span> <span class="n">r</span> <span class="o">=</span> <span class="n">y</span> <span class="o">%</span> <span class="n">term</span><span class="o">;</span>
			<span class="k">if</span><span class="o">(</span><span class="n">r</span> <span class="o">&gt;</span> <span class="n">term</span> <span class="o">/</span> <span class="mi">2</span><span class="o">)</span> <span class="n">v</span><span class="o">++;</span>
			<span class="k">return</span> <span class="n">v</span><span class="o">;</span>
		<span class="o">}</span>
	<span class="o">};</span>	
<span class="o">}</span>
</code></pre></div></div>

<h2 id="badukclientmain">BadukClientMain</h2>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//====================================================</span>
<span class="c1">//	í´ë¼ì´ì–¸íŠ¸ í”„ë¡œê·¸ë¨ì„ ì‹¤í–‰í•˜ëŠ” í´ë˜ìŠ¤</span>
<span class="c1">//	( main() í¬í•¨ )</span>
<span class="c1">//====================================================</span>
<span class="kn">import</span> <span class="nn">javax.swing.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.*</span><span class="o">;</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">BadukClientMain</span> <span class="kd">extends</span> <span class="nc">JFrame</span> <span class="o">{</span>
	<span class="nc">BadukClient</span>			<span class="n">badukClient</span><span class="o">;</span>       

	<span class="kd">public</span> <span class="nf">BadukClientMain</span><span class="o">(</span><span class="nc">String</span> <span class="n">server</span><span class="o">,</span> <span class="nc">String</span> <span class="n">id</span><span class="o">)</span> <span class="o">{</span>
		<span class="n">badukClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BadukClient</span><span class="o">(</span><span class="n">server</span><span class="o">,</span> <span class="n">id</span><span class="o">);</span>
		<span class="n">getContentPane</span><span class="o">().</span> <span class="n">add</span><span class="o">(</span><span class="n">badukClient</span><span class="o">);</span>
		<span class="c1">//setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE );</span>

		
<span class="c1">//--&gt; 3</span>
		<span class="c1">// ì¢…ë£Œì‹œ ì„œë²„ì— ë‚˜ê°ì„ ì•Œë¦¼</span>
		<span class="n">addWindowListener</span><span class="o">(</span><span class="k">new</span> <span class="nc">WindowAdapter</span><span class="o">()</span> <span class="o">{</span>
			<span class="kd">public</span> <span class="kt">void</span> <span class="nf">windowClosing</span><span class="o">(</span><span class="nc">WindowEvent</span> <span class="n">ev</span><span class="o">)</span> <span class="o">{</span>
				<span class="n">badukClient</span><span class="o">.</span><span class="na">sendExit</span><span class="o">();</span>
				<span class="nc">System</span><span class="o">.</span><span class="na">exit</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
			<span class="o">}</span>
		<span class="o">});</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
		<span class="nc">BadukClientMain</span> <span class="n">main</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BadukClientMain</span><span class="o">(</span><span class="n">args</span><span class="o">[</span><span class="mi">0</span><span class="o">],</span> <span class="n">args</span><span class="o">[</span><span class="mi">1</span><span class="o">]);</span>
		<span class="n">main</span><span class="o">.</span><span class="na">setSize</span><span class="o">(</span><span class="mi">880</span><span class="o">,</span><span class="mi">660</span><span class="o">);</span>
		<span class="n">main</span><span class="o">.</span><span class="na">setVisible</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="badukclientprotocol">BadukClientProtocol</h2>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//=============================================================</span>
<span class="c1">//	í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì„œë²„ë¡œ ì „ì†¡í•   ë°ì´íƒ€ë¥¼ ìº¡ìŠí™”í•œ í´ë˜ìŠ¤</span>
<span class="c1">//=============================================================</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">BadukClientProtocol</span> <span class="kd">implements</span> <span class="n">java</span><span class="o">.</span><span class="na">io</span><span class="o">.</span><span class="na">Serializable</span> <span class="o">{</span>
	<span class="c1">//---------------------------------------------</span>
	<span class="c1">// í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì„œë²„ë¡œ ì „ì†¡ì‹œ ìƒíƒœê°’</span>
	
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span>			<span class="nc">Chatting</span>    <span class="o">=</span>  <span class="mi">200</span><span class="o">;</span>	<span class="c1">// ì±—íŒ…ë©”ì„¸ì§€ </span>
	<span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span>			<span class="no">SEND_ID</span>		<span class="o">=</span>  <span class="mi">300</span><span class="o">;</span> <span class="c1">// ì²˜ìŒ ì ‘ì†ì‹œ ì•„ì´ë””</span>
	<span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span>			<span class="no">EXIT</span>		<span class="o">=</span>  <span class="mi">400</span><span class="o">;</span> <span class="c1">// ì ‘ì†ì„ ëŠì„ë•Œ</span>

	<span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span>			<span class="no">REQUEST_GAME</span> <span class="o">=</span>  <span class="mi">0</span><span class="o">;</span>
	<span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span>			<span class="no">VIEW_GAME</span>    <span class="o">=</span>  <span class="mi">1</span><span class="o">;</span>


  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span>			<span class="no">SET_BADUK_ROCK</span>    <span class="o">=</span>  <span class="mi">11</span><span class="o">;</span>

	<span class="nc">Object</span> 						 <span class="n">data</span><span class="o">;</span>
	<span class="kt">int</span>                <span class="n">state</span><span class="o">;</span>

	<span class="kd">public</span> <span class="nf">BadukClientProtocol</span><span class="o">()</span> <span class="o">{</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setData</span><span class="o">(</span><span class="nc">Object</span> <span class="n">obj</span><span class="o">)</span> <span class="o">{</span>
		<span class="n">data</span> <span class="o">=</span> <span class="n">obj</span><span class="o">;</span>		
	<span class="o">}</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setState</span><span class="o">(</span><span class="kt">int</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span>
		<span class="n">state</span> <span class="o">=</span> <span class="n">s</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="nc">Object</span> <span class="nf">getData</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">data</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="kt">int</span> <span class="nf">getState</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">state</span><span class="o">;</span>
	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="badukserver">BadukServer</h2>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//===================================================================</span>
<span class="c1">//	ì„œë²„ í”„ë¡œê·¸ë¨ì„ ì‹œì‘í•˜ëŠ” í´ë˜ìŠ¤</span>
<span class="c1">//	í´ë¼ì´ì–¸íŠ¸ê°€ ìš”ì²­í•œ ê²°ê³¼ë¥¼ êµ¬í˜„í•œ í´ë˜ìŠ¤</span>
<span class="c1">//===================================================================</span>
<span class="kn">import</span> <span class="nn">java.io.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.*</span><span class="o">;</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">BadukServer</span> <span class="kd">implements</span> <span class="nc">Runnable</span> <span class="o">{</span>	
  <span class="nc">Vector</span> 				<span class="n">member</span><span class="o">;</span>		<span class="c1">// í´ë¼ì´ì–¸íŠ¸ì ‘ì†ì‹œ ì •ë³´ ì €ì¥í•  ë²¡í„°</span>
  <span class="nc">ServerSocket</span> 	<span class="n">server</span><span class="o">;</span>
  <span class="nc">Thread</span> 				<span class="n">serverThread</span><span class="o">;</span>
  <span class="kt">int</span>           <span class="n">serverPort</span> <span class="o">=</span> <span class="mi">7777</span><span class="o">;</span>
   
	<span class="c1">// ê²Œì„ì— ê´€í•œ ë©¤ë²„ ë³€ìˆ˜</span>
	<span class="nc">BadukService</span>	<span class="n">blackClient</span><span class="o">;</span>	<span class="c1">// í‘ëŒê²Œì„ í´ë¼ì´ì–¸íŠ¸</span>
	<span class="nc">BadukService</span>	<span class="n">whiteClient</span><span class="o">;</span>	<span class="c1">// í°ëŒê²Œì„ í´ë¼ì´ì–¸íŠ¸</span>
	<span class="nc">BadukService</span>	<span class="n">currentClient</span><span class="o">;</span>	<span class="c1">// í˜„ì¬ì°¨ë¡€ í´ë¼ì´ì–¸íŠ¸</span>
	<span class="nc">Vector</span>			<span class="n">badukRock</span><span class="o">;</span>		<span class="c1">// ë°”ë‘‘ì•Œì •ë³´ë¥¼ ì €ì¥í•  ë²¡í„°</span>
	<span class="kt">int</span><span class="o">[][]</span>			<span class="n">badukPan</span><span class="o">;</span>	<span class="c1">// ë°”ë‘‘íŒ ìœ„ì¹˜ ì €ì¥</span>
	<span class="nc">String</span>			<span class="n">winner</span><span class="o">;</span>			<span class="c1">// ì´ê¸´ì‚¬ëŒì˜ ì•„ì´ë”” ì €ì¥</span>

  <span class="c1">//--------------------------------------------------------</span>
  <span class="cm">/*	ìƒì„±ì í•¨ìˆ˜
	1. ServerSocket ê°ì²´ ìƒì„±
	2. ë²¡í„° ê°ì²´ ìƒì„±
	3. í´ë¼ì´ì–¸íŠ¸ ì ‘ì†ì„ ê¸°ë‹¤ë¦¬ê¸° ìœ„í•´ ì“°ë ˆë“œ êµ¬í˜„
  */</span>
  <span class="kd">public</span> <span class="nf">BadukServer</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">{</span>
       <span class="n">server</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ServerSocket</span><span class="o">(</span><span class="n">serverPort</span><span class="o">);</span>
    <span class="o">}</span><span class="k">catch</span><span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
	    <span class="c1">// System.out.println(e);</span>
    <span class="o">}</span>
    <span class="n">member</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Vector</span><span class="o">();</span>

    <span class="n">serverThread</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Thread</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
    <span class="n">serverThread</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>
  <span class="o">}</span>
  
  <span class="c1">//--------------------------------------------------------</span>
  <span class="cm">/* ì“°ë ˆë“œ êµ¬í˜„
	1. ServerSocketì˜ accept() í•¨ìˆ˜ë¡œ í´ë¼ì´ì–¸íŠ¸ ì ‘ì† ëŒ€ê¸°
	2. ì ‘ì†í•œ í´ë¼ì´ì–¸íŠ¸ì™€ ì†Œì¼“ì„ ì£¼ê³ ë°›ì„ ì—­í• ì„ í•˜ëŠ” í´ë˜ìŠ¤ ìƒì„±
		( BadukService )
	3. 2ì˜ ê°ì²´ë¥¼ ë²¡í„°ì— ì¶”ê°€
  */</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
      <span class="k">try</span> <span class="o">{</span>
			<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"ì„œë²„ êµ¬ë™ ì‹œì‘ !!!  "</span><span class="o">);</span>    			
    		<span class="k">while</span><span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
				<span class="nc">Socket</span> <span class="n">s</span> <span class="o">=</span> <span class="n">server</span><span class="o">.</span><span class="na">accept</span><span class="o">();</span>
				<span class="nc">BadukService</span> <span class="n">cs</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BadukService</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">s</span><span class="o">);</span>
				<span class="n">member</span><span class="o">.</span><span class="na">addElement</span><span class="o">(</span><span class="n">cs</span><span class="o">);</span>
				<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Client ì ‘ì† : "</span> <span class="o">+</span> <span class="n">cs</span><span class="o">);</span>    			
    		<span class="o">}</span>
      <span class="o">}</span><span class="k">catch</span><span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      
      <span class="o">}</span>
  <span class="o">}</span>

  <span class="c1">//-------------------------------------------------------</span>
  <span class="cm">/* ê° í´ë¼ì´ì–¸íŠ¸ì™€ ë°ì´íƒ€ ì „ì†¡ì„ ë‹´ë‹¹í•˜ëŠ” BadukServiceê°ì²´ì—ì„œ
    í•œ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ë°ì´íƒ€ë¥¼ ì½ì—ˆìœ¼ë©´ ëª¨ë“  ë©¤ë²„ì—ê²Œ ì „ì†¡
  */</span>  
  <span class="kd">public</span> <span class="kd">synchronized</span> <span class="kt">void</span> <span class="nf">setChatting</span><span class="o">(</span><span class="nc">Object</span> <span class="n">data</span><span class="o">)</span> <span class="o">{</span>
		<span class="nc">BadukServerProtocol</span>  <span class="n">p</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BadukServerProtocol</span><span class="o">();</span>
		<span class="n">p</span><span class="o">.</span><span class="na">setState</span><span class="o">(</span><span class="nc">BadukServerProtocol</span><span class="o">.</span><span class="na">Chatting</span><span class="o">);</span>
		<span class="n">p</span><span class="o">.</span><span class="na">setData</span><span class="o">(</span><span class="n">data</span><span class="o">);</span>
		<span class="n">broadcast</span><span class="o">(</span><span class="n">p</span><span class="o">);</span>
	<span class="o">}</span>

  <span class="kd">public</span>  <span class="kd">synchronized</span> <span class="kt">void</span> <span class="nf">broadcast</span><span class="o">(</span><span class="nc">BadukServerProtocol</span> <span class="n">obj</span><span class="o">)</span> <span class="o">{</span>
  		<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">member</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">;</span> <span class="n">i</span><span class="o">++){</span>
  			<span class="nc">BadukService</span> <span class="n">client</span> <span class="o">=</span> <span class="o">(</span><span class="nc">BadukService</span><span class="o">)</span><span class="n">member</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
  			<span class="n">client</span><span class="o">.</span><span class="na">sendInformation</span><span class="o">(</span><span class="n">obj</span><span class="o">);</span>
  		<span class="o">}</span>
  <span class="o">}</span>
  
<span class="c1">//@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@</span>
<span class="c1">//&lt;-- 3</span>
   <span class="c1">//-------------------------------------------------------</span>
   <span class="cm">/*	Vectorì˜ ìš”ì†Œì¸ BadukServiceë¥¼ ì–»ì–´ì„œ ê°ê°ì˜ ì•„ì´ë””ë¥¼ ì–»ì–´
		String ë°°ì—´ì— ì¶”ê°€í›„ ê°ê° í´ë¼ì´ì–¸íŠ¸ì— ì „ì†¡
		1. Vectorì˜ í¬ê¸°ë§Œí¼ String ë°°ì—´ì„ ìƒì„±
		2. ë°°ì—´ì—ì„œ í•˜ë‚˜ì”© ìš”ì†Œ(BadukService)ë¥¼ ì–»ê¸°
		3. ì–»ì€ ê° BadukServiceì˜ idê°’ì„ String ë°°ì—´ì— ì¶”ê°€
		4. í´ë¼ì´ì–¸íŠ¸ë¡œ ì „ì†¡í•  ê°ì²´ ìƒì„± ( BadukServerProtocol )
		5. 4ë²ˆ ê°ì²´ì˜ stateê°’ì„ BadukServerProtocol.CHANGE_MEMBER_IDë¡œ ì§€ì •
		6. 4ë²ˆ ê°ì²´ì˜ dataê°’ì„ ìœ„ì˜ Stringë°°ì—´ë¡œ ì§€ì •
		7. ëª¨ë“  í´ë¼ì´ì–¸íŠ¸ì— ì „ì†¡ ( boaadcast() ì´ìš© )
	*/</span>
   <span class="kd">public</span> <span class="kd">synchronized</span> <span class="kt">void</span> <span class="nf">sendAddMember</span><span class="o">()</span> <span class="o">{</span>
		<span class="nc">String</span><span class="o">[]</span> <span class="n">str</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">String</span><span class="o">[</span><span class="n">member</span><span class="o">.</span><span class="na">size</span><span class="o">()];</span>
		<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">str</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
			<span class="nc">BadukService</span> <span class="n">client</span> <span class="o">=</span> <span class="o">(</span><span class="nc">BadukService</span><span class="o">)</span> <span class="n">member</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
			<span class="n">str</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">String</span><span class="o">(</span><span class="n">client</span><span class="o">.</span><span class="na">getID</span><span class="o">());</span>
		<span class="o">}</span>	
		<span class="nc">BadukServerProtocol</span>  <span class="n">p</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BadukServerProtocol</span><span class="o">();</span>
		<span class="n">p</span><span class="o">.</span><span class="na">setState</span><span class="o">(</span><span class="nc">BadukServerProtocol</span><span class="o">.</span><span class="na">CHANGE_MEMBER_ID</span><span class="o">);</span>
		<span class="n">p</span><span class="o">.</span><span class="na">setData</span><span class="o">(</span><span class="n">str</span><span class="o">);</span>
		<span class="n">broadcast</span><span class="o">(</span><span class="n">p</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="c1">// ì¢…ë£Œì‹œ</span>
  <span class="cm">/* ë‚˜ê°€ëŠ” ì ‘ì†ìì˜ ì•„ì´ë””ë¥¼ ì¸ìë¡œ ë°›ì•„ ê°™ì€ ì•„ì´ë””ë¥¼ ê°€ì§€ê³  ìˆëŠ” BadukServiceë¥¼ ì°¾ì•„
    ë²¡í„°ì—ì„œ ì œê±°
	1. ë²¡í„°ì˜ í¬ê¸°ë§Œí¼ ë°˜ë³µë¬¸ êµ¬ë™í•˜ì—¬ ìš”ì†Œ(BadukService)ë¥¼ í•˜ë‚˜ì”© ì–»ì–´ì˜¨ë‹¤
	2. ì¸ìë¡œ ë°›ì€ ì•„ì´ë””ì™€ ê°™ì€ ì•„ì´ë”” ìˆëŠ”ì§€ ë¹„êµí•˜ì—¬
	3. ë²¡í„°ì—ì„œ ê·¸ ìš”ì†Œë¥¼ ì œê±°
	4. ë‹¤ë¥¸ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì „ì†¡ sendAddMember(); í˜¸ì¶œ
   */</span>
  <span class="kt">void</span> <span class="nf">sendRemoveMember</span><span class="o">(</span><span class="nc">String</span> <span class="n">removeId</span> <span class="o">)</span> <span class="o">{</span>
		<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">member</span><span class="o">.</span><span class="na">size</span><span class="o">();</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
			<span class="nc">BadukService</span> <span class="n">client</span> <span class="o">=</span> <span class="o">(</span><span class="nc">BadukService</span><span class="o">)</span> <span class="n">member</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
			<span class="k">if</span><span class="o">(</span><span class="n">removeId</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">client</span><span class="o">.</span><span class="na">getID</span><span class="o">()))</span> <span class="o">{</span>
				<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">removeId</span> <span class="o">+</span><span class="s">" ë‚˜ê°„ë‹¤~!!"</span><span class="o">);</span>
				<span class="n">member</span><span class="o">.</span><span class="na">removeElementAt</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
				<span class="c1">// ë‹¤ë¥¸ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì•Œë¦¬ê¸° ìœ„í•´</span>
				<span class="n">sendAddMember</span><span class="o">();</span>
			<span class="o">}</span>
		<span class="o">}</span>		
  <span class="o">}</span>

<span class="c1">//&lt;-- 4</span>
  <span class="c1">//------------------------------------------------------</span>
  <span class="cm">/* ì²˜ìŒì— ì‹ ì²­í•œ ê²Œì„ìëŠ” í‘ëŒë¡œ ì§€ì •í•˜ê³ , ê·¸ë‹¤ìŒì— ì‹ ì²­í•œ
	ê²Œì„ìëŠ” í°ëŒë¡œ ì§€ì •í•œí›„ ê²Œì„ì„ ì‹œì‘í•œë‹¤
	1. í‘ëŒ ê²Œì„ì ë³€ìˆ˜(blackClient)ê°€ null ì´ë¼ë©´ ì²«ë²ˆì§¸ ê²Œì„ìì´ë¯€ë¡œ 
		ì¸ìë¡œ ë„˜ì–´ì˜¨ BadukServiceê°ì²´ë¥¼ í‘ëŒê²Œì„ë¨¸ ë³€ìˆ˜ë¡œ ì§€ì •
	2. í‘ëŒ ê²Œì„ì ì•„ì´ë””ë¥¼ ëª¨ë“  í´ë¼ì´ì–¸íŠ¸ì— ì „ì†¡
		sendBadukGammer()ë¥¼ ì´ìš©í•˜ì—¬ ëª¨ë“  í´ë¼ì´ì–¸íŠ¸ì— ì „ì†¡
	3. í°ëŒ ê²Œì„ì ë³€ìˆ˜(whiteClient)ê°€ null ì´ë¼ë©´ ë‘ë²ˆì§¸ ê²Œì„ìì´ë¯€ë¡œ 
		ì¸ìë¡œ ë„˜ì–´ì˜¨ BadukServiceê°ì²´ë¥¼ í°ëŒê²Œì„ë¨¸ ë³€ìˆ˜ë¡œ ì§€ì •
	4. í°ëŒ ê²Œì„ì ì•„ì´ë””ë¥¼ ëª¨ë“  í´ë¼ì´ì–¸íŠ¸ì— ì „ì†¡
		sendBadukGammer()ë¥¼ ì´ìš©í•˜ì—¬ ëª¨ë“  í´ë¼ì´ì–¸íŠ¸ì— ì „ì†¡
   */</span>
  <span class="kd">public</span> <span class="kd">synchronized</span> <span class="kt">void</span> <span class="nf">requestGame</span><span class="o">(</span><span class="nc">BadukService</span> <span class="n">c</span><span class="o">)</span> <span class="o">{</span>
  	   	<span class="k">if</span> <span class="o">(</span><span class="n">blackClient</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
  	   		<span class="n">blackClient</span> <span class="o">=</span> <span class="n">c</span><span class="o">;</span>
		   		<span class="nc">BadukServerProtocol</span>  <span class="n">p</span> <span class="o">=</span> <span class="n">sendBadukGammer</span><span class="o">();</span>	
					<span class="n">broadcast</span><span class="o">(</span><span class="n">p</span><span class="o">);</span>			
  	   	<span class="o">}</span>	
  	   	<span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">whiteClient</span> <span class="o">==</span> <span class="kc">null</span><span class="o">){</span>
	  			<span class="n">whiteClient</span> <span class="o">=</span> <span class="n">c</span><span class="o">;</span>
  		   	<span class="nc">BadukServerProtocol</span>  <span class="n">p</span> <span class="o">=</span> <span class="n">sendBadukGammer</span><span class="o">();</span>	
					<span class="n">broadcast</span><span class="o">(</span><span class="n">p</span><span class="o">);</span>

<span class="c1">//&lt;-- 5		// ê²Œì„ì‹œì‘</span>
					<span class="n">startGame</span><span class="o">();</span>
  	   	<span class="o">}</span>
   <span class="o">}</span>


  <span class="c1">//####################################################</span>
  <span class="c1">//----------------------------------------------------</span>
  <span class="cm">/* í‘ëŒê²Œì„ìì˜ ì•„ì´ë””ì™€ í°ëŒê²Œì„ìì˜ ì•„ì´ë””ë¥¼ ì–»ì–´
	ë²¡í„°ì— ì €ì¥í•˜ê³ ë‚˜ì„œ ëª¨ë“  í´ë¼ì´ì–¸íŠ¸ì— ì „ì†¡
	( BadukServerProtocol ê°ì²´ë¡œ ì „ì†¡í•˜ê³ ì )
   */</span>
  <span class="kd">public</span> <span class="kd">synchronized</span> <span class="nc">BadukServerProtocol</span> <span class="nf">sendBadukGammer</span><span class="o">()</span> <span class="o">{</span>
		<span class="nc">String</span> <span class="n">blackID</span> <span class="o">=</span> <span class="s">""</span><span class="o">;</span>
		<span class="k">if</span> <span class="o">(</span><span class="n">blackClient</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span>
		   <span class="n">blackID</span> <span class="o">=</span> <span class="n">blackClient</span><span class="o">.</span><span class="na">getID</span><span class="o">();</span>
		<span class="nc">String</span> <span class="n">whiteID</span> <span class="o">=</span> <span class="s">""</span><span class="o">;</span>
		<span class="k">if</span> <span class="o">(</span><span class="n">whiteClient</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span>
			<span class="n">whiteID</span> <span class="o">=</span> <span class="n">whiteClient</span><span class="o">.</span><span class="na">getID</span><span class="o">();</span>
		<span class="nc">Vector</span> <span class="n">v</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Vector</span><span class="o">();</span>
		<span class="n">v</span><span class="o">.</span><span class="na">addElement</span><span class="o">(</span><span class="n">blackID</span><span class="o">);</span>
		<span class="n">v</span><span class="o">.</span><span class="na">addElement</span><span class="o">(</span><span class="n">whiteID</span><span class="o">);</span>
		<span class="nc">BadukServerProtocol</span>  <span class="n">p</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BadukServerProtocol</span><span class="o">();</span>
		<span class="n">p</span><span class="o">.</span><span class="na">setState</span><span class="o">(</span><span class="nc">BadukServerProtocol</span><span class="o">.</span><span class="na">SET_BADUK_GAMMER</span><span class="o">);</span>
		<span class="n">p</span><span class="o">.</span><span class="na">setData</span><span class="o">(</span><span class="n">v</span><span class="o">);</span>
		<span class="k">return</span> <span class="n">p</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="c1">//-------------------------------------------------</span>
  <span class="cm">/* ê²Œì„ì„ ì‹œì‘í•˜ë©´ í‘ëŒ ë¨¼ì € ìˆœì„œë¡œ ì§€ì •í•˜ê³  ë°”ë‘‘ì•Œ ì €ì¥í•  ë²¡í„° ìƒì„±í•˜ê³ 
	ë°”ë‘‘íŒì •ë³´ ì €ì¥í•  ë³€ìˆ˜ ì´ˆê¸°í™” í•œ í›„	ëª¨ë“  í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ê²Œì„ì‹œì‘ì„ì„ ì „ì†¡
   */</span>
  <span class="kd">public</span> <span class="kd">synchronized</span> <span class="kt">void</span> <span class="nf">startGame</span><span class="o">()</span> <span class="o">{</span>
		<span class="n">currentClient</span> <span class="o">=</span> <span class="n">blackClient</span><span class="o">;</span>
  		<span class="n">badukRock</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Vector</span><span class="o">(</span><span class="mi">5</span><span class="o">,</span> <span class="mi">5</span><span class="o">);</span>
  		<span class="n">badukPan</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="mi">19</span><span class="o">][</span><span class="mi">19</span><span class="o">];</span>
  		<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">19</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span>
  			<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="mi">19</span><span class="o">;</span> <span class="n">j</span><span class="o">++)</span>
  				<span class="n">badukPan</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">]</span> <span class="o">=</span> <span class="nc">Baduk</span><span class="o">.</span><span class="na">NONE_BADUK</span><span class="o">;</span>
			<span class="nc">BadukServerProtocol</span>  <span class="n">p2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BadukServerProtocol</span><span class="o">();</span>
			<span class="n">p2</span><span class="o">.</span><span class="na">setState</span><span class="o">(</span><span class="nc">BadukServerProtocol</span><span class="o">.</span><span class="na">START_GAME</span><span class="o">);</span>
			<span class="n">broadcast</span><span class="o">(</span><span class="n">p2</span><span class="o">);</span>
  <span class="o">}</span>
<span class="c1">//--&gt; 4</span>


<span class="c1">//&lt;-- 6</span>
<span class="c1">//------------------------------------------------------------</span>
<span class="cm">/*  1. í´ë¦­í•œ ì ‘ì†ìê°€ í˜„ì¬ê²Œì„ìê°€ ì•„ë‹ˆë¼ë©´ ë¦¬í„´
	2. ë„˜ê²¨ë°›ì€ Object ì¸ìì—ì„œ x,yì¢Œí‘œ ì–»ì–´ì˜¤ê¸°
	3. í‘ëŒê²Œì„ìë¼ë©´ í‘ìƒ‰ì„ í°ëŒê²Œì„ìë¼ë©´ í°ìƒ‰ì„ ì§€ì •
	4. 2ë²ˆê³¼ 3ë²ˆì˜ ë°ì´íƒ€ ( xê°’, yê°’, ìƒ‰ìƒ)ì„ Baduk ê°ì²´ì— ì €ì¥
	5. 4ë²ˆì˜ Badukê°ì²´ë¥¼ ë°”ë‘‘ì•Œì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” ë²¡í„°(badukRock)ì— ì¶”ê°€ ì €ì¥
	6. ëª¨ë“  í´ë¼ì´ì–¸íŠ¸ì— SET_BADUK_ROCK ìƒíƒœì— 5ë²ˆ ê°ì²´ë¥¼ ì „ì†¡
 */</span>
  <span class="kd">public</span> <span class="kd">synchronized</span> <span class="kt">void</span> <span class="nf">sendBadukRock</span><span class="o">(</span><span class="nc">BadukService</span> <span class="n">c</span><span class="o">,</span> <span class="nc">Object</span> <span class="n">obj</span><span class="o">){</span>
		<span class="k">if</span> <span class="o">(</span><span class="n">currentClient</span> <span class="o">!=</span> <span class="n">c</span><span class="o">)</span> <span class="k">return</span><span class="o">;</span>
  	   	
  
		<span class="nc">Vector</span> <span class="n">v</span> <span class="o">=</span> <span class="o">(</span><span class="nc">Vector</span><span class="o">)</span><span class="n">obj</span><span class="o">;</span>
   	<span class="kt">int</span> <span class="n">row</span> <span class="o">=</span> <span class="o">((</span><span class="nc">Integer</span><span class="o">)</span><span class="n">v</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">)).</span><span class="na">intValue</span><span class="o">();</span>
   	<span class="kt">int</span> <span class="n">col</span> <span class="o">=</span> <span class="o">((</span><span class="nc">Integer</span><span class="o">)</span><span class="n">v</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">1</span><span class="o">)).</span><span class="na">intValue</span><span class="o">();</span>

		<span class="kt">int</span> <span class="n">color</span> <span class="o">=</span> <span class="nc">Baduk</span><span class="o">.</span><span class="na">BLACK_BADUK</span><span class="o">;</span>
  	<span class="k">if</span> <span class="o">(</span><span class="n">c</span> <span class="o">==</span> <span class="n">whiteClient</span><span class="o">)</span>
  	  <span class="n">color</span> <span class="o">=</span> <span class="nc">Baduk</span><span class="o">.</span><span class="na">WHITE_BADUK</span><span class="o">;</span>
  	   	
  	<span class="nc">Baduk</span> <span class="n">al</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Baduk</span><span class="o">(</span><span class="n">color</span><span class="o">,</span> <span class="n">row</span><span class="o">,</span> <span class="n">col</span><span class="o">);</span>
  	<span class="n">badukRock</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">al</span><span class="o">);</span>

  	<span class="nc">BadukServerProtocol</span> <span class="n">p</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BadukServerProtocol</span><span class="o">();</span>
		<span class="n">p</span><span class="o">.</span><span class="na">setState</span><span class="o">(</span><span class="nc">BadukServerProtocol</span><span class="o">.</span><span class="na">SET_BADUK_ROCK</span><span class="o">);</span>
		<span class="n">p</span><span class="o">.</span><span class="na">setData</span><span class="o">(</span><span class="n">al</span><span class="o">);</span>
  	<span class="n">broadcast</span><span class="o">(</span><span class="n">p</span><span class="o">);</span>

  	<span class="c1">//------------------------------------------------------------</span>
 	  <span class="c1">//  2. ì˜¤ëª© í™•ì¸ ì²´í¬í•˜ê¸°</span>
 	  <span class="n">badukPan</span><span class="o">[</span><span class="n">row</span><span class="o">][</span><span class="n">col</span><span class="o">]</span> <span class="o">=</span> <span class="n">color</span><span class="o">;</span>
 	  <span class="c1">// isGame(b);</span>

   	<span class="k">if</span><span class="o">(</span><span class="n">isGame</span><span class="o">(</span><span class="n">al</span><span class="o">))</span> <span class="o">{</span>
 			<span class="c1">// ìŠ¹íŒ¨ê°€ ê²°ì •ë˜ë©´ ê²Œì„ì¢…ë£Œí•˜ê¸°</span>
   		<span class="n">gameEnd</span><span class="o">();</span>
   		<span class="k">return</span><span class="o">;</span>
   	<span class="o">}</span>	
   		
   		
		<span class="c1">//------------------------------------------------------------</span>
		<span class="c1">//  1. ìˆœì„œë¥¼ ë°”ê¾¸ê¸° ( í‘-&gt; ë°±, ë°± -&gt; í‘ )</span>
  	<span class="k">if</span><span class="o">(</span><span class="n">currentClient</span> <span class="o">==</span> <span class="n">blackClient</span><span class="o">)</span>
  	  <span class="n">currentClient</span> <span class="o">=</span> 	<span class="n">whiteClient</span><span class="o">;</span>
  	<span class="k">else</span>
  	  <span class="n">currentClient</span> <span class="o">=</span> 	<span class="n">blackClient</span><span class="o">;</span>
  <span class="o">}</span>

	<span class="c1">//##################################################################</span>
	<span class="cm">/*  ê°€ì¥ ìµœê·¼ì— ë†“ì—¬ì§„ ë°”ë‘‘ì•Œ ì •ë³´ë¥¼ ê¸°ì ìœ¼ë¡œ ìƒí•˜ì¢Œìš°ëŒ€ê°ì„  ë°©í–¥ìœ¼ë¡œ
	  ë™ì¼í•œ ìƒ‰ì˜ ë°”ë‘‘ì•Œì´ 5ê°œ ìˆëŠ”ì§€ í™•ì¸
	 */</span>
  <span class="kd">public</span>  <span class="kd">synchronized</span> <span class="kt">boolean</span> <span class="nf">isGame</span><span class="o">(</span><span class="nc">Baduk</span> <span class="n">curBaduk</span><span class="o">)</span> <span class="o">{</span>
		<span class="kt">boolean</span> <span class="n">bend</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
		<span class="kt">int</span> <span class="n">row</span> <span class="o">=</span> <span class="n">curBaduk</span><span class="o">.</span><span class="na">getRow</span><span class="o">();</span>
		<span class="kt">int</span> <span class="n">col</span> <span class="o">=</span> <span class="n">curBaduk</span><span class="o">.</span><span class="na">getCol</span><span class="o">();</span>
		<span class="kt">int</span> <span class="n">color</span> <span class="o">=</span> <span class="n">curBaduk</span><span class="o">.</span><span class="na">getColor</span><span class="o">();</span>
		<span class="kt">int</span> <span class="n">number</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
		<span class="n">winner</span> <span class="o">=</span> <span class="n">currentClient</span><span class="o">.</span><span class="na">getID</span><span class="o">();</span>
		<span class="n">number</span> <span class="o">+=</span> <span class="n">getSerialNumber</span><span class="o">(</span><span class="n">row</span><span class="o">,</span> <span class="n">col</span><span class="o">,</span> <span class="n">color</span><span class="o">,</span> <span class="o">-</span><span class="mi">1</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span><span class="c1">//Up</span>
		<span class="k">if</span><span class="o">(</span><span class="n">number</span> <span class="o">&gt;=</span> <span class="mi">5</span><span class="o">)</span>
			<span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
		<span class="n">number</span> <span class="o">+=</span> <span class="n">getSerialNumber</span><span class="o">(</span><span class="n">row</span><span class="o">+</span><span class="mi">1</span><span class="o">,</span> <span class="n">col</span><span class="o">,</span> <span class="n">color</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span><span class="c1">//Down </span>
		<span class="k">if</span><span class="o">(</span><span class="n">number</span> <span class="o">&gt;=</span> <span class="mi">5</span><span class="o">)</span>
			<span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
		<span class="n">number</span> <span class="o">=</span> <span class="n">getSerialNumber</span><span class="o">(</span><span class="n">row</span><span class="o">,</span> <span class="n">col</span><span class="o">,</span> <span class="n">color</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="o">-</span><span class="mi">1</span><span class="o">);</span><span class="c1">//Left</span>
		<span class="k">if</span><span class="o">(</span><span class="n">number</span> <span class="o">&gt;=</span> <span class="mi">5</span><span class="o">)</span>
			<span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
		<span class="n">number</span> <span class="o">+=</span> <span class="n">getSerialNumber</span><span class="o">(</span><span class="n">row</span><span class="o">,</span> <span class="n">col</span><span class="o">+</span><span class="mi">1</span><span class="o">,</span> <span class="n">color</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span><span class="c1">//Right </span>
		<span class="k">if</span><span class="o">(</span><span class="n">number</span> <span class="o">&gt;=</span> <span class="mi">5</span><span class="o">)</span>
			<span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
		<span class="n">number</span> <span class="o">=</span> <span class="n">getSerialNumber</span><span class="o">(</span><span class="n">row</span><span class="o">,</span> <span class="n">col</span><span class="o">,</span> <span class="n">color</span><span class="o">,</span> <span class="o">-</span><span class="mi">1</span><span class="o">,</span> <span class="o">-</span><span class="mi">1</span><span class="o">);</span><span class="c1">//left , Up</span>
		<span class="k">if</span><span class="o">(</span><span class="n">number</span> <span class="o">&gt;=</span> <span class="mi">5</span><span class="o">)</span>
			<span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
		<span class="n">number</span> <span class="o">+=</span> <span class="n">getSerialNumber</span><span class="o">(</span><span class="n">row</span><span class="o">+</span><span class="mi">1</span><span class="o">,</span> <span class="n">col</span><span class="o">+</span><span class="mi">1</span><span class="o">,</span> <span class="n">color</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span><span class="c1">//right, down</span>
		<span class="k">if</span><span class="o">(</span><span class="n">number</span> <span class="o">&gt;=</span> <span class="mi">5</span><span class="o">)</span>
			<span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
		<span class="n">number</span> <span class="o">=</span> <span class="n">getSerialNumber</span><span class="o">(</span><span class="n">row</span><span class="o">,</span> <span class="n">col</span><span class="o">,</span> <span class="n">color</span><span class="o">,</span> <span class="o">-</span><span class="mi">1</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span><span class="c1">//right, up</span>
		<span class="k">if</span><span class="o">(</span><span class="n">number</span> <span class="o">&gt;=</span> <span class="mi">5</span><span class="o">)</span>
			<span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
		<span class="n">number</span> <span class="o">+=</span> <span class="n">getSerialNumber</span><span class="o">(</span><span class="n">row</span><span class="o">+</span><span class="mi">1</span><span class="o">,</span> <span class="n">col</span><span class="o">-</span><span class="mi">1</span><span class="o">,</span> <span class="n">color</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="o">-</span><span class="mi">1</span><span class="o">);</span><span class="c1">//left , Down</span>
		<span class="k">if</span><span class="o">(</span><span class="n">number</span> <span class="o">&gt;=</span> <span class="mi">5</span><span class="o">)</span>
			<span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
	   <span class="n">winner</span> <span class="o">=</span> <span class="s">"ë¬´ìŠ¹ë¶€"</span><span class="o">;</span>
		<span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
   <span class="o">}</span>

  <span class="kd">public</span> <span class="kd">synchronized</span> <span class="kt">int</span> <span class="nf">getSerialNumber</span><span class="o">(</span><span class="kt">int</span> <span class="n">row</span><span class="o">,</span> <span class="kt">int</span> <span class="n">col</span><span class="o">,</span> <span class="kt">int</span> <span class="n">color</span><span class="o">,</span> <span class="kt">int</span> <span class="n">rInc</span><span class="o">,</span> <span class="kt">int</span> <span class="n">cInc</span><span class="o">)</span> <span class="o">{</span>
   	<span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
   	
   	<span class="k">while</span><span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
   		<span class="k">if</span><span class="o">(</span><span class="n">row</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">row</span> <span class="o">&gt;</span> <span class="mi">18</span> <span class="o">||</span> <span class="n">col</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">col</span> <span class="o">&gt;</span> <span class="mi">18</span><span class="o">)</span>
   			<span class="k">break</span><span class="o">;</span>
   		<span class="k">if</span><span class="o">(</span><span class="n">badukPan</span><span class="o">[</span><span class="n">row</span><span class="o">][</span><span class="n">col</span><span class="o">]</span> <span class="o">!=</span> <span class="n">color</span><span class="o">)</span>
   			<span class="k">break</span><span class="o">;</span>
   		<span class="n">row</span> <span class="o">+=</span> <span class="n">rInc</span><span class="o">;</span>
   		<span class="n">col</span> <span class="o">+=</span> <span class="n">cInc</span><span class="o">;</span>
  		<span class="n">n</span><span class="o">++;</span>
  	<span class="o">}</span>
  	<span class="k">return</span> <span class="n">n</span><span class="o">;</span>
  <span class="o">}</span>


   <span class="c1">//------------------------------------------------------------</span>
   <span class="cm">/* í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ê²Œì„ì´ ëë‚¬ìŒì„ ì „ì†¡
	*/</span>
  <span class="kd">public</span> <span class="kd">synchronized</span> <span class="kt">void</span> <span class="nf">gameEnd</span><span class="o">()</span> <span class="o">{</span>
	  <span class="n">reStartInit</span><span class="o">();</span> 
  	<span class="nc">BadukServerProtocol</span>  <span class="n">p</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BadukServerProtocol</span><span class="o">();</span>
		<span class="n">p</span><span class="o">.</span><span class="na">setState</span><span class="o">(</span><span class="nc">BadukServerProtocol</span><span class="o">.</span><span class="na">END_GAME</span><span class="o">);</span>
		<span class="n">p</span><span class="o">.</span><span class="na">setData</span><span class="o">(</span><span class="n">winner</span><span class="o">);</span>
  	<span class="n">broadcast</span><span class="o">(</span><span class="n">p</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kd">synchronized</span> <span class="kt">void</span> <span class="nf">reStartInit</span><span class="o">()</span> <span class="o">{</span>
		<span class="n">currentClient</span>	<span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
		<span class="n">whiteClient</span>		<span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
		<span class="n">blackClient</span>		<span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
		<span class="n">badukRock</span>		<span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
		<span class="n">badukPan</span>		<span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
  <span class="o">}</span>


  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">arg</span><span class="o">)</span> <span class="o">{</span>
   	<span class="nc">BadukServer</span> <span class="n">cs</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BadukServer</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="badukserverprotocol">BadukServerProtocol</h2>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//=============================================================</span>
<span class="c1">//	ì„œë²„ì—ì„œ í´ë¼ì´ì–¸íŠ¸ë¡œ ì „ì†¡í•   ë°ì´íƒ€ë¥¼ ìº¡ìŠí™”í•œ í´ë˜ìŠ¤</span>
<span class="c1">//=============================================================</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">BadukServerProtocol</span> <span class="kd">implements</span> <span class="n">java</span><span class="o">.</span><span class="na">io</span><span class="o">.</span><span class="na">Serializable</span> <span class="o">{</span>
	<span class="c1">// ì„œë²„ì—ì„œ í´ë¼ì´ì–¸íŠ¸ë¡œ ì „ì†¡ì‹œ ìƒíƒœê°’</span>
	
	<span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span>		<span class="nc">Chatting</span>		 <span class="o">=</span> <span class="mi">200</span><span class="o">;</span> <span class="c1">// ì±„íŒ…ë©”ì„¸ì§€</span>
	<span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span>		<span class="no">CHANGE_MEMBER_ID</span> <span class="o">=</span> <span class="mi">100</span><span class="o">;</span> 	<span class="c1">// ë©¤ë²„ ì•„ì´ë”” ë³€ê²½ì‹œ</span>
	<span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span>		<span class="no">SET_BADUK_GAMMER</span> <span class="o">=</span> <span class="mi">300</span><span class="o">;</span> <span class="c1">// ê²Œì„ì ì§€ì •ì‹œ</span>

	<span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span>		<span class="no">START_GAME</span>		 <span class="o">=</span>  <span class="mi">10</span><span class="o">;</span> <span class="c1">// ê²Œì„ ì‹œì‘ì‹œ</span>
	<span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span>		<span class="no">END_GAME</span>		 <span class="o">=</span>  <span class="mi">20</span><span class="o">;</span> <span class="c1">// ê²Œì„ ì¢…ë£Œì‹œ</span>
	<span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span>		<span class="no">SET_BADUK_ROCK</span>   <span class="o">=</span>  <span class="mi">30</span><span class="o">;</span> <span class="c1">// ë°”ë‘‘ì•Œì´ ë†“ì—¬ì¡Œì„ë•Œ</span>


	<span class="nc">Object</span> 						<span class="n">data</span><span class="o">;</span>
	<span class="kt">int</span>               <span class="n">state</span><span class="o">;</span>
	<span class="kd">public</span> <span class="nf">BadukServerProtocol</span><span class="o">()</span> <span class="o">{</span>
		
	<span class="o">}</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setData</span><span class="o">(</span><span class="nc">Object</span> <span class="n">obj</span><span class="o">)</span> <span class="o">{</span>
		<span class="n">data</span> <span class="o">=</span> <span class="n">obj</span><span class="o">;</span>		
	<span class="o">}</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setState</span><span class="o">(</span><span class="kt">int</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span>
		<span class="n">state</span> <span class="o">=</span> <span class="n">s</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="nc">Object</span> <span class="nf">getData</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">data</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="kt">int</span> <span class="nf">getState</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">state</span><span class="o">;</span>
	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="badukservice">BadukService</h2>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//===================================================</span>
<span class="c1">//	í•œ í´ë¼ì´ì–¸íŠ¸ì™€ ì†Œì¼“ìœ¼ë¡œ ë°ì´íƒ€ë¥¼ ì£¼ê³  ë°›ëŠ” í´ë˜ìŠ¤</span>
<span class="c1">//===================================================</span>
<span class="kn">import</span> <span class="nn">java.io.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.*</span><span class="o">;</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">BadukService</span> <span class="kd">extends</span> <span class="nc">Thread</span> <span class="o">{</span>
  <span class="nc">String</span> <span class="n">id</span> <span class="o">=</span> <span class="s">"guest"</span><span class="o">;</span>
	
	<span class="nc">Socket</span>			      	<span class="n">socServer</span> <span class="o">;</span>
   
	<span class="nc">ObjectInputStream</span>   <span class="n">inStream</span><span class="o">;</span>
	<span class="nc">ObjectOutputStream</span>	<span class="n">outStream</span><span class="o">;</span>
  <span class="nc">BadukServer</span> 		    <span class="n">server</span><span class="o">;</span>



    <span class="c1">//----------------------------------------------------------</span>
	<span class="cm">/*	ìƒì„±ì í•¨ìˆ˜
		1. ì¸ìë¡œ ë„˜ê²¨ë°›ì€ ê°ì²´ë¥¼ ë©¤ë²„ë³€ìˆ˜ë¡œ ì§€ì •
		2. ì†Œì¼“ì˜ ì…ì¶œë ¥ ìŠ¤íŠ¸ë¦¼ ì–»ì–´ì˜¤ê¸°
		3. ì“°ë ˆë“œ êµ¬í˜„
	*/</span>
  <span class="kd">public</span> <span class="nf">BadukService</span><span class="o">(</span><span class="nc">BadukServer</span> <span class="n">server</span><span class="o">,</span> <span class="nc">Socket</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">{</span>
    	  <span class="k">this</span><span class="o">.</span><span class="na">server</span> <span class="o">=</span> <span class="n">server</span><span class="o">;</span>
    	  <span class="n">socServer</span> <span class="o">=</span> <span class="n">s</span><span class="o">;</span>

				<span class="n">outStream</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ObjectOutputStream</span><span class="o">(</span><span class="n">socServer</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">());</span>
				<span class="n">inStream</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ObjectInputStream</span><span class="o">(</span><span class="n">socServer</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">());</span>
				<span class="n">start</span><span class="o">();</span>
			
      <span class="o">}</span><span class="k">catch</span><span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{}</span>
    <span class="o">}</span>



	<span class="c1">//---------------------------------------------------------</span>
	<span class="cm">/*	ì“°ë ˆë“œ ë£¨í•‘êµ¬ë¬¸ìœ¼ë¡œ í´ë¼ì´ì–¸íŠ¸ê°€ ì „ì†¡í•œ ë°ì´íƒ€ ì½ê¸°
		ë°ì´íƒ€ì˜ ìƒíƒœì— ë”°ë¼ ê°ê°ì˜ êµ¬í˜„ í•¨ìˆ˜ í˜¸ì¶œ
	*/</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">try</span> <span class="o">{</span>
			<span class="k">while</span><span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
				<span class="nc">BadukClientProtocol</span>  <span class="n">obj</span> <span class="o">=</span> <span class="o">(</span><span class="nc">BadukClientProtocol</span><span class="o">)</span><span class="n">inStream</span><span class="o">.</span><span class="na">readObject</span><span class="o">();</span>
				<span class="kt">int</span> <span class="n">state</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="na">getState</span><span class="o">();</span>
				<span class="nc">Object</span>  <span class="n">data</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="na">getData</span><span class="o">();</span>
				<span class="k">switch</span><span class="o">(</span><span class="n">state</span><span class="o">)</span> <span class="o">{</span>
					<span class="c1">// í´ë¼ì´ì–¸íŠ¸ì˜ ì³‡íŒ… ë©”ì„¸ì§€ë¥¼ ë°›ì€ ê²½ìš°</span>
					<span class="k">case</span> <span class="nc">BadukClientProtocol</span><span class="o">.</span><span class="na">Chatting</span> <span class="o">:</span>	<span class="n">setChatting</span><span class="o">(</span><span class="n">data</span><span class="o">);</span> <span class="k">break</span><span class="o">;</span>

<span class="c1">//--&gt; 3				// í´ë¼ì´ì–¸íŠ¸ ì ‘ì† í›„ ì•„ì´ë””ë¥¼ ë°›ì€ ê²½ìš°</span>
					<span class="k">case</span> <span class="nc">BadukClientProtocol</span><span class="o">.</span><span class="na">SEND_ID</span> <span class="o">:</span>	<span class="n">setID</span><span class="o">((</span><span class="nc">String</span><span class="o">)</span><span class="n">data</span><span class="o">);</span> <span class="k">break</span><span class="o">;</span>
					<span class="c1">// ì¢…ë£Œì‹œ</span>
					<span class="k">case</span> <span class="nc">BadukClientProtocol</span><span class="o">.</span><span class="na">EXIT</span>	<span class="o">:</span>	<span class="n">removeID</span><span class="o">((</span><span class="nc">String</span><span class="o">)</span><span class="n">data</span><span class="o">);</span> <span class="k">break</span><span class="o">;</span>
					
<span class="c1">//--&gt; 4				// í´ë¼ì´ì–¸íŠ¸ì˜ ê²Œì„ìš”ì²­ì„ ë°›ì€ ê²½ìš°</span>
					<span class="k">case</span> <span class="nc">BadukClientProtocol</span><span class="o">.</span><span class="na">REQUEST_GAME</span> <span class="o">:</span> <span class="n">requestGame</span><span class="o">();</span> <span class="k">break</span><span class="o">;</span>

<span class="c1">//--&gt; 6				// í´ë¼ì´ì–¸íŠ¸ê°€ ë°”ë‘‘íŒì— í´ë¦­í–ˆì„ë•Œì˜ ë°”ë‘‘ì•Œì •ë³´ë¥¼ ë°›ì€ ê²½ìš°</span>
					<span class="k">case</span> <span class="nc">BadukClientProtocol</span><span class="o">.</span><span class="na">SET_BADUK_ROCK</span> <span class="o">:</span>  <span class="n">setBadukRock</span><span class="o">(</span><span class="n">data</span><span class="o">);</span> <span class="k">break</span><span class="o">;</span>
					
				<span class="o">}</span>
			<span class="o">}</span>
		<span class="o">}</span><span class="k">catch</span><span class="o">(</span><span class="nc">Exception</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
		<span class="o">}</span>
	<span class="o">}</span><span class="c1">//run</span>

	<span class="c1">//--------------------------------------------------------</span>
	<span class="cm">/*	í´ë¼ì´ì–¸íŠ¸ê°€ ì±—íŒ…ì„ ìœ„í•œ ë°ì´íƒ€ ê°ì²´ë¥¼ ì „ì†¡í–ˆì„ë•Œ
		ê·¸ ê°ì²´ì˜ data ê°’ì„ ê° í´ë¼ì´ì–¸íŠ¸ì— ì „ì†¡
	*/</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setChatting</span><span class="o">(</span><span class="nc">Object</span> <span class="n">data</span><span class="o">)</span> <span class="o">{</span>
		<span class="nc">String</span> <span class="n">str</span> <span class="o">=</span> <span class="n">id</span> <span class="o">+</span> <span class="s">" &gt;&gt; "</span> <span class="o">+</span> <span class="o">(</span><span class="nc">String</span><span class="o">)</span><span class="n">data</span><span class="o">;</span>
		<span class="n">server</span><span class="o">.</span><span class="na">setChatting</span><span class="o">(</span><span class="n">str</span><span class="o">);</span>
	<span class="o">}</span>

	<span class="c1">//--------------------------------------------------------</span>
	<span class="cm">/*	ì†Œì¼“ì˜ ì¶œë ¥ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ì „ì†¡ê°ì²´ ì „ì†¡
	*/</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">sendInformation</span><span class="o">(</span><span class="nc">Object</span> <span class="n">obj</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">{</span>
    	<span class="n">outStream</span><span class="o">.</span><span class="na">writeObject</span><span class="o">(</span><span class="n">obj</span><span class="o">);</span>
    <span class="o">}</span><span class="k">catch</span><span class="o">(</span><span class="nc">IOException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
    <span class="o">}</span>
  <span class="o">}</span>

<span class="c1">// --&gt; 3</span>
	<span class="c1">//--------------------------------------------------------</span>
	<span class="cm">/*	ì½ì–´ë“¤ì¸ ì•„ì´ë””ë¥¼ ë©¤ë²„ë³€ìˆ˜ idë¡œ ì§€ì •í•˜ê³  ëª¨ë“  í´ë¼ì´ì–¸íŠ¸ì˜ ë©¤ë²„ ì¶”ê°€ë¥¼ ì „ì†¡
	*/</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setID</span><span class="o">(</span><span class="nc">String</span> <span class="n">id</span><span class="o">)</span> <span class="o">{</span>

    	<span class="k">this</span><span class="o">.</span><span class="na">id</span> <span class="o">=</span> <span class="n">id</span><span class="o">;</span>
      	<span class="n">server</span><span class="o">.</span><span class="na">sendAddMember</span><span class="o">();</span>		
		
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getID</span><span class="o">()</span> <span class="o">{</span>
    	<span class="k">return</span> <span class="n">id</span><span class="o">;</span>
    <span class="o">}</span>

	<span class="c1">// ì¢…ë£Œì‹œ</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">removeID</span><span class="o">(</span><span class="nc">String</span> <span class="n">id</span><span class="o">)</span> <span class="o">{</span>
      	<span class="n">server</span><span class="o">.</span><span class="na">sendRemoveMember</span><span class="o">(</span><span class="n">id</span><span class="o">);</span>
    <span class="o">}</span>

<span class="c1">//--&gt; 4</span>
   <span class="kd">public</span> <span class="kt">void</span> <span class="nf">requestGame</span><span class="o">()</span> <span class="o">{</span>
   		<span class="n">server</span><span class="o">.</span><span class="na">requestGame</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
   <span class="o">}</span>

<span class="c1">//--&gt; 6</span>
	<span class="c1">//-----------------------------------------------------</span>
	<span class="cm">/* ë°”ë‘‘ì•Œì˜ ì •ë³´ë¥¼ ë‹´ì€ ë°ì´íƒ€ë¥¼ ë°›ì•„ ê°ê°ì˜ í–‰ê³¼ ì—´ê°’ì„ ì–»ì–´ ê°ê° í´ë¼ì´ì–¸íŠ¸ì— ì „ì†¡
	 */</span>
   	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setBadukRock</span><span class="o">(</span><span class="nc">Object</span> <span class="n">data</span><span class="o">)</span> <span class="o">{</span>
		<span class="n">server</span><span class="o">.</span><span class="na">sendBadukRock</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">data</span><span class="o">);</span>		
		<span class="o">}</span>
<span class="o">}</span>	 
</code></pre></div></div>
:ET